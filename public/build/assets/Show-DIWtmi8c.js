import{r as v,j as e,L as _,$ as r,S as b,t as y}from"./app-YfAqnR7f.js";import{B as t}from"./button-CbisaLmO.js";import{B as d}from"./badge-B9st0FZz.js";import{C as o,d as n,a as w,b as D,c as B}from"./card-184hTnvA.js";import{P as U}from"./page-header-B91PCHI4.js";import{A as $}from"./app-layout-COLkdL-_.js";import{A as E,a as H,b as O,c as F,d as V,e as q,f as R,g as z}from"./alert-dialog-BgMsi-4n.js";import{A as G}from"./arrow-left-CvZHwRU4.js";import{D as C}from"./database-Dvh0JOEn.js";import{S as J}from"./square-pen-CIb3Wo6C.js";import{T as A}from"./trash-p7FAjOH6.js";import{T as K}from"./triangle-alert-Dle-CcDC.js";import{T as I}from"./tag-Cw_E9OYd.js";import{L as k}from"./layers-D7clE3I3.js";import{U as M}from"./user-C2eX9d_E.js";import{f as S}from"./index-CaunA62S.js";import{C as Q}from"./calendar-DRTarkTF.js";import{C as W}from"./clock-S9iKf3Tr.js";import{L as X}from"./loader-circle-Cjd_IsB-.js";import"./utils-VXzwhqC1.js";import"./index-DK972n6K.js";import"./createLucideIcon-BKvLtUqt.js";import"./index-BC0tnl-N.js";import"./index-D9Wsk12K.js";import"./index-C2Xbs3d_.js";import"./x-CUCKIsNl.js";import"./index-CuGmnaN-.js";import"./avatar-Du_tf7pZ.js";import"./translate-BsBDFk7S.js";import"./file-text-C1GLrAVP.js";import"./users-Dcm7r78U.js";import"./qr-code-BkqhmOCJ.js";import"./chart-column-caK4rhCu.js";import"./map-pin-Ci-gwDht.js";import"./building-Ce6TO76f.js";function _e({item:s,hasChildren:c}){var h,f,u,j,p,g,N;const T=[{title:"Dashboard",href:"/dashboard"},{title:"Settings",href:"#"},{title:"Stat Categories",href:route("stat-categories.index")},{title:((h=s.category)==null?void 0:h.label)||"Category",href:route("stat-categories.show",(f=s.category)==null?void 0:f.id)},{title:s.name,href:route("stat-category-items.show",s.id)}],[L,l]=v.useState(!1),[i,m]=v.useState(!1);function x(){l(!0)}function P(){m(!0),b.delete(route("stat-category-items.destroy",s.id),{onSuccess:()=>{y.success(`Item "${s.name}" deleted successfully`),b.visit(route("stat-category-items.index",{category_id:s.stat_category_id}))},onError:a=>{m(!1),l(!1),y.error("Failed to delete item"),console.error(a)}})}return e.jsxs($,{breadcrumbs:T,children:[e.jsx(_,{title:`Item - ${s.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(U,{title:s.label,description:`Item: ${s.name}`,actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",asChild:!0,children:e.jsxs(r,{href:route("stat-category-items.index",{category_id:s.stat_category_id}),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsx(t,{asChild:!0,variant:"outline",children:e.jsxs(r,{href:route("stat-categories.show",(u=s.category)==null?void 0:u.id),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"View Category"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:route("stat-category-items.edit",s.id),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(t,{variant:"destructive",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})}),c&&e.jsx(o,{className:"bg-amber-50 dark:bg-amber-950 border-amber-200 dark:border-amber-800 mb-2",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"text-amber-600 dark:text-amber-400",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-800 dark:text-amber-300",children:"This item has child items"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Values cannot be assigned to this item because it has children. Values can only be assigned to leaf items without children."})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(o,{className:"md:col-span-2",children:[e.jsxs(w,{children:[e.jsx(D,{children:"Item Details"}),e.jsx(B,{children:"Detailed information about this statistical category item"})]}),e.jsxs(n,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 border-b pb-4",children:[e.jsx(d,{variant:s.status==="active"?"default":"secondary",className:"flex items-center",children:s.status}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:[e.jsx("div",{className:"mr-1 h-3 w-3 rounded-full",style:{backgroundColor:s.color||((j=s.category)==null?void 0:j.color)}}),s.color||"Using category default color"]}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:["Order: ",s.order]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Information"}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"System Name: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Display Label: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.label})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Category: "}),e.jsx(r,{href:route("stat-categories.show",(p=s.category)==null?void 0:p.id),className:"ml-1 font-medium text-primary hover:underline",children:(g=s.category)==null?void 0:g.label})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hierarchy Information"}),e.jsxs("div",{className:"mt-2 space-y-3 text-sm",children:[s.parent&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Parent Item:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(r,{href:route("stat-category-items.show",s.parent.id),className:"text-primary hover:underline",children:s.parent.label})]})]}),c&&s.children&&s.children.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Child Items:"}),e.jsx("div",{className:"space-y-1 ml-6",children:s.children.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(r,{href:route("stat-category-items.show",a.id),className:"text-primary hover:underline",children:a.label})]},a.id))})]}),!s.parent&&(!s.children||s.children.length===0)&&e.jsx("div",{className:"text-muted-foreground",children:"This is a standalone item with no parent or children."})]})]})]})]}),e.jsxs(o,{children:[e.jsx(w,{children:e.jsx(D,{children:"Item Information"})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(M,{className:"h-4 w-4 mr-2 text-muted-foreground"}),((N=s.creator)==null?void 0:N.name)||"Unknown"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-muted-foreground"}),S(new Date(s.created_at),"PPP")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(W,{className:"h-4 w-4 mr-2 text-muted-foreground"}),S(new Date(s.updated_at),"PPP p")]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(t,{variant:"destructive",className:"w-full",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete Item"]})})]})]})]})]}),e.jsx(E,{open:L,onOpenChange:l,children:e.jsxs(H,{children:[e.jsxs(O,{children:[e.jsx(F,{children:"Are you sure?"}),e.jsxs(V,{children:["This will permanently delete the item",e.jsxs("span",{className:"font-semibold",children:[" ",s.name]}),". This action cannot be undone."]})]}),e.jsxs(q,{children:[e.jsx(R,{disabled:i,children:"Cancel"}),e.jsx(z,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}export{_e as default};
