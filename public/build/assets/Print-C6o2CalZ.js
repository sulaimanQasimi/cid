import{U as w,r as I,b as ge,j as e,L as fe}from"./app-D4yy8cwY.js";import{u as be}from"./translate-8P3L5hfX.js";import{F as V}from"./file-text-BJPf44GB.js";import{X as ye,S as ve}from"./x-BfOQa8Gr.js";import{P as G}from"./palette-DQtuNTAD.js";import{T as X}from"./type-CNDZvnbL.js";import{P as W}from"./panels-top-left-CQKC-udt.js";import{T as K}from"./tag-C7WooPon.js";import{T as Z}from"./tablet-smartphone-CIZOJ7ev.js";import{P as Ne}from"./printer-NLwrGQgH.js";import{U as je}from"./user-round-CJr4wryX.js";import{f as Ce}from"./index-CaunA62S.js";import"./createLucideIcon-CJLoyPUx.js";var we=Object.defineProperty,T=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,J=(d,l,h)=>l in d?we(d,l,{enumerable:!0,configurable:!0,writable:!0,value:h}):d[l]=h,L=(d,l)=>{for(var h in l||(l={}))q.call(l,h)&&J(d,h,l[h]);if(T)for(var h of T(l))ee.call(l,h)&&J(d,h,l[h]);return d},D=(d,l)=>{var h={};for(var u in d)q.call(d,u)&&l.indexOf(u)<0&&(h[u]=d[u]);if(d!=null&&T)for(var u of T(d))l.indexOf(u)<0&&ee.call(d,u)&&(h[u]=d[u]);return h};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var A;(d=>{const l=class b{constructor(t,s,r,o){if(this.version=t,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],t<b.MIN_VERSION||t>b.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let c=[];for(let i=0;i<this.size;i++)c.push(!1);for(let i=0;i<this.size;i++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(r);if(this.drawCodewords(x),o==-1){let i=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const g=this.getPenaltyScore();g<i&&(o=f,i=g),this.applyMask(f)}}y(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}static encodeText(t,s){const r=d.QrSegment.makeSegments(t);return b.encodeSegments(r,s)}static encodeBinary(t,s){const r=d.QrSegment.makeBytes(t);return b.encodeSegments([r],s)}static encodeSegments(t,s,r=1,o=40,c=-1,x=!0){if(!(b.MIN_VERSION<=r&&r<=o&&o<=b.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let i,f;for(i=r;;i++){const a=b.getNumDataCodewords(i,s)*8,m=n.getTotalBits(t,i);if(m<=a){f=m;break}if(i>=o)throw new RangeError("Data too long")}for(const a of[b.Ecc.MEDIUM,b.Ecc.QUARTILE,b.Ecc.HIGH])x&&f<=b.getNumDataCodewords(i,a)*8&&(s=a);let g=[];for(const a of t){h(a.mode.modeBits,4,g),h(a.numChars,a.mode.numCharCountBits(i),g);for(const m of a.getData())g.push(m)}y(g.length==f);const E=b.getNumDataCodewords(i,s)*8;y(g.length<=E),h(0,Math.min(4,E-g.length),g),h(0,(8-g.length%8)%8,g),y(g.length%8==0);for(let a=236;g.length<E;a^=253)h(a,8,g);let j=[];for(;j.length*8<g.length;)j.push(0);return g.forEach((a,m)=>j[m>>>3]|=a<<7-(m&7)),new b(i,s,j,c)}getModule(t,s){return 0<=t&&t<this.size&&0<=s&&s<this.size&&this.modules[s][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),s=t.length;for(let r=0;r<s;r++)for(let o=0;o<s;o++)r==0&&o==0||r==0&&o==s-1||r==s-1&&o==0||this.drawAlignmentPattern(t[r],t[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const s=this.errorCorrectionLevel.formatBits<<3|t;let r=s;for(let c=0;c<10;c++)r=r<<1^(r>>>9)*1335;const o=(s<<10|r)^21522;y(o>>>15==0);for(let c=0;c<=5;c++)this.setFunctionModule(8,c,u(o,c));this.setFunctionModule(8,7,u(o,6)),this.setFunctionModule(8,8,u(o,7)),this.setFunctionModule(7,8,u(o,8));for(let c=9;c<15;c++)this.setFunctionModule(14-c,8,u(o,c));for(let c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,u(o,c));for(let c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,u(o,c));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let r=0;r<12;r++)t=t<<1^(t>>>11)*7973;const s=this.version<<12|t;y(s>>>18==0);for(let r=0;r<18;r++){const o=u(s,r),c=this.size-11+r%3,x=Math.floor(r/3);this.setFunctionModule(c,x,o),this.setFunctionModule(x,c,o)}}drawFinderPattern(t,s){for(let r=-4;r<=4;r++)for(let o=-4;o<=4;o++){const c=Math.max(Math.abs(o),Math.abs(r)),x=t+o,i=s+r;0<=x&&x<this.size&&0<=i&&i<this.size&&this.setFunctionModule(x,i,c!=2&&c!=4)}}drawAlignmentPattern(t,s){for(let r=-2;r<=2;r++)for(let o=-2;o<=2;o++)this.setFunctionModule(t+o,s+r,Math.max(Math.abs(o),Math.abs(r))!=1)}setFunctionModule(t,s,r){this.modules[s][t]=r,this.isFunction[s][t]=!0}addEccAndInterleave(t){const s=this.version,r=this.errorCorrectionLevel;if(t.length!=b.getNumDataCodewords(s,r))throw new RangeError("Invalid argument");const o=b.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][s],c=b.ECC_CODEWORDS_PER_BLOCK[r.ordinal][s],x=Math.floor(b.getNumRawDataModules(s)/8),i=o-x%o,f=Math.floor(x/o);let g=[];const E=b.reedSolomonComputeDivisor(c);for(let a=0,m=0;a<o;a++){let C=t.slice(m,m+f-c+(a<i?0:1));m+=C.length;const M=b.reedSolomonComputeRemainder(C,E);a<i&&C.push(0),g.push(C.concat(M))}let j=[];for(let a=0;a<g[0].length;a++)g.forEach((m,C)=>{(a!=f-c||C>=i)&&j.push(m[a])});return y(j.length==x),j}drawCodewords(t){if(t.length!=Math.floor(b.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(let o=0;o<this.size;o++)for(let c=0;c<2;c++){const x=r-c,f=(r+1&2)==0?this.size-1-o:o;!this.isFunction[f][x]&&s<t.length*8&&(this.modules[f][x]=u(t[s>>>3],7-(s&7)),s++)}}y(s==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let r=0;r<this.size;r++){let o;switch(t){case 0:o=(r+s)%2==0;break;case 1:o=s%2==0;break;case 2:o=r%3==0;break;case 3:o=(r+s)%3==0;break;case 4:o=(Math.floor(r/3)+Math.floor(s/2))%2==0;break;case 5:o=r*s%2+r*s%3==0;break;case 6:o=(r*s%2+r*s%3)%2==0;break;case 7:o=((r+s)%2+r*s%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[s][r]&&o&&(this.modules[s][r]=!this.modules[s][r])}}getPenaltyScore(){let t=0;for(let c=0;c<this.size;c++){let x=!1,i=0,f=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[c][g]==x?(i++,i==5?t+=b.PENALTY_N1:i>5&&t++):(this.finderPenaltyAddHistory(i,f),x||(t+=this.finderPenaltyCountPatterns(f)*b.PENALTY_N3),x=this.modules[c][g],i=1);t+=this.finderPenaltyTerminateAndCount(x,i,f)*b.PENALTY_N3}for(let c=0;c<this.size;c++){let x=!1,i=0,f=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][c]==x?(i++,i==5?t+=b.PENALTY_N1:i>5&&t++):(this.finderPenaltyAddHistory(i,f),x||(t+=this.finderPenaltyCountPatterns(f)*b.PENALTY_N3),x=this.modules[g][c],i=1);t+=this.finderPenaltyTerminateAndCount(x,i,f)*b.PENALTY_N3}for(let c=0;c<this.size-1;c++)for(let x=0;x<this.size-1;x++){const i=this.modules[c][x];i==this.modules[c][x+1]&&i==this.modules[c+1][x]&&i==this.modules[c+1][x+1]&&(t+=b.PENALTY_N2)}let s=0;for(const c of this.modules)s=c.reduce((x,i)=>x+(i?1:0),s);const r=this.size*this.size,o=Math.ceil(Math.abs(s*20-r*10)/r)-1;return y(0<=o&&o<=9),t+=o*b.PENALTY_N4,y(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,s=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let r=[6];for(let o=this.size-7;r.length<t;o-=s)r.splice(1,0,o);return r}}static getNumRawDataModules(t){if(t<b.MIN_VERSION||t>b.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*t+128)*t+64;if(t>=2){const r=Math.floor(t/7)+2;s-=(25*r-10)*r-55,t>=7&&(s-=36)}return y(208<=s&&s<=29648),s}static getNumDataCodewords(t,s){return Math.floor(b.getNumRawDataModules(t)/8)-b.ECC_CODEWORDS_PER_BLOCK[s.ordinal][t]*b.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let s=[];for(let o=0;o<t-1;o++)s.push(0);s.push(1);let r=1;for(let o=0;o<t;o++){for(let c=0;c<s.length;c++)s[c]=b.reedSolomonMultiply(s[c],r),c+1<s.length&&(s[c]^=s[c+1]);r=b.reedSolomonMultiply(r,2)}return s}static reedSolomonComputeRemainder(t,s){let r=s.map(o=>0);for(const o of t){const c=o^r.shift();r.push(0),s.forEach((x,i)=>r[i]^=b.reedSolomonMultiply(x,c))}return r}static reedSolomonMultiply(t,s){if(t>>>8||s>>>8)throw new RangeError("Byte out of range");let r=0;for(let o=7;o>=0;o--)r=r<<1^(r>>>7)*285,r^=(s>>>o&1)*t;return y(r>>>8==0),r}finderPenaltyCountPatterns(t){const s=t[1];y(s<=this.size*3);const r=s>0&&t[2]==s&&t[3]==s*3&&t[4]==s&&t[5]==s;return(r&&t[0]>=s*4&&t[6]>=s?1:0)+(r&&t[6]>=s*4&&t[0]>=s?1:0)}finderPenaltyTerminateAndCount(t,s,r){return t&&(this.finderPenaltyAddHistory(s,r),s=0),s+=this.size,this.finderPenaltyAddHistory(s,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(t,s){s[0]==0&&(t+=this.size),s.pop(),s.unshift(t)}};l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d.QrCode=l;function h(v,t,s){if(t<0||t>31||v>>>t)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)s.push(v>>>r&1)}function u(v,t){return(v>>>t&1)!=0}function y(v){if(!v)throw new Error("Assertion error")}const p=class N{constructor(t,s,r){if(this.mode=t,this.numChars=s,this.bitData=r,s<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let s=[];for(const r of t)h(r,8,s);return new N(N.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!N.isNumeric(t))throw new RangeError("String contains non-numeric characters");let s=[];for(let r=0;r<t.length;){const o=Math.min(t.length-r,3);h(parseInt(t.substring(r,r+o),10),o*3+1,s),r+=o}return new N(N.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){if(!N.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s=[],r;for(r=0;r+2<=t.length;r+=2){let o=N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r))*45;o+=N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),h(o,11,s)}return r<t.length&&h(N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,s),new N(N.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return t==""?[]:N.isNumeric(t)?[N.makeNumeric(t)]:N.isAlphanumeric(t)?[N.makeAlphanumeric(t)]:[N.makeBytes(N.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)h(t,8,s);else if(t<16384)h(2,2,s),h(t,14,s);else if(t<1e6)h(6,3,s),h(t,21,s);else throw new RangeError("ECI assignment value out of range");return new N(N.Mode.ECI,0,s)}static isNumeric(t){return N.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return N.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,s){let r=0;for(const o of t){const c=o.mode.numCharCountBits(s);if(o.numChars>=1<<c)return 1/0;r+=4+c+o.bitData.length}return r}static toUtf8ByteArray(t){t=encodeURI(t);let s=[];for(let r=0;r<t.length;r++)t.charAt(r)!="%"?s.push(t.charCodeAt(r)):(s.push(parseInt(t.substring(r+1,r+3),16)),r+=2);return s}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let n=p;d.QrSegment=p})(A||(A={}));(d=>{(l=>{const h=class{constructor(y,p){this.ordinal=y,this.formatBits=p}};h.LOW=new h(0,1),h.MEDIUM=new h(1,0),h.QUARTILE=new h(2,3),h.HIGH=new h(3,2),l.Ecc=h})(d.QrCode||(d.QrCode={}))})(A||(A={}));(d=>{(l=>{const h=class{constructor(y,p){this.modeBits=y,this.numBitsCharCount=p}numCharCountBits(y){return this.numBitsCharCount[Math.floor((y+7)/17)]}};h.NUMERIC=new h(1,[10,12,14]),h.ALPHANUMERIC=new h(2,[9,11,13]),h.BYTE=new h(4,[8,16,16]),h.KANJI=new h(8,[8,10,12]),h.ECI=new h(7,[0,0,0]),l.Mode=h})(d.QrSegment||(d.QrSegment={}))})(A||(A={}));var k=A;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ee={L:k.QrCode.Ecc.LOW,M:k.QrCode.Ecc.MEDIUM,Q:k.QrCode.Ecc.QUARTILE,H:k.QrCode.Ecc.HIGH},te=128,re="L",se="#FFFFFF",ae="#000000",le=!1,oe=1,Me=4,Se=0,Re=.1;function ne(d,l=0){const h=[];return d.forEach(function(u,y){let p=null;u.forEach(function(n,v){if(!n&&p!==null){h.push(`M${p+l} ${y+l}h${v-p}v1H${p+l}z`),p=null;return}if(v===u.length-1){if(!n)return;p===null?h.push(`M${v+l},${y+l} h1v1H${v+l}z`):h.push(`M${p+l},${y+l} h${v+1-p}v1H${p+l}z`);return}n&&p===null&&(p=v)})}),h.join("")}function ie(d,l){return d.slice().map((h,u)=>u<l.y||u>=l.y+l.h?h:h.map((y,p)=>p<l.x||p>=l.x+l.w?y:!1))}function _e(d,l,h,u){if(u==null)return null;const y=d.length+h*2,p=Math.floor(l*Re),n=y/l,v=(u.width||p)*n,t=(u.height||p)*n,s=u.x==null?d.length/2-v/2:u.x*n,r=u.y==null?d.length/2-t/2:u.y*n,o=u.opacity==null?1:u.opacity;let c=null;if(u.excavate){let i=Math.floor(s),f=Math.floor(r),g=Math.ceil(v+s-i),E=Math.ceil(t+r-f);c={x:i,y:f,w:g,h:E}}const x=u.crossOrigin;return{x:s,y:r,h:t,w:v,excavation:c,opacity:o,crossOrigin:x}}function Ae(d,l){return l!=null?Math.max(Math.floor(l),0):d?Me:Se}function ce({value:d,level:l,minVersion:h,includeMargin:u,marginSize:y,imageSettings:p,size:n,boostLevel:v}){let t=w.useMemo(()=>{const i=(Array.isArray(d)?d:[d]).reduce((f,g)=>(f.push(...k.QrSegment.makeSegments(g)),f),[]);return k.QrCode.encodeSegments(i,Ee[l],h,void 0,void 0,v)},[d,l,h,v]);const{cells:s,margin:r,numCells:o,calculatedImageSettings:c}=w.useMemo(()=>{let x=t.getModules();const i=Ae(u,y),f=x.length+i*2,g=_e(x,n,i,p);return{cells:x,margin:i,numCells:f,calculatedImageSettings:g}},[t,n,p,u,y]);return{qrcode:t,margin:r,cells:s,numCells:o,calculatedImageSettings:c}}var ke=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Pe=w.forwardRef(function(l,h){const u=l,{value:y,size:p=te,level:n=re,bgColor:v=se,fgColor:t=ae,includeMargin:s=le,minVersion:r=oe,boostLevel:o,marginSize:c,imageSettings:x}=u,f=D(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=f,E=D(f,["style"]),j=x==null?void 0:x.src,a=w.useRef(null),m=w.useRef(null),C=w.useCallback(_=>{a.current=_,typeof h=="function"?h(_):h&&(h.current=_)},[h]),[M,O]=w.useState(!1),{margin:P,cells:$,numCells:F,calculatedImageSettings:S}=ce({value:y,level:n,minVersion:r,boostLevel:o,includeMargin:s,marginSize:c,imageSettings:x,size:p});w.useEffect(()=>{if(a.current!=null){const _=a.current,R=_.getContext("2d");if(!R)return;let U=$;const z=m.current,Q=S!=null&&z!==null&&z.complete&&z.naturalHeight!==0&&z.naturalWidth!==0;Q&&S.excavation!=null&&(U=ie($,S.excavation));const H=window.devicePixelRatio||1;_.height=_.width=p*H;const Y=p/F*H;R.scale(Y,Y),R.fillStyle=v,R.fillRect(0,0,F,F),R.fillStyle=t,ke?R.fill(new Path2D(ne(U,P))):$.forEach(function(he,xe){he.forEach(function(ue,pe){ue&&R.fillRect(pe+P,xe+P,1,1)})}),S&&(R.globalAlpha=S.opacity),Q&&R.drawImage(z,S.x+P,S.y+P,S.w,S.h)}}),w.useEffect(()=>{O(!1)},[j]);const me=L({height:p,width:p},g);let B=null;return j!=null&&(B=w.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{O(!0)},ref:m,crossOrigin:S==null?void 0:S.crossOrigin})),w.createElement(w.Fragment,null,w.createElement("canvas",L({style:me,height:p,width:p,ref:C,role:"img"},E)),B)});Pe.displayName="QRCodeCanvas";var de=w.forwardRef(function(l,h){const u=l,{value:y,size:p=te,level:n=re,bgColor:v=se,fgColor:t=ae,includeMargin:s=le,minVersion:r=oe,boostLevel:o,title:c,marginSize:x,imageSettings:i}=u,f=D(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:E,numCells:j,calculatedImageSettings:a}=ce({value:y,level:n,minVersion:r,boostLevel:o,includeMargin:s,marginSize:x,imageSettings:i,size:p});let m=E,C=null;i!=null&&a!=null&&(a.excavation!=null&&(m=ie(E,a.excavation)),C=w.createElement("image",{href:i.src,height:a.h,width:a.w,x:a.x+g,y:a.y+g,preserveAspectRatio:"none",opacity:a.opacity,crossOrigin:a.crossOrigin}));const M=ne(m,g);return w.createElement("svg",L({height:p,width:p,viewBox:`0 0 ${j} ${j}`,ref:h,role:"img"},f),!!c&&w.createElement("title",null,c),w.createElement("path",{fill:v,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),w.createElement("path",{fill:t,d:M,shapeRendering:"crispEdges"}),C)});de.displayName="QRCodeSVG";function Xe({criminal:d}){var E,j;const{t:l}=be(),[h,u]=I.useState("------"),[y,p]=I.useState(!1),[n,v]=I.useState({headerColor:"#1f2937",textColor:"#374151",accentColor:"#3b82f6",fontFamily:"Amiri, Traditional Arabic, Arial, sans-serif",fontSize:12,showLogo:!0,showFooter:!0,showDate:!0,pageSize:"a4",orientation:"portrait",margins:"normal",dateFormat:"gregorian",labels:{reportTitle:"د تحقيق راپور",name:"د مجرم پېژندنه: نوم",fatherName:"د پلار نوم:",grandfatherName:"د نيکه نوم:",idCard:"د تذکرې شماره:",phoneNumber:"د تليفون شماره:",originalResidence:"اصلي سكونت: ولایت، ولسوالى، كلى",currentResidence:"فعلي سكونت: ولایت، ولسوالى، كلى",crimeType:"د جرم نوعيت:",arrestDate:"د نيولو نېټه:",arrestLocation:"د نيولو ځاى:",investigationTitle:"د تحقيق موضوع او لنډيز:",finalVerdict:"د نهايي حكم",notes:"يادداشتونه",investigator:"د تحقيق كوونكي كس نوم:",directorSignature:"د تحقيق د مدير امضاء"}}),[t,s]=I.useState("colors");I.useEffect(()=>{x();let a=document.getElementById("dynamic-print-styles");return a||(a=document.createElement("style"),a.id="dynamic-print-styles",document.head.appendChild(a)),f(a,n),setTimeout(()=>{window.print()},1e3),()=>{const m=document.getElementById("dynamic-print-styles");m&&m.remove()}},[]);const r=a=>{const m=Math.floor((a.getFullYear()-622)*.970224),C=Math.floor((a.getMonth()+1)*.970224),M=Math.floor(a.getDate()*.970224);return`${m}/${C.toString().padStart(2,"0")}/${M.toString().padStart(2,"0")}`},o=a=>{const m=a.getFullYear()-621,C=a.getMonth()+1,M=a.getDate();return`${m}/${C.toString().padStart(2,"0")}/${M.toString().padStart(2,"0")}`},c=a=>{if(!a)return"";try{const m=new Date(a);switch(n.dateFormat){case"hijri":return r(m);case"persian":return o(m);case"gregorian":default:return Ce(m,"yyyy/MM/dd")}}catch{return""}},x=()=>{const a={reportable_type:"App\\Models\\Criminal",reportable_id:d.id,user_id:d.created_by,properties:{date:new Date().toISOString(),criminal_data:{name:d.name,father_name:d.father_name,grandfather_name:d.grandfather_name,id_card_number:d.id_card_number,phone_number:d.phone_number,original_residence:d.original_residence,current_residence:d.current_residence,crime_type:d.crime_type,arrest_location:d.arrest_location,arrest_date:d.arrest_date,final_verdict:d.final_verdict,notes:d.notes}}};ge.post("/reports",a).then(m=>{m.data&&m.data.report&&u(m.data.report.code)}).catch(m=>{console.error("Error creating report:",m)})},i=(a,m)=>{v(M=>({...M,[a]:m}));const C=document.getElementById("dynamic-print-styles");if(C){const M={...n,[a]:m};f(C,M)}},f=(a,m)=>{const C=`
      @page {
        size: ${m.pageSize} ${m.orientation};
        margin: ${g(m.margins)};
      }
      @media print {
        body {
          font-family: ${m.fontFamily};
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          background: none;
          font-size: ${m.fontSize}px;
          color: ${m.textColor};
        }

        /* Custom background colors for printing */
        .print-template .header-bg {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          background-color: ${m.headerColor} !important;
          color: white !important;
        }

        /* CSS for primary and accent colors to work in print */
        .text-primary, h1, h2, h3, .font-bold.text-primary {
          color: ${m.accentColor} !important;
        }

        .border-primary, .border-primary\\/20 {
          border-color: ${m.accentColor} !important;
        }

        .bg-primary {
          background-color: ${m.accentColor} !important;
        }
      }

      /* Corner decorations */
      .corner-decoration.top-left {
        border-top: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .corner-decoration.top-right {
        border-top: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      .corner-decoration.bottom-left {
        border-bottom: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .corner-decoration.bottom-right {
        border-bottom: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      /* Photo frame corners */
      .photo-frame-corner.top-left {
        border-top: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .photo-frame-corner.top-right {
        border-top: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      .photo-frame-corner.bottom-left {
        border-bottom: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .photo-frame-corner.bottom-right {
        border-bottom: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      /* Investigation corners */
      .investigation-corner.top-left {
        border-top: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .investigation-corner.top-right {
        border-top: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      .investigation-corner.bottom-left {
        border-bottom: 2px solid ${m.accentColor};
        border-left: 2px solid ${m.accentColor};
      }

      .investigation-corner.bottom-right {
        border-bottom: 2px solid ${m.accentColor};
        border-right: 2px solid ${m.accentColor};
      }

      /* Enhanced compact info cells */
      .info-cell-compact {
        border-bottom: 1px solid ${m.accentColor}30;
      }

      .info-cell-compact:hover {
        border-color: ${m.accentColor};
        background-color: ${m.accentColor}05;
      }

      .info-cell-highlight-compact {
        border: 1px solid ${m.accentColor}20;
        border-bottom: 1px solid ${m.accentColor}30;
        background-color: ${m.accentColor}05;
      }

      .info-cell-highlight-compact:hover {
        border-color: ${m.accentColor};
        background-color: ${m.accentColor}08;
      }

      /* Footer cells */
      .footer-cell-compact {
        border-top: 1px solid ${m.accentColor}30;
      }
    `;a.innerHTML=C},g=(a=n.margins)=>{switch(a){case"narrow":return"0.5cm";case"wide":return"2cm";default:return"1cm"}};return e.jsxs(e.Fragment,{children:[e.jsx(fe,{title:l("criminal.print.page_title",{name:d.name})}),e.jsx("style",{id:"dynamic-print-styles"}),y&&e.jsx("div",{className:"screen-only fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(V,{className:"mr-2 h-5 w-5"}),l("criminal.print.settings.title")]}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsx("button",{onClick:()=>s("colors"),className:`px-4 py-2 border-b-2 font-medium text-sm ${t==="colors"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),l("criminal.print.settings.tabs.colors")]})}),e.jsx("button",{onClick:()=>s("typography"),className:`px-4 py-2 border-b-2 font-medium text-sm ${t==="typography"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),l("criminal.print.settings.tabs.typography")]})}),e.jsx("button",{onClick:()=>s("layout"),className:`px-4 py-2 border-b-2 font-medium text-sm ${t==="layout"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),l("criminal.print.settings.tabs.layout")]})}),e.jsx("button",{onClick:()=>s("labels"),className:`px-4 py-2 border-b-2 font-medium text-sm ${t==="labels"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),l("criminal.print.settings.tabs.labels")]})}),e.jsx("button",{onClick:()=>s("date_format"),className:`px-4 py-2 border-b-2 font-medium text-sm ${t==="date_format"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),l("criminal.print.settings.tabs.date_format")]})})]}),t==="colors"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-md font-medium",children:l("criminal.print.settings.colors.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.colors.header")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"headerColorPicker",value:n.headerColor,onChange:a=>i("headerColor",a.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"headerColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:n.headerColor}})]}),e.jsx("input",{type:"text",value:n.headerColor,onChange:a=>i("headerColor",a.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.colors.text")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"textColorPicker",value:n.textColor,onChange:a=>i("textColor",a.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"textColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:n.textColor}})]}),e.jsx("input",{type:"text",value:n.textColor,onChange:a=>i("textColor",a.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.colors.accent")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"accentColorPicker",value:n.accentColor,onChange:a=>i("accentColor",a.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"accentColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:n.accentColor}})]}),e.jsx("input",{type:"text",value:n.accentColor,onChange:a=>i("accentColor",a.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]})]}),t==="typography"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"mr-2 h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-md font-medium",children:l("criminal.print.settings.typography.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.typography.font_family")}),e.jsxs("select",{value:n.fontFamily,onChange:a=>i("fontFamily",a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"Amiri, Traditional Arabic, Arial, sans-serif",children:"Amiri (Default)"}),e.jsx("option",{value:"Traditional Arabic, Arial, sans-serif",children:"Traditional Arabic"}),e.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),e.jsx("option",{value:"Calibri, sans-serif",children:"Calibri"}),e.jsx("option",{value:"Tahoma, sans-serif",children:"Tahoma"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.typography.font_size")}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"range",min:"10",max:"16",value:n.fontSize,onChange:a=>i("fontSize",parseInt(a.target.value)),className:"flex-1"}),e.jsxs("span",{className:"ml-2 text-sm w-10 text-center",children:[n.fontSize,"pt"]})]})]})]})]}),t==="layout"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"mr-2 h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-md font-medium",children:l("criminal.print.settings.layout.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.layout.page_size")}),e.jsxs("select",{value:n.pageSize,onChange:a=>i("pageSize",a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"a4",children:"A4"}),e.jsx("option",{value:"letter",children:"Letter"}),e.jsx("option",{value:"legal",children:"Legal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.layout.orientation")}),e.jsxs("select",{value:n.orientation,onChange:a=>i("orientation",a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"portrait",children:"Portrait"}),e.jsx("option",{value:"landscape",children:"Landscape"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.layout.margins")}),e.jsxs("select",{value:n.margins,onChange:a=>i("margins",a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"narrow",children:"Narrow"}),e.jsx("option",{value:"wide",children:"Wide"})]})]})]})]}),t==="labels"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"mr-2 h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-md font-medium",children:l("criminal.print.settings.labels.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.report_header")}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.report_title")}),e.jsx("input",{type:"text",value:n.labels.reportTitle,onChange:a=>i("labels",{...n.labels,reportTitle:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.personal_information")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.name")}),e.jsx("input",{type:"text",value:n.labels.name,onChange:a=>i("labels",{...n.labels,name:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.father_name")}),e.jsx("input",{type:"text",value:n.labels.fatherName,onChange:a=>i("labels",{...n.labels,fatherName:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.grandfather_name")}),e.jsx("input",{type:"text",value:n.labels.grandfatherName,onChange:a=>i("labels",{...n.labels,grandfatherName:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.id_card_number")}),e.jsx("input",{type:"text",value:n.labels.idCard,onChange:a=>i("labels",{...n.labels,idCard:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.phone_number")}),e.jsx("input",{type:"text",value:n.labels.phoneNumber,onChange:a=>i("labels",{...n.labels,phoneNumber:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.residence_information")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.original_residence")}),e.jsx("input",{type:"text",value:n.labels.originalResidence,onChange:a=>i("labels",{...n.labels,originalResidence:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.current_residence")}),e.jsx("input",{type:"text",value:n.labels.currentResidence,onChange:a=>i("labels",{...n.labels,currentResidence:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.crime_information")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.crime_type")}),e.jsx("input",{type:"text",value:n.labels.crimeType,onChange:a=>i("labels",{...n.labels,crimeType:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.arrest_date")}),e.jsx("input",{type:"text",value:n.labels.arrestDate,onChange:a=>i("labels",{...n.labels,arrestDate:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.arrest_location")}),e.jsx("input",{type:"text",value:n.labels.arrestLocation,onChange:a=>i("labels",{...n.labels,arrestLocation:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.investigation_details")}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.investigation_title")}),e.jsx("input",{type:"text",value:n.labels.investigationTitle,onChange:a=>i("labels",{...n.labels,investigationTitle:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.final_verdict")}),e.jsx("input",{type:"text",value:n.labels.finalVerdict,onChange:a=>i("labels",{...n.labels,finalVerdict:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.notes")}),e.jsx("input",{type:"text",value:n.labels.notes,onChange:a=>i("labels",{...n.labels,notes:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:l("criminal.print.settings.labels.footer_information")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.investigator")}),e.jsx("input",{type:"text",value:n.labels.investigator,onChange:a=>i("labels",{...n.labels,investigator:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("criminal.print.settings.labels.director_signature")}),e.jsx("input",{type:"text",value:n.labels.directorSignature,onChange:a=>i("labels",{...n.labels,directorSignature:a.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]})]})]}),t==="date_format"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"mr-2 h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-md font-medium",children:l("criminal.print.settings.date_format.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("criminal.print.settings.date_format.title")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"gregorian",checked:n.dateFormat==="gregorian",onChange:a=>i("dateFormat",a.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:l("criminal.print.settings.date_format.gregorian")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"hijri",checked:n.dateFormat==="hijri",onChange:a=>i("dateFormat",a.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:l("criminal.print.settings.date_format.hijri")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"persian",checked:n.dateFormat==="persian",onChange:a=>i("dateFormat",a.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:l("criminal.print.settings.date_format.persian")})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"نمونه تاریخ:"}),e.jsx("div",{className:"text-sm text-gray-600",children:c(new Date().toISOString())})]})]})]})]}),e.jsxs("div",{className:"border-t px-4 py-3 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:l("common.cancel")}),e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-primary border border-transparent rounded-md text-sm font-medium text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:l("common.save")}),e.jsx("button",{onClick:()=>{p(!1),setTimeout(()=>window.print(),300)},className:"px-4 py-2 bg-primary border border-transparent rounded-md text-sm font-medium text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:l("criminal.print.settings.apply_and_print")})]})]})}),e.jsx("div",{className:"screen-only fixed top-4 right-4 z-50 p-4 bg-white shadow-lg rounded-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>p(!0),className:"bg-white text-gray-700 border border-gray-300 px-6 py-2 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2",children:[e.jsx(ve,{size:18}),e.jsx("span",{children:l("reports.view.format")})]}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-primary text-white px-6 py-2 rounded-md hover:bg-primary/90 transition-colors flex items-center gap-2",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:l("reports.view.print")})]})]})}),e.jsxs("div",{className:"print-container max-w-4xl mx-auto my-4 p-6 bg-white shadow-md print:shadow-none print:p-0 print:m-0 rounded-lg border border-gray-200",style:{color:n.textColor,fontFamily:n.fontFamily,fontSize:`${n.fontSize}px`},children:[e.jsx("div",{className:"screen-only absolute inset-0 overflow-hidden opacity-5 pointer-events-none z-0",children:e.jsx("div",{className:"pattern-bg"})}),e.jsx("div",{className:"corner-decoration top-left"}),e.jsx("div",{className:"corner-decoration top-right"}),e.jsx("div",{className:"corner-decoration bottom-left"}),e.jsx("div",{className:"corner-decoration bottom-right"}),e.jsx("div",{className:"text-center mb-4 relative z-10",children:e.jsx("div",{className:"mb-2 border-b pb-2",style:{borderColor:`${n.accentColor}20`},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"w-24 text-center",children:((E=d.department)==null?void 0:E.code)&&e.jsx("div",{className:"text-xs font-semibold text-neutral-500 border rounded-md py-1 px-2",style:{borderColor:`${n.accentColor}20`},children:d.department.code})}),e.jsx("h1",{className:"text-2xl font-bold",style:{color:n.accentColor},children:n.labels.reportTitle}),e.jsx("div",{className:"w-24 text-center",children:e.jsx("div",{className:"text-xs font-semibold text-neutral-500 border rounded-md py-1 px-2",style:{borderColor:`${n.accentColor}20`},children:c(d.created_at)})})]})})}),e.jsxs("div",{className:"flex flex-col relative z-10",children:[e.jsxs("div",{className:"flex flex-row mb-4",children:[e.jsxs("div",{className:"w-3/4 pl-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-right",children:[e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.name}),e.jsx("div",{className:"font-semibold",children:d.name||""})]}),e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.fatherName}),e.jsx("div",{children:d.father_name||""})]}),e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.grandfatherName}),e.jsx("div",{children:d.grandfather_name||""})]}),e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.idCard}),e.jsx("div",{className:"font-mono",children:d.id_card_number||""})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3 text-right",children:e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.phoneNumber}),e.jsx("div",{className:"font-mono",dir:"ltr",children:d.phone_number||""})]})})]}),e.jsxs("div",{className:"w-1/4 pl-2",children:[e.jsxs("div",{className:"border-2 border-gray-300 rounded-lg h-40 flex items-center justify-center overflow-hidden bg-gray-50 shadow-inner relative",children:[d.photo?e.jsx("img",{src:`/storage/${d.photo}`,alt:d.name,className:"max-h-full object-contain"}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full",children:[e.jsx(je,{className:"h-16 w-16 text-neutral-300 mb-1"}),e.jsx("div",{className:"text-center text-base font-bold text-neutral-400",children:"عکس"})]}),e.jsx("div",{className:"photo-frame-corner top-left"}),e.jsx("div",{className:"photo-frame-corner top-right"}),e.jsx("div",{className:"photo-frame-corner bottom-left"}),e.jsx("div",{className:"photo-frame-corner bottom-right"})]}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("div",{className:"text-xs font-semibold text-neutral-700 bg-gray-100 py-1 px-2 rounded-full inline-flex items-center",children:[e.jsx(V,{size:12,className:"mr-1"}),e.jsxs("span",{children:["شمارهٔ ثبت: ",h]})]})}),e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx("div",{className:"bg-white p-1 border border-gray-200 rounded-md shadow-sm",children:e.jsx(de,{value:h!=="------"?`https://cid.test/reports/${h}`:"",size:80,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1})})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3 text-right",children:e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.originalResidence}),e.jsx("div",{children:d.original_residence||""})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3 text-right",children:e.jsxs("div",{className:"info-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.currentResidence}),e.jsx("div",{children:d.current_residence||""})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 text-right",children:[e.jsxs("div",{className:"info-cell-highlight-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.crimeType}),e.jsx("div",{children:d.crime_type||""})]}),e.jsxs("div",{className:"info-cell-highlight-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.arrestDate}),e.jsx("div",{children:c(d.arrest_date)})]}),e.jsxs("div",{className:"info-cell-highlight-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.arrestLocation}),e.jsx("div",{children:d.arrest_location||""})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-right mb-2 flex items-center gap-2 justify-end",children:[e.jsx("span",{className:"font-bold text-base text-primary",children:n.labels.investigationTitle}),e.jsx("div",{className:"w-1/4 h-px bg-primary/30"})]}),e.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-4 flex-grow flex flex-col min-h-[250px] bg-white shadow relative",children:[e.jsx("div",{className:"investigation-corner top-left"}),e.jsx("div",{className:"investigation-corner top-right"}),e.jsx("div",{className:"investigation-corner bottom-left"}),e.jsx("div",{className:"investigation-corner bottom-right"}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("span",{className:"font-bold text-xl text-primary",children:"بسم الله الرحمن الرحيم"})}),e.jsx("div",{className:"text-right mb-3",children:e.jsxs("span",{className:"font-bold text-neutral-700 text-sm",children:[n.labels.arrestDate,": ",c(d.arrest_date)||"   /   /   "]})}),e.jsxs("div",{className:"flex-grow",children:[d.final_verdict&&e.jsxs("div",{className:"text-right mb-3",children:[e.jsx("h3",{className:"font-bold text-base mb-1 text-primary",children:n.labels.finalVerdict}),e.jsx("p",{className:"whitespace-pre-wrap text-neutral-800 leading-normal text-sm",children:d.final_verdict})]}),d.notes&&e.jsxs("div",{className:"text-right mt-3",children:[e.jsx("h3",{className:"font-bold text-base mb-1 text-primary",children:n.labels.notes}),e.jsx("p",{className:"whitespace-pre-wrap text-neutral-800 leading-normal text-sm",children:d.notes})]}),!d.final_verdict&&!d.notes&&e.jsx("div",{className:"h-28 border-dashed border-2 border-gray-200 rounded-lg p-2 flex items-center justify-center text-gray-400",children:e.jsx("p",{className:"text-sm",children:n.labels.notes})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"footer-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.investigator}),e.jsx("span",{children:((j=d.creator)==null?void 0:j.name)||""})]}),e.jsxs("div",{className:"footer-cell-compact",children:[e.jsx("span",{className:"font-bold text-neutral-700 block mb-1 text-sm",children:n.labels.directorSignature}),e.jsx("div",{className:"h-10 border-dashed border-2 border-gray-200 rounded-lg mt-1 flex items-center justify-center text-gray-400 text-xs",children:"د امضاء ځای"})]})]})]})]}),e.jsx("style",{children:`
        /* Screen-only styles */
        @media screen {
          .print-container {
            border: 1px solid #e5e7eb;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
          }

          .pattern-bg {
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23000000' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            transform: rotate(30deg);
          }
        }

        @media print {
          /* Hide screen-only elements when printing */
          .screen-only {
            display: none !important;
          }

          /* Hide page elements */
          nav, header, footer, button {
            display: none !important;
          }
        }

        /* RTL styles */
        body {
          direction: rtl;
        }

        /* Custom styles for better typography */
        .print-container {
          position: relative;
        }

        /* Corner decorations */
        .corner-decoration {
          position: absolute;
          width: 20px;
          height: 20px;
          z-index: 1;
        }

        /* Photo frame corners */
        .photo-frame-corner {
          position: absolute;
          width: 8px;
          height: 8px;
        }

        /* Investigation corners */
        .investigation-corner {
          position: absolute;
          width: 10px;
          height: 10px;
        }
        `})]})}export{Xe as default};
