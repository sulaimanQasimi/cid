import{j as e,L as v,$ as t}from"./app-Czsz3ga9.js";import{B as i}from"./button-CKdllIOS.js";import{B as a}from"./badge--3_IVLpc.js";import{C as d,a as l,b as n,c as o,d as c}from"./card-BHa63vbK.js";import{P as N}from"./page-header-CHU0HS7M.js";import{A as w,C as g,b as C}from"./app-layout-SMAHjsOb.js";import{A as y}from"./arrow-left-DuBn3N8j.js";import{S as b}from"./square-pen-KsLVlUjt.js";import{M as u}from"./users--TnmxFgG.js";import{U as P}from"./user-9gg0YH0g.js";import{f as x}from"./index-CaunA62S.js";import{C as D}from"./clock-D2-63v_A.js";import{E as A}from"./triangle-alert-CBAp-B0X.js";import"./index-BugM-CEt.js";import"./createLucideIcon-DJy6bF42.js";import"./index-Cm_rdgC6.js";import"./index-B2uJwltq.js";import"./index-B97srWOL.js";import"./x-Bu793gJv.js";import"./index-DRTj8I4Z.js";import"./avatar-DKeaeSW8.js";import"./app-logo-DhSe7mJZ.js";import"./app-logo-icon-DbyAI1nt.js";import"./translate-BwqIl_WO.js";import"./file-text-rlW4jRe5.js";import"./tag-C2luWRjz.js";import"./qr-code-GVeF0qj1.js";function se({district:s,incidents:m}){var h,j,f;const p=[{title:"Dashboard",href:"/dashboard"},{title:"Districts",href:route("districts.index")},{title:s.name,href:route("districts.show",s.id)}];return e.jsxs(w,{breadcrumbs:p,children:[e.jsx(v,{title:`District - ${s.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(N,{title:s.name,description:`District Code: ${s.code}`,actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(t,{href:route("districts.index"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsx(i,{asChild:!0,children:e.jsxs(t,{href:route("districts.edit",s.id),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Edit"]})})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(d,{className:"md:col-span-2",children:[e.jsxs(l,{children:[e.jsx(n,{children:"District Details"}),e.jsx(o,{children:"Detailed information about this district"})]}),e.jsxs(c,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 border-b pb-4",children:[e.jsxs(a,{variant:"outline",className:"flex items-center",children:[e.jsx(u,{className:"mr-1 h-3 w-3"}),"Province: ",((h=s.province)==null?void 0:h.name)||"N/A"]}),e.jsx(a,{variant:s.status==="active"?"default":"secondary",className:"flex items-center",children:s.status})]}),s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Description"}),e.jsx("div",{className:"whitespace-pre-wrap mt-2 text-muted-foreground",children:s.description})]})]})]}),e.jsxs(d,{children:[e.jsx(l,{children:e.jsx(n,{children:"District Information"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(P,{className:"h-4 w-4 mr-2 text-muted-foreground"}),((j=s.creator)==null?void 0:j.name)||"Unknown"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(g,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x(new Date(s.created_at),"PPP")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(D,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x(new Date(s.updated_at),"PPP p")]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx(i,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxs(t,{href:route("provinces.show",(f=s.province)==null?void 0:f.id),children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"View Province"]})})})]})]})]}),e.jsxs(d,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Recent Incidents"}),e.jsx(o,{children:"Recent incidents in this district"})]}),e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(t,{href:route("incidents.create",{district_id:s.id}),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Add Incident"]})})]}),e.jsxs(c,{children:[m.length===0?e.jsx("div",{className:"py-4 text-center text-muted-foreground",children:"No incidents found for this district"}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(r=>e.jsxs(d,{className:"overflow-hidden",children:[e.jsxs(l,{className:"p-4 pb-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(n,{className:"text-base",children:e.jsx(t,{href:route("incidents.show",r.id),className:"hover:underline text-primary",children:r.title})}),r.category&&e.jsx(a,{style:{backgroundColor:r.category.color},children:r.category.name})]}),e.jsx(o,{className:"text-xs mt-1",children:x(new Date(r.incident_date),"PPP")})]}),e.jsx(c,{className:"p-4 pt-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(a,{variant:r.severity==="high"?"destructive":r.severity==="medium"?"default":"outline",children:r.severity}),e.jsx(i,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(t,{href:route("incidents.show",r.id),children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"View"]})})]})})]},r.id))}),m.length>0&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx(i,{variant:"outline",asChild:!0,children:e.jsx(t,{href:route("incidents.index",{district_id:s.id}),children:"View All Incidents"})})})]})]})]})]})}export{se as default};
