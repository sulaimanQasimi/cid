import{r as N,j as e,L as D,$ as r,S as b}from"./app-3e9ZfCZj.js";import{B as t}from"./button-tOsBMVu3.js";import{B as j}from"./badge-Dcgw1Reo.js";import{C as a,a as i,b as l,c as p,d}from"./card-CPvNgHsq.js";import{S as C}from"./separator-mNyNy8WK.js";import{P as w}from"./page-header-ClrMVESu.js";import{A as y,h as A,a as T,b as I,c as S,d as P,e as B,f as _,g as L}from"./alert-dialog-Dy-35kHD.js";import{A as U,C as k}from"./app-layout-7lRn1_rF.js";import{A as $}from"./arrow-left-DyCW_lBj.js";import{S as E}from"./square-pen-BEaAvtxH.js";import{T as F}from"./trash-2-rYlmNZsA.js";import{F as H}from"./file-text-W_Iskmvy.js";import{f as O}from"./index-CaunA62S.js";import{T as R}from"./tag-Cbang5gX.js";import{M}from"./users-D8IR1cY7.js";import{U as V}from"./user-DtgIclHT.js";import"./index-C3obqkZ2.js";import"./index-CkvEONY9.js";import"./createLucideIcon-BtOnYZj6.js";import"./index-CSgRh3VG.js";import"./index-BiOWnkU5.js";import"./x-DTbSmVa3.js";import"./index-BbGum64W.js";import"./avatar-CnrxwdK1.js";import"./app-logo-pu7XLt_2.js";import"./app-logo-icon-CH0F37vC.js";import"./triangle-alert-CB08x4VC.js";import"./qr-code-CqMqn-r0.js";function ge({incident:s}){var o,c,n,m,x,h;const[u,f]=N.useState(!1),g=[{title:"Dashboard",href:"/dashboard"},{title:"Incidents",href:route("incidents.index")},{title:s.title,href:route("incidents.show",s.id)}],v=()=>{b.delete(route("incidents.destroy",s.id))};return e.jsxs(U,{breadcrumbs:g,children:[e.jsx(D,{title:`Incident - ${s.title}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(w,{title:"Incident Details",description:"View detailed information about this incident",actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",asChild:!0,children:e.jsxs(r,{href:route("incidents.index"),children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Back to Incidents"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:route("incidents.edit",s.id),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(y,{open:u,onOpenChange:f,children:[e.jsx(A,{asChild:!0,children:e.jsxs(t,{variant:"destructive",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e.jsxs(T,{children:[e.jsxs(I,{children:[e.jsx(S,{children:"Delete Incident"}),e.jsx(P,{children:"Are you sure you want to delete this incident? This action cannot be undone."})]}),e.jsxs(B,{children:[e.jsx(_,{children:"Cancel"}),e.jsx(L,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-2xl",children:s.title}),e.jsx(p,{children:s.incident_type})]}),e.jsx(j,{variant:s.status==="resolved"||s.status==="investigating"?"default":s.status==="closed"?"outline":"default",children:s.status})]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Description"}),e.jsx("p",{className:"mt-2 whitespace-pre-line text-muted-foreground",children:s.description})]}),e.jsx(C,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Impact"}),e.jsxs("div",{className:"mt-2 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Casualties"}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.casualties})]}),e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Injuries"}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.injuries})]})]})]})]})})]}),s.report&&e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Associated Report"}),e.jsx(p,{children:"This incident is part of the following report"})]}),e.jsx(d,{children:e.jsxs(r,{href:route("incident-reports.show",s.report.id),className:"group flex items-center rounded-md border p-4 transition-colors hover:bg-muted/50",children:[e.jsx("div",{className:"mr-4 rounded-full bg-primary/10 p-2",children:e.jsx(H,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium group-hover:underline",children:s.report.report_number}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"View full report details"})]})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:"Incident Information"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(k,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Date & Time"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[O(new Date(s.incident_date),"PPP"),s.incident_time&&` at ${s.incident_time}`]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(R,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Category & Type"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(j,{className:"mr-2",style:{backgroundColor:((o=s.category)==null?void 0:o.color)||"#888888"},children:((c=s.category)==null?void 0:c.name)||"Unspecified"}),s.incident_type]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Location"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.location||"Unspecified location",e.jsx("br",{}),(n=s.district)==null?void 0:n.name,", ",(x=(m=s.district)==null?void 0:m.province)==null?void 0:x.name,s.coordinates&&e.jsxs("div",{className:"mt-1 text-xs",children:["Coordinates: ",s.coordinates]})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(V,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Reported By"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:((h=s.reporter)==null?void 0:h.name)||"Unknown"})]})]})]})]})})]})]})]})}export{ge as default};
