import{r as N,m as k,j as e,L as I}from"./app-3e9ZfCZj.js";import{A as B,C as U}from"./app-layout-7lRn1_rF.js";import{B as o,c as i}from"./button-tOsBMVu3.js";import{C as g,a as v,b as _,c as b,d as y,e as z}from"./card-CPvNgHsq.js";import{I as n}from"./input-Di9skOMK.js";import{L as t}from"./label-CIrlRX49.js";import{T as c}from"./textarea-CG7s4PWe.js";import{S as V,a as M,b as O,c as q,d as C}from"./select-D3n8Qi7N.js";import{T as G,a as H,b as h,c as x}from"./tabs-DmmLbTXA.js";import{A as J}from"./arrow-left-DyCW_lBj.js";import{C as w,B as K}from"./camera-Da2JJkLH.js";import{U as Q}from"./user-round-BPn8Cbdx.js";import{F as W}from"./file-text-W_Iskmvy.js";import"./index-CkvEONY9.js";import"./createLucideIcon-BtOnYZj6.js";import"./index-CSgRh3VG.js";import"./index-BiOWnkU5.js";import"./index-C3obqkZ2.js";import"./x-DTbSmVa3.js";import"./index-BbGum64W.js";import"./avatar-CnrxwdK1.js";import"./app-logo-pu7XLt_2.js";import"./app-logo-icon-CH0F37vC.js";import"./users-D8IR1cY7.js";import"./triangle-alert-CB08x4VC.js";import"./tag-Cbang5gX.js";import"./qr-code-CqMqn-r0.js";import"./index-Dsn3sjeQ.js";import"./check-QjJiGsK8.js";const X=[{title:"Criminal Records",href:route("criminals.index")},{title:"Create",href:route("criminals.create")}];function Fe({departments:u=[]}){const[F,T]=N.useState("personal"),[d,R]=N.useState(null),{data:l,setData:r,post:S,processing:m,errors:s,reset:A}=k({photo:null,number:"",name:"",father_name:"",grandfather_name:"",id_card_number:"",phone_number:"",original_residence:"",current_residence:"",crime_type:"",arrest_location:"",arrested_by:"",arrest_date:"",referred_to:"",final_verdict:"",notes:"",department_id:"none"}),E=a=>{T(a)},D=a=>{if(a.target.files&&a.target.files[0]){const p=a.target.files[0];r("photo",p);const f=new FileReader;f.onload=P=>{var j;R((j=P.target)==null?void 0:j.result)},f.readAsDataURL(p)}},L=a=>{a.preventDefault(),S(route("criminals.store"),{forceFormData:!0,onSuccess:()=>{}})};return e.jsxs(B,{breadcrumbs:X,children:[e.jsx(I,{title:"Create Criminal Record"}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(o,{variant:"outline",size:"sm",asChild:!0,className:"rounded-full shadow-sm",children:e.jsxs("a",{href:route("criminals.index"),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Back to List"]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Create Criminal Record"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Add a new criminal record to the database"})]})]}),e.jsx("form",{onSubmit:L,children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs(g,{className:"lg:col-span-1 overflow-hidden border-none shadow-md",children:[e.jsxs(v,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsxs(_,{className:"flex items-center gap-2 text-lg",children:[e.jsx(w,{className:"h-5 w-5 text-neutral-500"}),"Photo Identification"]}),e.jsx(b,{children:"Upload a clear photo of the individual"})]}),e.jsx(y,{className:"p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:i("relative mb-6 h-56 w-56 overflow-hidden rounded-xl border-2 border-dashed","bg-neutral-50 text-center transition-all duration-200 hover:border-primary/50","flex items-center justify-center",d?"border-primary/30":"border-neutral-200"),children:d?e.jsx("img",{src:d,alt:"Photo preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center p-6",children:[e.jsx(w,{className:"mb-3 h-12 w-12 text-neutral-400"}),e.jsx("p",{className:"text-sm text-neutral-500 font-medium",children:"No photo selected"}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Click the button below to upload"})]})}),e.jsx(t,{htmlFor:"photo",className:i("cursor-pointer rounded-full px-5 py-2.5 text-sm font-medium transition-colors","bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm"),children:d?"Change Photo":"Upload Photo"}),e.jsx(n,{id:"photo",type:"file",accept:"image/*",onChange:D,className:"sr-only"}),s.photo&&e.jsx("p",{className:"mt-3 text-sm text-red-500 font-medium",children:s.photo}),e.jsx("div",{className:"mt-6 text-center max-w-xs",children:e.jsx("p",{className:"text-xs text-neutral-500",children:"Upload a clear, recent photo for identification purposes. Maximum file size: 2MB."})})]})})]}),e.jsxs(g,{className:"lg:col-span-2 border-none shadow-md overflow-hidden",children:[e.jsxs(v,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsx(_,{className:"text-lg",children:"Criminal Record Information"}),e.jsx(b,{children:"Fill in the details of the criminal record below"})]}),e.jsx(y,{className:"p-6",children:e.jsxs(G,{defaultValue:"personal",value:F,onValueChange:E,className:"w-full",children:[e.jsxs(H,{className:"grid w-full grid-cols-3 mb-6 rounded-lg p-1 bg-neutral-100 dark:bg-neutral-800",children:[e.jsxs(h,{value:"personal",className:i("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{children:"Personal Details"})]}),e.jsxs(h,{value:"crime",className:i("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Crime Details"})]}),e.jsxs(h,{value:"other",className:i("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Additional Info"})]})]}),e.jsxs(x,{value:"personal",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(t,{htmlFor:"name",className:"text-base font-medium",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{id:"name",value:l.name,onChange:a=>r("name",a.target.value),required:!0,placeholder:"Enter full name",className:"h-11"}),s.name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"father_name",className:"font-medium",children:"Father's Name"}),e.jsx(n,{id:"father_name",value:l.father_name,onChange:a=>r("father_name",a.target.value),placeholder:"Enter father's name",className:"h-11"}),s.father_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.father_name})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"grandfather_name",className:"font-medium",children:"Grandfather's Name"}),e.jsx(n,{id:"grandfather_name",value:l.grandfather_name,onChange:a=>r("grandfather_name",a.target.value),placeholder:"Enter grandfather's name",className:"h-11"}),s.grandfather_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.grandfather_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"id_card_number",className:"font-medium",children:"ID Card Number"}),e.jsx(n,{id:"id_card_number",value:l.id_card_number,onChange:a=>r("id_card_number",a.target.value),placeholder:"Enter ID card number",className:"h-11"}),s.id_card_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.id_card_number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"phone_number",className:"font-medium",children:"Phone Number"}),e.jsx(n,{id:"phone_number",value:l.phone_number,onChange:a=>r("phone_number",a.target.value),placeholder:"Enter phone number",className:"h-11"}),s.phone_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.phone_number})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"original_residence",className:"font-medium",children:"Original Residence"}),e.jsx(c,{id:"original_residence",value:l.original_residence,onChange:a=>r("original_residence",a.target.value),rows:2,placeholder:"Enter original residence address",className:"min-h-[80px] resize-none"}),s.original_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.original_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"current_residence",className:"font-medium",children:"Current Residence"}),e.jsx(c,{id:"current_residence",value:l.current_residence,onChange:a=>r("current_residence",a.target.value),rows:2,placeholder:"Enter current residence address",className:"min-h-[80px] resize-none"}),s.current_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.current_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"department_id",className:"font-medium",children:"Department"}),e.jsxs(V,{value:l.department_id,onValueChange:a=>r("department_id",a),children:[e.jsx(M,{id:"department_id",className:"h-11",children:e.jsx(O,{placeholder:"Select a department (optional)"})}),e.jsxs(q,{children:[e.jsx(C,{value:"none",children:"None"}),u.length>0?u.map(a=>e.jsx(C,{value:a.id.toString(),children:a.name},a.id)):e.jsx("div",{className:"p-2 text-sm text-neutral-500",children:"No departments available"})]})]}),s.department_id&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.department_id})]})]}),e.jsxs(x,{value:"crime",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"number",className:"font-medium",children:"Record Number"}),e.jsx(n,{id:"number",value:l.number,onChange:a=>r("number",a.target.value),placeholder:"e.g. CR-2023-0001",className:"h-11"}),s.number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"crime_type",className:"font-medium",children:"Crime Type"}),e.jsx(n,{id:"crime_type",value:l.crime_type,onChange:a=>r("crime_type",a.target.value),placeholder:"Enter type of crime",className:"h-11"}),s.crime_type&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.crime_type})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"arrest_date",className:"font-medium",children:"Arrest Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"arrest_date",type:"date",value:l.arrest_date,onChange:a=>r("arrest_date",a.target.value),className:"h-11"}),e.jsx(U,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-400 pointer-events-none"})]}),s.arrest_date&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_date})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"arrest_location",className:"font-medium",children:"Arrest Location"}),e.jsx(n,{id:"arrest_location",value:l.arrest_location,onChange:a=>r("arrest_location",a.target.value),placeholder:"Enter arrest location",className:"h-11"}),s.arrest_location&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_location})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"arrested_by",className:"font-medium",children:"Arrested By"}),e.jsx(n,{id:"arrested_by",value:l.arrested_by,onChange:a=>r("arrested_by",a.target.value),placeholder:"Officer/Department name",className:"h-11"}),s.arrested_by&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrested_by})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"referred_to",className:"font-medium",children:"Referred To"}),e.jsx(n,{id:"referred_to",value:l.referred_to,onChange:a=>r("referred_to",a.target.value),placeholder:"Court/Authority",className:"h-11"}),s.referred_to&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.referred_to})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"final_verdict",className:"font-medium",children:"Final Verdict"}),e.jsx(c,{id:"final_verdict",value:l.final_verdict,onChange:a=>r("final_verdict",a.target.value),rows:3,placeholder:"Enter the final verdict or sentence information",className:"min-h-[120px] resize-none"}),s.final_verdict&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.final_verdict})]})]}),e.jsx(x,{value:"other",className:"space-y-6 pt-2",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{htmlFor:"notes",className:"font-medium",children:"Additional Notes"}),e.jsx(c,{id:"notes",value:l.notes,onChange:a=>r("notes",a.target.value),rows:8,placeholder:"Enter any additional information about the criminal or the case",className:"min-h-[240px]"}),s.notes&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.notes}),e.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Add any additional details that might be relevant to this case but don't fit in the structured fields above."})]})})]})}),e.jsxs(z,{className:"flex justify-between border-t px-6 py-5 bg-neutral-50 dark:bg-neutral-900",children:[e.jsx(o,{variant:"outline",onClick:()=>A(),type:"button",disabled:m,className:"rounded-full",children:"Reset Form"}),e.jsx(o,{type:"submit",disabled:m,className:"rounded-full px-8 font-medium",children:m?"Saving...":"Save Criminal Record"})]})]})]})})]})]})}export{Fe as default};
