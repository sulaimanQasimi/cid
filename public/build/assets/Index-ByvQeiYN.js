import{r,j as e,L as A,$ as a,S as m,t as u}from"./app-Bma_fItU.js";import{B as l}from"./button-CzRgNsyG.js";import{B as w}from"./badge-JO2x7ul7.js";import{C as I,a as T,b as L,c as P,d as k}from"./card-BIuJrEO3.js";import{P as E}from"./pagination-CqN3mVab.js";import{P as F}from"./page-header-xBAGUBEl.js";import{A as _}from"./app-layout-u8qGCbR6.js";import{A as B,a as O,b as z,c as H,d as V,e as $,f as q,g as M}from"./alert-dialog-9lJ4Juxc.js";import{S as R,a as G,b as J,c as K,d as p}from"./select-Pu4KpOHl.js";import{L as Q}from"./label-DlJVhUTV.js";import{P as U}from"./plus-Db6BRBpv.js";import{T as W}from"./tag-Bjku_qlO.js";import{E as X}from"./eye-BwI02PwO.js";import{S as Y}from"./square-pen-BbP7EolI.js";import{T as Z}from"./trash-C6NCaIGL.js";import{L as ee}from"./loader-circle-jPAIhk1s.js";import"./utils-CrCc3beW.js";import"./chevron-left-DunJj24K.js";import"./createLucideIcon-DtvJ2D3y.js";import"./index-DrfFIgyj.js";import"./index-IbJpF8vp.js";import"./index-DMX7bFZZ.js";import"./index-CfcJg1bL.js";import"./x-DohXZfBk.js";import"./index-DWU8_amn.js";import"./avatar-BMavUdds.js";import"./translate-CnpFHJdd.js";import"./file-text-BJFIhoQp.js";import"./users-C4djnC4v.js";import"./triangle-alert-Dw5xZqC3.js";import"./qr-code-KCWtWkQ9.js";import"./database-DOMgUFZB.js";import"./index-BTzh_SKg.js";import"./check-dF-pcThF.js";function _e({items:i,categories:f,filter:j}){const N=[{title:"Dashboard",href:"/dashboard"},{title:"Settings",href:"#"},{title:"Stat Categories",href:route("stat-categories.index")},{title:"Category Items",href:route("stat-category-items.index")}],[b,o]=r.useState(!1),[t,y]=r.useState(null),[d,n]=r.useState(!1),[c,C]=r.useState(j.category_id||"all");function v(s){y(s),o(!0)}function D(){t&&(n(!0),m.delete(route("stat-category-items.destroy",t.id),{preserveScroll:!0,onSuccess:()=>{o(!1),n(!1),u.success(`Item "${t.name}" deleted successfully`)},onError:s=>{n(!1),u.error("Failed to delete item"),console.error(s)}}))}function S(s){C(s),s==="all"?m.visit(route("stat-category-items.index")):m.visit(route("stat-category-items.index",{category_id:s}))}return e.jsxs(_,{breadcrumbs:N,children:[e.jsx(A,{title:"Category Items"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(F,{title:"Category Items",description:"Manage statistical category items",actions:e.jsx(l,{asChild:!0,children:e.jsxs(a,{href:c!=="all"?route("stat-category-items.create",{category_id:c}):route("stat-category-items.create"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Add Item"]})})}),e.jsxs(I,{children:[e.jsxs(T,{children:[e.jsx(L,{children:"All Items"}),e.jsx(P,{children:"A list of all statistical category items"})]}),e.jsxs(k,{children:[e.jsxs("div",{className:"mb-6 space-y-2 max-w-sm",children:[e.jsx(Q,{htmlFor:"filter-category",children:"Filter by Category"}),e.jsxs(R,{value:c,onValueChange:S,children:[e.jsx(G,{children:e.jsx(J,{placeholder:"All Categories"})}),e.jsxs(K,{children:[e.jsx(p,{value:"all",children:"All Categories"}),f.map(s=>e.jsx(p,{value:s.id.toString(),children:s.label},s.id))]})]})]}),e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Name"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Label"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Category"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Color"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Order"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Status"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:i.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"h-12 px-4 text-center align-middle",children:"No items found"})}):i.data.map(s=>{var h,x,g;return e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsx("td",{className:"p-4 align-middle",children:e.jsxs(a,{href:route("stat-category-items.show",s.id),className:"font-medium text-primary hover:underline flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),s.name]})}),e.jsx("td",{className:"p-4 align-middle",children:s.label}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx(a,{href:route("stat-categories.show",(h=s.category)==null?void 0:h.id),className:"hover:underline text-muted-foreground",children:(x=s.category)==null?void 0:x.label})}),e.jsx("td",{className:"p-4 align-middle",children:s.color?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:s.color}}),e.jsx("span",{children:s.color})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:(g=s.category)==null?void 0:g.color}}),e.jsx("span",{className:"text-muted-foreground",children:"(Category default)"})]})}),e.jsx("td",{className:"p-4 align-middle",children:s.order}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx(w,{variant:s.status==="active"?"default":"secondary",children:s.status})}),e.jsx("td",{className:"p-4 align-middle",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.show",s.id),children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsx(l,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.edit",s.id),children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),"Edit"]})}),e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>v(s),children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},s.id)})})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(E,{links:i.links})})]})]})]}),e.jsx(B,{open:b,onOpenChange:o,children:e.jsxs(O,{children:[e.jsxs(z,{children:[e.jsx(H,{children:"Are you sure?"}),e.jsxs(V,{children:["This will permanently delete the item",e.jsxs("span",{className:"font-semibold",children:[" ",t==null?void 0:t.name]}),". This action cannot be undone."]})]}),e.jsxs($,{children:[e.jsx(q,{disabled:d,children:"Cancel"}),e.jsx(M,{onClick:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}export{_e as default};
