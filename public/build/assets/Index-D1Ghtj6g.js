import{r as o,U as v,S as g,j as e,L as H,$ as b}from"./app-YfAqnR7f.js";import{A as z}from"./app-layout-COLkdL-_.js";import{B as h}from"./button-CbisaLmO.js";import{C as I,d as L}from"./card-184hTnvA.js";import{T as R,a as V,b as N,c as i,d as $,e as n}from"./table-BrY5RXTB.js";import{P as M}from"./pagination-Da0DOJ89.js";import{A as Q,a as q,b as G,c as J,d as K,e as W,f as X,g as Y}from"./alert-dialog-BgMsi-4n.js";import{u as Z}from"./translate-BsBDFk7S.js";import{f as ee}from"./date-BaJKjiu2.js";import{B as re}from"./badge-B9st0FZz.js";import{H as D}from"./header-Bnz60xHa.js";import{S as te}from"./SearchFilters-BmIM_wYc.js";import{C as se,a as ae,b as oe}from"./permission-guard-C0O-U1KL.js";import{S as ne,T as ie}from"./triangle-alert-Dle-CcDC.js";import{T as le}from"./trending-up-DqEAl44q.js";import{U as de}from"./user-C2eX9d_E.js";import{E as ce}from"./eye-zltj5HH6.js";import{P as me}from"./pencil-BXoGZh4R.js";import{T as pe}from"./trash-p7FAjOH6.js";import{C as ue}from"./chart-column-caK4rhCu.js";import"./utils-VXzwhqC1.js";import"./index-DK972n6K.js";import"./createLucideIcon-BKvLtUqt.js";import"./index-BC0tnl-N.js";import"./index-D9Wsk12K.js";import"./index-C2Xbs3d_.js";import"./x-CUCKIsNl.js";import"./index-CuGmnaN-.js";import"./avatar-Du_tf7pZ.js";import"./file-text-C1GLrAVP.js";import"./users-Dcm7r78U.js";import"./tag-Cw_E9OYd.js";import"./qr-code-BkqhmOCJ.js";import"./map-pin-Ci-gwDht.js";import"./building-Ce6TO76f.js";import"./database-Dvh0JOEn.js";import"./arrow-left-CvZHwRU4.js";import"./plus-BKIDhbTX.js";import"./select-51qNJE4q.js";import"./index-ofrjtKms.js";import"./check-CxUgo-eI.js";import"./input-D9iYlYH4.js";import"./search-BDNalc0n.js";import"./filter-x-2prRQp1z.js";import"./arrow-up-down-SRNKDzMA.js";function xe(s,a){const[r,l]=o.useState(s);return o.useEffect(()=>{const m=setTimeout(()=>{l(s)},a);return()=>{clearTimeout(m)}},[s,a]),r}const ge=[{title:"User Management",href:"#"},{title:"Users",href:route("users.index")}];function dr({users:s,filters:a}){const{t:r}=Z(),[l,m]=o.useState(a.search),[f,k]=o.useState(a.per_page.toString()),[p,y]=o.useState(a.sort),[d,u]=o.useState(a.direction),[_,j]=o.useState(s.current_page),[w,x]=o.useState(!1),[c,T]=o.useState(null),[he,fe]=o.useState(!1),C=xe(l,300);v.useEffect(()=>{j(s.current_page)},[s.current_page]),v.useEffect(()=>{g.get(route("users.index"),{search:C,per_page:f,sort:p,direction:d,page:_},{preserveState:!0,replace:!0})},[C,f,p,d,_]);const A=t=>{p===t?u(d==="asc"?"desc":"asc"):(y(t),u("asc"))},P=t=>{T(t),x(!0)},U=()=>{c&&(g.delete(route("users.destroy",c.id)),x(!1))},E=()=>{m(""),k("10"),y("created_at"),u("desc"),j(1),g.get(route("users.index"),{search:"",per_page:10,sort:"created_at",direction:"desc",page:1})},O=t=>{t.preventDefault(),j(1),g.get(route("users.index"),{search:l,per_page:f,sort:p,direction:d,page:1},{preserveState:!0,replace:!0})},F=[{value:"name",label:"users.sort_options.name"},{value:"email",label:"users.sort_options.email"},{value:"created_at",label:"users.sort_options.created_at"}],B=[{value:5,label:"5 per page"},{value:10,label:"10 per page"},{value:25,label:"25 per page"},{value:50,label:"50 per page"}];return e.jsxs(z,{breadcrumbs:ge,children:[e.jsx(H,{title:r("users.page_title")}),e.jsx(Q,{open:w,onOpenChange:x,children:e.jsxs(q,{children:[e.jsxs(G,{children:[e.jsx(J,{children:r("users.delete_dialog.title")}),e.jsx(K,{children:r("users.delete_dialog.description",{name:(c==null?void 0:c.name)||""})})]}),e.jsxs(W,{children:[e.jsx(X,{onClick:()=>x(!1),children:r("users.delete_dialog.cancel")}),e.jsx(Y,{onClick:U,className:"bg-red-600 hover:bg-red-700",children:r("users.delete_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(D,{title:r("users.page_title"),description:r("users.page_description"),icon:e.jsx(ne,{className:"h-8 w-8 text-white"}),model:"user",routeName:"users.create",buttonText:r("users.add_user"),theme:"blue"}),e.jsx(te,{title:r("users.search_filters"),description:r("users.table.description"),searchQuery:l,onSearchChange:m,onSearchSubmit:O,filters:{sort:a.sort,direction:a.direction,per_page:a.per_page},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:A,onDirectionChange:()=>u(d==="asc"?"desc":"asc"),onPerPageChange:k,onResetFilters:E,types:[],categories:[],departments:[],sortOptions:F,perPageOptions:B}),e.jsxs("div",{className:"mt-8",children:[e.jsx(D,{title:r("users.table.title"),description:r("users.table.description"),icon:e.jsx(le,{className:"h-6 w-6 text-white"}),model:"user",routeName:"users.create",theme:"blue",buttonText:r("users.add_user")}),e.jsx(I,{className:"overflow-hidden rounded-lg border dark:border-gray-700 dark:bg-gray-800 shadow-sm",children:e.jsx(L,{className:"p-0",children:e.jsxs(R,{children:[e.jsx(V,{children:e.jsxs(N,{className:"bg-muted/50 dark:bg-muted/30",children:[e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.id")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.name")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.email")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.roles")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.created")}),e.jsx(i,{className:"px-6 py-4 text-right font-semibold text-foreground dark:text-foreground",children:r("users.table.actions")})]})}),e.jsx($,{children:s.data&&s.data.length>0?s.data.map(t=>e.jsxs(N,{className:"hover:bg-muted/50 dark:hover:bg-muted/30 border-b border-border dark:border-border",children:[e.jsx(n,{className:"px-6 py-4 font-medium text-foreground dark:text-foreground",children:t.id}),e.jsx(n,{className:"px-6 py-4 font-medium text-foreground dark:text-foreground",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.name})]})}),e.jsx(n,{className:"px-6 py-4 text-foreground dark:text-foreground",children:t.email}),e.jsx(n,{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.roles&&t.roles.length>0?t.roles.map(S=>e.jsx(re,{variant:"secondary",className:"bg-secondary text-secondary-foreground dark:bg-secondary dark:text-secondary-foreground",children:S.name},S.id)):e.jsx("span",{className:"text-muted-foreground dark:text-muted-foreground",children:"-"})})}),e.jsx(n,{className:"px-6 py-4 text-muted-foreground dark:text-muted-foreground",children:ee(t.created_at)}),e.jsx(n,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(se,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.view"),className:"h-8 w-8",children:e.jsx(b,{href:route("users.show",t.id),children:e.jsx(ce,{className:"h-4 w-4"})})})}),e.jsx(ae,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.edit"),className:"h-8 w-8",children:e.jsx(b,{href:route("users.edit",t.id),children:e.jsx(me,{className:"h-4 w-4"})})})}),e.jsx(oe,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>P(t),title:r("users.actions.delete"),className:"h-8 w-8",children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.analytics.view_analytics"),className:"h-8 w-8",children:e.jsx(b,{href:`/analytics/User/${t.id}`,children:e.jsx(ue,{className:"h-4 w-4"})})})]})})]},t.id)):e.jsx(N,{children:e.jsx(n,{colSpan:6,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground dark:text-muted-foreground",children:[e.jsx("div",{className:"rounded-full bg-muted dark:bg-black p-4",children:e.jsx(ie,{className:"h-8 w-8 text-muted-foreground dark:text-muted-foreground dark:bg-black"})}),e.jsx("p",{className:"text-lg font-semibold text-foreground dark:text-foreground",children:r("users.no_users")}),e.jsx("p",{className:"text-sm text-muted-foreground dark:text-muted-foreground",children:r("users.no_users_description")})]})})})})]})})})]}),s&&s.links&&s.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(M,{links:s.links})})]})]})}export{dr as default};
