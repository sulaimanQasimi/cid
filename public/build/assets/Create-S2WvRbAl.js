import{r as n,m as q,j as e,L as k}from"./app-CbeKh3sQ.js";import{B as _}from"./button-vsEdbmui.js";import{C as A,a as D,b as E,c as H,d as B,e as P}from"./card-DRnQwPQj.js";import{I as b}from"./input-Bw-0_52B.js";import{L as o}from"./label-BNLuQA3w.js";import{S as m,a as p,b as x,c as h,d as l}from"./select-CmNuGxCi.js";import{T as R,a as z,b as N,c as y}from"./tabs-DiS1o3OE.js";import{T as C}from"./textarea-BJwe_tKQ.js";import{A as G}from"./app-layout-CfjUymSY.js";import{u as J}from"./translate-DDGPHNjD.js";import{L as K}from"./LocationSelector-ChcZbl0a.js";import{H as O}from"./header-CnbfMSqF.js";import{S as Q}from"./triangle-alert-D2IIfKaK.js";import{F as U}from"./file-text-C1z44-YN.js";import{M as W}from"./map-pin-CQeslq4k.js";import{S as X}from"./save-rwgv_ddh.js";import"./utils-Bb4HXjj7.js";import"./index-D6KZUy1Z.js";import"./index-DFtoJXdd.js";import"./index-oxwXHx3t.js";import"./index-BLwe4XBe.js";import"./createLucideIcon-C8XIMENg.js";import"./index-BogOZRgn.js";import"./check-lRMwoNkK.js";import"./x-CQQzauN7.js";import"./index-DDyZSmUm.js";import"./avatar-BtcH7zJL.js";import"./eye-DEj99WMU.js";import"./users-C__KGsfH.js";import"./tag-e31-1F12.js";import"./qr-code-B2awKxBM.js";import"./chart-column-ZTAypupu.js";import"./building-1My10aAi.js";import"./database-BoNrNW8a.js";import"./afghanistanLow-mnRKi4Rp.js";import"./AnimatedTheme-BUmUfnV6.js";import"./Theme-BmHcCuAX.js";import"./Circle-DyikkrcO.js";import"./SerialChart-MSWVa1Ci.js";import"./MapPolygonSeries-bpqE6TXb.js";import"./ZoomControl-CDAyJ23N.js";import"./ZoomTools-DDA194Cd.js";import"./LinearGradient-ljWV8iHm.js";import"./permission-guard-Jly9WMCD.js";import"./arrow-left-CumcE478.js";import"./plus-L_b-Iqd7.js";function Ge({infoTypes:f=[],infoCategories:u=[],departments:j=[]}){const{t}=J(),S=[{title:t("info.page_title"),href:route("infos.index")},{title:t("info.create.breadcrumb"),href:route("infos.create")}],[c,w]=n.useState("basic"),[g,v]=n.useState(!1),[T,F]=n.useState(null),{data:r,setData:i,post:L,processing:d,errors:s}=q({name:"",code:"",description:"",info_type_id:"",info_category_id:"",department_id:"none",value:{content:"",location:null}}),M=a=>{w(a),a==="location"&&v(!0)},V=a=>{F(a),i("value",{...r.value,location:a})},I=a=>{a.preventDefault(),L(route("infos.store"),{onSuccess:()=>{}})};return n.useEffect(()=>{c==="location"&&v(!0)},[c]),e.jsxs(G,{breadcrumbs:S,children:[e.jsx(k,{title:t("info.create.page_title")}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(O,{title:t("info.create.title"),description:t("info.create.description"),buttonText:t("info.create.back_to_list"),icon:e.jsx(Q,{className:"h-8 w-8 text-white"}),model:"info",routeName:"infos.index",theme:"purple"}),e.jsx("form",{onSubmit:I,children:e.jsxs(A,{className:"overflow-hidden border-none bg-gradient-to-bl from-white to-purple-50/30 shadow-xl",children:[e.jsxs(D,{className:"border-b bg-gradient-to-l from-purple-500 to-purple-600 pb-4 text-white",children:[e.jsxs(E,{className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"rounded-lg bg-white/20 p-2",children:e.jsx(U,{className:"h-5 w-5"})}),t("info.create.form.title")]}),e.jsx(H,{className:"text-purple-100",children:t("info.create.form.description")})]}),e.jsxs(B,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"info_type_id",children:[t("info.create.fields.type")," ",e.jsx("span",{className:"text-red-500",children:t("common.required_field")})]}),e.jsxs(m,{value:r.info_type_id,onValueChange:a=>i("info_type_id",a),required:!0,children:[e.jsx(p,{id:"info_type_id",children:e.jsx(x,{placeholder:t("info.create.placeholders.select_type")})}),e.jsx(h,{children:f.length>0?f.map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.create.no_types_available")})})]}),s.info_type_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.info_type_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"info_category_id",children:[t("info.create.fields.category")," ",e.jsx("span",{className:"text-red-500",children:t("common.required_field")})]}),e.jsxs(m,{value:r.info_category_id,onValueChange:a=>i("info_category_id",a),required:!0,children:[e.jsx(p,{id:"info_category_id",children:e.jsx(x,{placeholder:t("info.create.placeholders.select_category")})}),e.jsx(h,{children:u.length>0?u.map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.create.no_categories_available")})})]}),s.info_category_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.info_category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"department_id",children:t("info.create.fields.department")}),e.jsxs(m,{value:r.department_id,onValueChange:a=>i("department_id",a),children:[e.jsx(p,{id:"department_id",children:e.jsx(x,{placeholder:t("info.create.placeholders.select_department")})}),e.jsxs(h,{children:[e.jsx(l,{value:"none",children:t("common.none")}),j.length>0?j.map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.create.no_departments_available")})]})]}),s.department_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.department_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:t("info.create.fields.name")}),e.jsx(b,{id:"name",value:r.name,onChange:a=>i("name",a.target.value)}),s.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"code",children:t("info.create.fields.code")}),e.jsx(b,{id:"code",value:r.code,onChange:a=>i("code",a.target.value),placeholder:t("info.create.placeholders.code")}),s.code&&e.jsx("p",{className:"text-sm text-red-500",children:s.code}),e.jsx("p",{className:"text-sm text-gray-500",children:t("info.create.code_helper")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:t("info.create.fields.description")}),e.jsx(C,{id:"description",value:r.description,onChange:a=>i("description",a.target.value),rows:3}),s.description&&e.jsx("p",{className:"text-sm text-red-500",children:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:t("info.create.fields.content")}),e.jsxs(R,{defaultValue:"basic",value:c,onValueChange:M,children:[e.jsxs(z,{className:"grid w-full grid-cols-2",children:[e.jsx(N,{value:"basic",children:t("info.create.content_tabs.basic")}),e.jsxs(N,{value:"location",className:"flex items-center gap-1",children:[e.jsx(W,{className:"h-4 w-4"}),t("info.create.content_tabs.location")]})]}),e.jsx(y,{value:"basic",className:"pt-4",children:e.jsx(C,{id:"content",value:r.value.content,onChange:a=>i("value",{...r.value,content:a.target.value}),rows:5,placeholder:t("info.create.placeholders.content")})}),e.jsx(y,{value:"location",className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:t("info.create.location_description")}),g&&e.jsx(K,{value:T,onChange:V}),!g&&e.jsx("div",{className:"flex h-[400px] items-center justify-center rounded-md bg-gray-100",children:t("info.create.loading_map")})]})})]}),s.value&&e.jsx("p",{className:"text-sm text-red-500",children:s.value})]})]}),e.jsxs(P,{className:"flex justify-between border-t bg-gradient-to-l from-purple-50 to-purple-100 px-6 py-5",children:[e.jsx(_,{variant:"outline",onClick:()=>window.history.back(),type:"button",disabled:d,className:"rounded-full border-purple-300 text-purple-700 shadow-lg hover:border-purple-400 hover:bg-purple-100",children:t("common.cancel")}),e.jsxs(_,{type:"submit",disabled:d,className:"rounded-full bg-gradient-to-l from-purple-500 to-purple-600 px-8 font-medium text-white shadow-lg transition-all duration-300 hover:from-purple-600 hover:to-purple-700 hover:shadow-xl",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),t(d?"info.create.saving":"info.create.save")]})]})]})})]})]})}export{Ge as default};
