import{r as y,m as _,j as e,L as C}from"./app-ClkBox42.js";import{A as k}from"./app-layout-CW0bKekL.js";import{u as w}from"./translate-BkG5lsBL.js";import{P as h}from"./PersianDatePicker-CQpyyDhI.js";import{B as d}from"./button-D4jyYQ1Q.js";import{I as u}from"./input-CJ5-gOpr.js";import{L as l}from"./label-FP9VqPXL.js";import{T as E}from"./textarea-v4IGxCcT.js";import{C as M,a as D,b as P,d as S}from"./card-CAe-xxiW.js";import{P as L}from"./plus-CsuFJYSH.js";import{X as T}from"./x-DmLGt7Xb.js";import"./utils-TGRqflit.js";import"./index-F8D-J14_.js";import"./createLucideIcon-BTLmC541.js";import"./tslib.es6-CmEaCU22.js";import"./index-l6ogYteW.js";import"./index-BArnEXsB.js";import"./index-DHwxsUht.js";import"./index-PkKjS6kf.js";import"./avatar-Bbg9wF6n.js";import"./calendar-CbTlw5nf.js";import"./file-text-DzDNqiSK.js";import"./users-BvldaJhh.js";import"./tag-k7aO0S0T.js";import"./triangle-alert-Db_kNgQZ.js";import"./qr-code-Bg9gKvMq.js";import"./map-pin-B_TOKvLv.js";import"./database-DPqzEiYp.js";import"./shield-DmXAlHnm.js";import"./index-Bo8VSZos.js";import"./chevron-left-k9I3g6AI.js";function pe({auth:q,meeting:a}){const{t:s}=w(),[o,c]=y.useState(""),{data:r,setData:m,put:b,processing:p,errors:i}=_({title:a.title,description:a.description||"",start_date:a.start_date||"",end_date:a.end_date||"",members:a.members||[]}),x=()=>{const t=o.trim();t&&!r.members.includes(t)&&(m("members",[...r.members,t]),c(""))},g=t=>{m("members",r.members.filter((n,N)=>N!==t))},j=t=>{t.key==="Enter"&&(t.preventDefault(),x())},f=t=>{t.preventDefault(),b(route("meetings.update",a.id))},v=[{title:s("meeting.page_title")||"Meetings",href:route("meetings.index")},{title:s("meeting.edit.page_title")||"Edit Meeting",href:"#"}];return e.jsxs(k,{breadcrumbs:v,children:[e.jsx(C,{title:`${s("meeting.edit.page_title")||"Edit Meeting"}: ${a.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:s("meeting.edit.page_title")||"Edit Meeting"}),e.jsxs(M,{children:[e.jsx(D,{children:e.jsx(P,{children:s("meeting.edit.form_title")||"Meeting Information"})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"title",className:"block text-sm font-medium mb-1",children:[s("meeting.title")||"Title"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{type:"text",id:"title",value:r.title,onChange:t=>m("title",t.target.value),className:"w-full",required:!0}),i.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.title})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",className:"block text-sm font-medium mb-1",children:s("meeting.description")||"Description"}),e.jsx(E,{id:"description",rows:4,value:r.description,onChange:t=>m("description",t.target.value),className:"w-full"}),i.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(h,{label:s("meeting.start_date")||"Start Date",value:r.start_date,onChange:t=>m("start_date",t),required:!0,error:i.start_date,id:"start_date"})}),e.jsx("div",{children:e.jsx(h,{label:s("meeting.end_date")||"End Date",value:r.end_date,onChange:t=>m("end_date",t),required:!0,error:i.end_date,id:"end_date"})})]}),e.jsxs("div",{children:[e.jsx(l,{className:"block text-sm font-medium mb-2",children:s("meeting.members")||"Members"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{type:"text",placeholder:s("meeting.add_member_placeholder")||"Enter member name...",value:o,onChange:t=>c(t.target.value),onKeyPress:j,className:"flex-1"}),e.jsx(d,{type:"button",onClick:x,variant:"outline",children:e.jsx(L,{className:"h-4 w-4"})})]}),r.members.length>0&&e.jsx("div",{className:"border border-gray-300 dark:border-gray-700 rounded-md p-3 space-y-2",children:r.members.map((t,n)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded",children:[e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:t}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(n),className:"h-6 w-6 p-0",children:e.jsx(T,{className:"h-4 w-4"})})]},n))})]}),i.members&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:i.members})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:s("common.cancel")||"Cancel"}),e.jsx(d,{type:"submit",disabled:p,children:p?s("common.saving")||"Saving...":s("common.save")||"Save Changes"})]})]})})]})]})})]})}export{pe as default};
