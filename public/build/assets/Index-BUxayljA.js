import{r as o,U as S,S as g,j as e,L as z,$ as b}from"./app-BpSUcJGn.js";import{A as I}from"./app-layout-Cci7W_wL.js";import{B as h}from"./button-D5HSAalX.js";import{C as L,d as R}from"./card-DH7bpRIX.js";import{T as V,a as $,b as N,c as i,d as M,e as n}from"./table-pV2y3nC4.js";import{P as Q}from"./pagination-BDwyhh7o.js";import{A as q,a as G,b as J,c as K,d as W,e as X,f as Y,g as Z}from"./alert-dialog-BfcA_FNG.js";import{u as ee}from"./translate-De6eSKXZ.js";import{f as re}from"./date-BaJKjiu2.js";import{B as D}from"./badge-DmtoVPqk.js";import{H as w}from"./header-DKBq-HD0.js";import{S as te}from"./SearchFilters-DKj_zaqz.js";import{C as se,a as ae,b as oe}from"./permission-guard-PRK_BxP5.js";import{S as ne,T as ie}from"./triangle-alert-B3BvgGty.js";import{T as de}from"./trending-up-C2gbP6K6.js";import{U as le}from"./user-gQXgH3u9.js";import{E as ce}from"./eye-EegdPOj9.js";import{P as me}from"./pencil-Ca986Y6G.js";import{T as pe}from"./trash-BuFXFCIr.js";import{C as ue}from"./chart-column-BnoJN4YC.js";import"./utils-x2oEfXY4.js";import"./index-D_7o4Bq4.js";import"./createLucideIcon-Dazand73.js";import"./index-BAL59aVo.js";import"./index-BGe2Ej9s.js";import"./index-Dc7fd2uP.js";import"./x-DgxmVmP_.js";import"./index-B_ZArIVV.js";import"./avatar-CHvk5jYt.js";import"./file-text-CxW02Lyq.js";import"./users-y5BAq2Js.js";import"./tag-DBjzO3ec.js";import"./qr-code-D69zO1WT.js";import"./map-pin-CgRg4Sos.js";import"./building-B0gV305l.js";import"./database-DvJqsiWQ.js";import"./arrow-left-DYn3FwPw.js";import"./plus-DlxkW1Ht.js";import"./select-4eflkJXu.js";import"./index-BfhS0AQq.js";import"./check-C0q8vu5-.js";import"./input-Bf4x-eDe.js";import"./search-BwuiMKS9.js";import"./filter-x-DGh692b7.js";import"./arrow-up-down-DytAzyzV.js";function xe(s,a){const[r,d]=o.useState(s);return o.useEffect(()=>{const m=setTimeout(()=>{d(s)},a);return()=>{clearTimeout(m)}},[s,a]),r}const ge=[{title:"User Management",href:"#"},{title:"Users",href:route("users.index")}];function lr({users:s,filters:a}){const{t:r}=ee(),[d,m]=o.useState(a.search),[f,k]=o.useState(a.per_page.toString()),[p,y]=o.useState(a.sort),[l,u]=o.useState(a.direction),[_,j]=o.useState(s.current_page),[T,x]=o.useState(!1),[c,A]=o.useState(null),[he,fe]=o.useState(!1),C=xe(d,300);S.useEffect(()=>{j(s.current_page)},[s.current_page]),S.useEffect(()=>{g.get(route("users.index"),{search:C,per_page:f,sort:p,direction:l,page:_},{preserveState:!0,replace:!0})},[C,f,p,l,_]);const P=t=>{p===t?u(l==="asc"?"desc":"asc"):(y(t),u("asc"))},U=t=>{A(t),x(!0)},E=()=>{c&&(g.delete(route("users.destroy",c.id)),x(!1))},O=()=>{m(""),k("10"),y("created_at"),u("desc"),j(1),g.get(route("users.index"),{search:"",per_page:10,sort:"created_at",direction:"desc",page:1})},F=t=>{t.preventDefault(),j(1),g.get(route("users.index"),{search:d,per_page:f,sort:p,direction:l,page:1},{preserveState:!0,replace:!0})},B=[{value:"name",label:"users.sort_options.name"},{value:"email",label:"users.sort_options.email"},{value:"created_at",label:"users.sort_options.created_at"}],H=[{value:5,label:"5 per page"},{value:10,label:"10 per page"},{value:25,label:"25 per page"},{value:50,label:"50 per page"}];return e.jsxs(I,{breadcrumbs:ge,children:[e.jsx(z,{title:r("users.page_title")}),e.jsx(q,{open:T,onOpenChange:x,children:e.jsxs(G,{children:[e.jsxs(J,{children:[e.jsx(K,{children:r("users.delete_dialog.title")}),e.jsx(W,{children:r("users.delete_dialog.description",{name:(c==null?void 0:c.name)||""})})]}),e.jsxs(X,{children:[e.jsx(Y,{onClick:()=>x(!1),children:r("users.delete_dialog.cancel")}),e.jsx(Z,{onClick:E,className:"bg-red-600 hover:bg-red-700",children:r("users.delete_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(w,{title:r("users.page_title"),description:r("users.page_description"),icon:e.jsx(ne,{className:"h-8 w-8 text-white"}),model:"user",routeName:"users.create",buttonText:r("users.add_user"),theme:"blue"}),e.jsx(te,{title:r("users.search_filters"),description:r("users.table.description"),searchQuery:d,onSearchChange:m,onSearchSubmit:F,filters:{sort:a.sort,direction:a.direction,per_page:a.per_page},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:P,onDirectionChange:()=>u(l==="asc"?"desc":"asc"),onPerPageChange:k,onResetFilters:O,types:[],categories:[],departments:[],sortOptions:B,perPageOptions:H}),e.jsxs("div",{className:"mt-8",children:[e.jsx(w,{title:r("users.table.title"),description:r("users.table.description"),icon:e.jsx(de,{className:"h-6 w-6 text-white"}),model:"user",routeName:"users.create",theme:"blue",buttonText:r("users.add_user")}),e.jsx(L,{className:"overflow-hidden rounded-lg border dark:border-gray-700 dark:bg-gray-800 shadow-sm",children:e.jsx(R,{className:"p-0",children:e.jsxs(V,{children:[e.jsx($,{children:e.jsxs(N,{className:"bg-muted/50 dark:bg-muted/30",children:[e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.id")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.name")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.email")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.department")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.roles")}),e.jsx(i,{className:"px-6 py-4 font-semibold text-foreground dark:text-foreground",children:r("users.table.created")}),e.jsx(i,{className:"px-6 py-4 text-right font-semibold text-foreground dark:text-foreground",children:r("users.table.actions")})]})}),e.jsx(M,{children:s.data&&s.data.length>0?s.data.map(t=>e.jsxs(N,{className:"hover:bg-muted/50 dark:hover:bg-muted/30 border-b border-border dark:border-border",children:[e.jsx(n,{className:"px-6 py-4 font-medium text-foreground dark:text-foreground",children:t.id}),e.jsx(n,{className:"px-6 py-4 font-medium text-foreground dark:text-foreground",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.name})]})}),e.jsx(n,{className:"px-6 py-4 text-foreground dark:text-foreground",children:t.email}),e.jsx(n,{className:"px-6 py-4",children:t.department?e.jsx(D,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:t.department.name}):e.jsx("span",{className:"text-muted-foreground dark:text-muted-foreground",children:"-"})}),e.jsx(n,{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.roles&&t.roles.length>0?t.roles.map(v=>e.jsx(D,{variant:"secondary",className:"bg-secondary text-secondary-foreground dark:bg-secondary dark:text-secondary-foreground",children:v.name},v.id)):e.jsx("span",{className:"text-muted-foreground dark:text-muted-foreground",children:"-"})})}),e.jsx(n,{className:"px-6 py-4 text-muted-foreground dark:text-muted-foreground",children:re(t.created_at)}),e.jsx(n,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(se,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.view"),className:"h-8 w-8",children:e.jsx(b,{href:route("users.show",t.id),children:e.jsx(ce,{className:"h-4 w-4"})})})}),e.jsx(ae,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.edit"),className:"h-8 w-8",children:e.jsx(b,{href:route("users.edit",t.id),children:e.jsx(me,{className:"h-4 w-4"})})})}),e.jsx(oe,{model:"user",children:e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>U(t),title:r("users.actions.delete"),className:"h-8 w-8",children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsx(h,{variant:"ghost",size:"icon",asChild:!0,title:r("users.analytics.view_analytics"),className:"h-8 w-8",children:e.jsx(b,{href:`/analytics/User/${t.id}`,children:e.jsx(ue,{className:"h-4 w-4"})})})]})})]},t.id)):e.jsx(N,{children:e.jsx(n,{colSpan:7,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground dark:text-muted-foreground",children:[e.jsx("div",{className:"rounded-full bg-muted dark:bg-black p-4",children:e.jsx(ie,{className:"h-8 w-8 text-muted-foreground dark:text-muted-foreground dark:bg-black"})}),e.jsx("p",{className:"text-lg font-semibold text-foreground dark:text-foreground",children:r("users.no_users")}),e.jsx("p",{className:"text-sm text-muted-foreground dark:text-muted-foreground",children:r("users.no_users_description")})]})})})})]})})})]}),s&&s.links&&s.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(Q,{links:s.links})})]})]})}export{lr as default};
