import{m as L,j as e,L as T,$ as _}from"./app-BpSUcJGn.js";import{B as h}from"./button-D5HSAalX.js";import{C as d,a as o,b as m,c as p,d as x,e as D}from"./card-DH7bpRIX.js";import{I}from"./input-Bf4x-eDe.js";import{L as c}from"./label-BnpnVHdR.js";import{T as R}from"./textarea-ybXvi9HL.js";import{S as u,a as g,b,c as j,d as i}from"./select-4eflkJXu.js";import{A as V}from"./app-layout-Cci7W_wL.js";import{u as B}from"./translate-De6eSKXZ.js";import{S as f,T as n}from"./triangle-alert-B3BvgGty.js";import{L as P}from"./lock-Dw41jq4Z.js";import{A as z}from"./arrow-left-DYn3FwPw.js";import{U as v}from"./user-gQXgH3u9.js";import{F as w}from"./file-text-CxW02Lyq.js";import{f as G}from"./index-CaunA62S.js";import{C as U}from"./calendar-CyTv6Ocs.js";import{C as $}from"./clock-DTJCBiiM.js";import{C as E}from"./circle-check-big-Be6zzeQ7.js";import"./utils-x2oEfXY4.js";import"./index-Dc7fd2uP.js";import"./index-BAL59aVo.js";import"./index-BGe2Ej9s.js";import"./index-D_7o4Bq4.js";import"./createLucideIcon-Dazand73.js";import"./index-BfhS0AQq.js";import"./check-C0q8vu5-.js";import"./x-DgxmVmP_.js";import"./index-B_ZArIVV.js";import"./avatar-CHvk5jYt.js";import"./users-y5BAq2Js.js";import"./tag-DBjzO3ec.js";import"./qr-code-D69zO1WT.js";import"./chart-column-BnoJN4YC.js";import"./map-pin-CgRg4Sos.js";import"./building-B0gV305l.js";import"./database-DvJqsiWQ.js";const H=[{title:"Dashboard",href:"/dashboard"},{title:"Incident Report Access",href:route("incident-report-access.index")},{title:"Grant Access",href:route("incident-report-access.create")}];function Se({users:y,incidentReports:C}){const{t:s}=B(),{data:a,setData:l,post:S,processing:N,errors:t}=L({user_id:"",incident_report_id:"",access_type:"read_only",notes:"",expires_at:""});function k(r){r.preventDefault();const F={...a,incident_report_id:a.incident_report_id==="global"?"":a.incident_report_id};l(F),S(route("incident-report-access.store"))}function A(r){l("incident_report_id",r)}return e.jsxs(V,{breadcrumbs:H,children:[e.jsx(T,{title:"Grant Incident Report Access"}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-l from-purple-600 via-blue-600 to-indigo-600 p-8 lg:p-12 text-white shadow-2xl mb-8 group",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-80 h-80 bg-white/10 rounded-full -translate-y-40 -translate-x-40 blur-3xl group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-white/5 rounded-full translate-y-32 translate-x-32 blur-2xl group-hover:scale-110 transition-transform duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:justify-between lg:items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"p-6 bg-white/20 backdrop-blur-md rounded-3xl border border-white/30 shadow-2xl group-hover:scale-105 transition-transform duration-300",children:e.jsx(f,{className:"h-10 w-10 text-white"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white drop-shadow-2xl tracking-tight",children:s("grant_access")}),e.jsxs("div",{className:"text-white/90 flex items-center gap-3 text-xl font-medium",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(P,{className:"h-6 w-6"})}),s("grant_incident_report_access_to_user")]})]})]}),e.jsx(h,{asChild:!0,className:"bg-white/20 backdrop-blur-md border-white/30 text-white hover:bg-white/30 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsxs(_,{href:route("incident-report-access.index"),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),s("back_to_access_management")]})})]})]}),e.jsx("form",{onSubmit:k,children:e.jsxs("div",{className:"grid gap-8",children:[e.jsxs(d,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30",children:[e.jsxs(o,{className:"bg-gradient-to-l from-purple-500 to-purple-600 text-white border-b pb-4",children:[e.jsxs(m,{className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(v,{className:"h-5 w-5"})}),s("select_user")]}),e.jsx(p,{className:"text-purple-100",children:s("choose_user_to_grant_access")})]}),e.jsx(x,{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"user_id",className:"text-base font-medium flex items-center gap-2 text-purple-700",children:[e.jsx("span",{className:"text-red-500",children:"*"}),s("user"),e.jsx(v,{className:"h-4 w-4"})]}),e.jsxs(u,{value:a.user_id,onValueChange:r=>l("user_id",r),children:[e.jsx(g,{className:"h-12 border-purple-200 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 to-white",children:e.jsx(b,{placeholder:s("select_user_to_grant_access")})}),e.jsx(j,{children:y.map(r=>e.jsx(i,{value:r.id.toString(),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:r.name}),e.jsx("span",{className:"text-sm text-gray-500",children:r.email})]})},r.id))})]}),t.user_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.user_id]})]})})]}),e.jsxs(d,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30",children:[e.jsxs(o,{className:"bg-gradient-to-l from-purple-500 to-purple-600 text-white border-b pb-4",children:[e.jsxs(m,{className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(w,{className:"h-5 w-5"})}),s("report_selection")]}),e.jsx(p,{className:"text-purple-100",children:s("choose_global_or_specific")})]}),e.jsx(x,{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_report_id",className:"text-base font-medium flex items-center gap-2 text-purple-700",children:[s("report_optional"),e.jsx(w,{className:"h-4 w-4"})]}),e.jsxs(u,{value:a.incident_report_id,onValueChange:A,children:[e.jsx(g,{className:"h-12 border-purple-200 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 to-white",children:e.jsx(b,{placeholder:s("select_specific_report")})}),e.jsxs(j,{children:[e.jsx(i,{value:"global",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s("global_access")}),e.jsx("div",{className:"text-sm text-gray-500",children:s("access_to_all_incident_reports")})]})]})}),C.map(r=>e.jsx(i,{value:r.id.toString(),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:r.report_number}),e.jsx("span",{className:"text-sm text-gray-500",children:G(new Date(r.report_date),"PPP")})]})},r.id))]})]}),t.incident_report_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.incident_report_id]})]})})]}),e.jsxs(d,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30",children:[e.jsxs(o,{className:"bg-gradient-to-l from-purple-500 to-purple-600 text-white border-b pb-4",children:[e.jsxs(m,{className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(f,{className:"h-5 w-5"})}),s("access_configuration")]}),e.jsx(p,{className:"text-purple-100",children:s("configure_type_and_duration")})]}),e.jsxs(x,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"access_type",className:"text-base font-medium flex items-center gap-2 text-purple-700",children:[e.jsx("span",{className:"text-red-500",children:"*"}),s("access_type"),e.jsx(f,{className:"h-4 w-4"})]}),e.jsxs(u,{value:a.access_type,onValueChange:r=>l("access_type",r),children:[e.jsx(g,{className:"h-12 border-purple-200 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 to-white",children:e.jsx(b,{placeholder:s("select_access_type")})}),e.jsxs(j,{children:[e.jsx(i,{value:"read_only",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s("read_only")}),e.jsx("div",{className:"text-sm text-gray-500",children:s("view_incident_reports_and_incidents_only")})]})]})}),e.jsx(i,{value:"incidents_only",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s("incidents_only")}),e.jsx("div",{className:"text-sm text-gray-500",children:s("access_to_incidents_only_not_reports")})]})]})}),e.jsx(i,{value:"full",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s("full_access")}),e.jsx("div",{className:"text-sm text-gray-500",children:s("complete_access_to_create_edit_and_delete")})]})]})})]})]}),t.access_type&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.access_type]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"expires_at",className:"text-base font-medium flex items-center gap-2 text-purple-700",children:[s("expiration_date"),e.jsx(U,{className:"h-4 w-4"})]}),e.jsx(I,{id:"expires_at",type:"datetime-local",value:a.expires_at,onChange:r=>l("expires_at",r.target.value),className:"h-12 border-purple-200 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 to-white"}),t.expires_at&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.expires_at]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"notes",className:"text-base font-medium flex items-center gap-2 text-purple-700",children:[s("notes"),e.jsx($,{className:"h-4 w-4"})]}),e.jsx(R,{id:"notes",rows:3,value:a.notes,onChange:r=>l("notes",r.target.value),placeholder:s("optional_notes"),className:"min-h-[80px] resize-none border-purple-200 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 to-white"}),t.notes&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.notes]})]})]})]}),e.jsxs(d,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30",children:[e.jsxs(o,{className:"bg-gradient-to-l from-blue-500 to-blue-600 text-white border-b pb-4",children:[e.jsxs(m,{className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(E,{className:"h-5 w-5"})}),s("access_type_details")]}),e.jsx(p,{className:"text-blue-100",children:s("understanding_access_levels")})]}),e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:s("read_only")})]}),e.jsx("p",{className:"text-sm text-blue-700",children:s("read_only_description")})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("h3",{className:"font-semibold text-orange-900",children:s("incidents_only")})]}),e.jsx("p",{className:"text-sm text-orange-700",children:s("incidents_only_description")})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("h3",{className:"font-semibold text-green-900",children:s("full_access")})]}),e.jsx("p",{className:"text-sm text-green-700",children:s("full_access_description")})]})]})})]}),e.jsx(d,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30",children:e.jsxs(D,{className:"flex justify-between border-t px-6 py-5 bg-gradient-to-l from-purple-50 to-purple-100",children:[e.jsx(h,{variant:"outline",asChild:!0,className:"rounded-full border-purple-300 text-purple-700 hover:bg-purple-100 hover:border-purple-400 shadow-lg",children:e.jsx(_,{href:route("incident-report-access.index"),children:s("cancel")})}),e.jsx(h,{type:"submit",disabled:N,className:"rounded-full px-8 font-medium bg-gradient-to-l from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:s(N?"granting_access":"grant_access")})]})})]})})]})]})}export{Se as default};
