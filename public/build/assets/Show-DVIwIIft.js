const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LocationDisplay-JeO3jU4y.js","assets/app-BSeZpodm.js","assets/app-Cs5y1Vkc.css","assets/afghanistanLow-mnRKi4Rp.js","assets/AnimatedTheme-Cau1-Aan.js","assets/Theme-Dgo0XspA.js","assets/Root-KLg9UpOR.js","assets/SerialChart-CAnqEg8j.js","assets/tslib.es6-CmEaCU22.js","assets/MapPolygonSeries-NJ2uQLcc.js","assets/MapPointSeries-CHiCMUlJ.js","assets/Circle-DJKlttmY.js"])))=>i.map(i=>d[i]);
import{r as m,j as e,L as z,$ as l,S as _,_ as G}from"./app-BSeZpodm.js";import{A as y,a as C,b as D,c as k,d as A,e as T,f as E,g as S}from"./alert-dialog-DSsj02SG.js";import{B as J}from"./badge-BAYZQXqo.js";import{B as r}from"./button-C7H6m8g8.js";import{C as i,a as o,b as d,d as n}from"./card-BLEWlM2-.js";import{T as U,a as $,b as B,c as L}from"./tabs-BLn3DNLp.js";import{A as X}from"./app-layout-DEwBGCrI.js";import{u as Z}from"./translate-ECfQMhz_.js";import{E as O}from"./eye-LbBVmFLK.js";import{F as c}from"./file-text-DIxjRude.js";import{C as p}from"./check-XhDRIC2U.js";import{T as K}from"./trash-BfnyWm9q.js";import{P as Q}from"./pencil-BoJAucky.js";import{A as W}from"./arrow-left-BvXerM8P.js";import{c as Y}from"./createLucideIcon-C7ZN8bcu.js";import{X as ee}from"./x-FKqRxCLJ.js";import{F as se}from"./file-check-BnnfyTkZ.js";import{G as te}from"./gavel-Cb476Wgv.js";import{H as ae}from"./house-CdAqGplj.js";import{B as le}from"./building-2-CGORvA4u.js";import{B as re}from"./database-BOnIOgjl.js";import{U as f}from"./users-DZiyXIAd.js";import{C as I}from"./calendar-Ccki_-uE.js";import{C as ie}from"./clock-Xbqiim6m.js";import{M as oe}from"./map-pin-BRIgJ3eg.js";import"./utils-DFY_LKK-.js";import"./index-CUpfcH-K.js";import"./tslib.es6-CmEaCU22.js";import"./index-DzpYKZwn.js";import"./index-CroyvcsG.js";import"./index-BdC9FyRf.js";import"./index-BjVeQrf2.js";import"./avatar-zRG6EzdP.js";import"./tag-CaXQjazJ.js";import"./triangle-alert-BEx-oqBO.js";import"./qr-code-BDd7-sWJ.js";import"./shield-DjCz5Zoo.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],ne=Y("BadgeInfo",de),ce=m.lazy(()=>G(()=>import("./LocationDisplay-JeO3jU4y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));function Xe({info:t,permissions:x}){var b,j,u,N,w;const{t:s}=Z(),[F,h]=m.useState(!1),[P,g]=m.useState(!1),H=[{title:s("info_types.page_title"),href:route("info-types.index")},{title:s("info.show.breadcrumb"),href:"#"}],M=()=>{_.delete(route("infos.destroy",t.id),{onSuccess:()=>{h(!1)}})},R=()=>{_.patch(route("infos.confirm",t.id),{},{onSuccess:()=>{g(!1)}})},V=a=>{if(!a)return s("info.show.no_content");if(typeof a=="object"){if(a.content)return a.content;const{location:q,...v}=a;return Object.keys(v).length>0?JSON.stringify(v,null,2):q?s("info.show.location_data_available"):JSON.stringify(a,null,2)}return String(a)};return e.jsxs(X,{breadcrumbs:H,children:[e.jsx(z,{title:s("info.show.page_title",{name:t.name||"Info Record"})}),e.jsx(y,{open:F,onOpenChange:h,children:e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(k,{children:s("info.show.delete_dialog.title")}),e.jsx(A,{children:s("info.show.delete_dialog.description")})]}),e.jsxs(T,{children:[e.jsx(E,{children:s("info.show.delete_dialog.cancel")}),e.jsx(S,{onClick:M,className:"bg-red-600 hover:bg-red-700",children:s("info.show.delete_dialog.confirm")})]})]})}),e.jsx(y,{open:P,onOpenChange:g,children:e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(k,{children:s("info.show.confirm_dialog.title")}),e.jsx(A,{children:s("info.show.confirm_dialog.description")})]}),e.jsxs(T,{children:[e.jsx(E,{children:s("info.show.confirm_dialog.cancel")}),e.jsx(S,{onClick:R,className:"bg-green-600 hover:bg-green-700",children:s("info.show.confirm_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-8",children:[e.jsxs("div",{className:"relative mb-8 overflow-hidden rounded-2xl bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 p-8 text-white shadow-xl lg:p-10",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.03%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"rounded-xl border border-white/20 bg-white/10 p-4 shadow-lg backdrop-blur-sm",children:e.jsx(O,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white lg:text-4xl",children:t.name||s("info.show.title")}),e.jsxs("p",{className:"flex items-center gap-2 text-lg font-medium text-slate-300",children:[e.jsx(c,{className:"h-5 w-5"}),s("info.show.description")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[!t.confirmed&&x.canConfirm&&e.jsx(r,{onClick:()=>g(!0),className:"rounded-lg bg-green-600 px-4 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:bg-green-700",children:e.jsx(p,{className:"h-4 w-4"})}),x.canDelete&&e.jsx(r,{variant:"destructive",onClick:()=>h(!0),className:"rounded-lg bg-red-600 px-4 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:bg-red-700",children:e.jsx(K,{className:"h-4 w-4"})}),x.canEdit&&e.jsx(r,{asChild:!0,className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:bg-blue-700",children:e.jsx(l,{href:route("infos.edit",t.id),className:"flex items-center gap-2",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsx(r,{variant:"outline",asChild:!0,className:"rounded-lg border-white/20 bg-white/10 px-4 py-2 font-medium text-white shadow-lg backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:e.jsx(l,{href:route("info-types.index"),className:"flex items-center gap-2",children:e.jsx(W,{className:"h-4 w-4"})})})]})]})]}),e.jsxs(i,{className:"mb-8 overflow-hidden rounded-xl border border-slate-200 shadow-lg",children:[e.jsx(o,{className:"border-b border-slate-200 bg-gradient-to-r from-slate-50 to-slate-100 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(d,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(ne,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold text-slate-900",children:s("info.show.details.title")}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.details.description")})]})]}),e.jsx(J,{variant:t.confirmed?"default":"secondary",className:"rounded-lg border-green-200 bg-green-100 px-3 py-1 font-medium text-green-800",children:t.confirmed?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),s("info.show.status.confirmed")]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-3 w-3"}),s("info.show.status.unconfirmed")]})})]})}),e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(c,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.name")]}),e.jsx("p",{className:"font-medium text-slate-900",children:t.name||s("info.show.not_specified")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(se,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.code")]}),e.jsx("p",{className:"font-mono font-medium text-slate-900",children:t.code||s("info.show.not_specified")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(te,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.type")]}),e.jsx("p",{className:"text-slate-900",children:t.infoType?e.jsx(l,{href:route("info-types.show",t.infoType.id),className:"font-medium text-blue-600 transition-colors hover:text-blue-800 hover:underline",children:t.infoType.name}):e.jsx("span",{className:"text-slate-500",children:s("info.show.not_specified")})})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(ae,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.category")]}),e.jsx("p",{className:"text-slate-900",children:t.infoCategory?e.jsx(l,{href:route("info-categories.show",t.infoCategory.id),className:"font-medium text-blue-600 transition-colors hover:text-blue-800 hover:underline",children:t.infoCategory.name}):e.jsx("span",{className:"text-slate-500",children:s("info.show.not_specified")})})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(le,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.department")]}),e.jsx("p",{className:"text-slate-900",children:t.department?e.jsxs(l,{href:route("departments.show",t.department.id),className:"flex items-center gap-2 font-medium text-blue-600 transition-colors hover:text-blue-800 hover:underline",children:[e.jsx(re,{className:"h-4 w-4"}),t.department.name]}):e.jsx("span",{className:"text-slate-500",children:s("info.show.not_assigned")})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(c,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.description")]}),e.jsx("p",{className:"text-slate-900",children:t.description||s("info.show.no_description")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(f,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.created_by")]}),e.jsx("p",{className:"font-medium text-slate-900",children:((b=t.creator)==null?void 0:b.name)||s("info.show.system")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(f,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.owner")]}),e.jsx("p",{className:"font-medium text-slate-900",children:((j=t.user)==null?void 0:j.name)||s("info.show.not_assigned")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(I,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.created_at")]}),e.jsx("p",{className:"font-medium text-slate-900",children:new Date(t.created_at).toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(ie,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.updated_at")]}),e.jsx("p",{className:"font-medium text-slate-900",children:new Date(t.updated_at).toLocaleString()})]})]})]})})]}),e.jsxs(i,{className:"mb-8 overflow-hidden rounded-xl border border-slate-200 shadow-lg",children:[e.jsx(o,{className:"border-b border-slate-200 bg-gradient-to-r from-slate-50 to-slate-100 py-6",children:e.jsxs(d,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(c,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold text-slate-900",children:s("info.show.content.title")}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.content.description")})]})]})}),e.jsx(n,{className:"p-6",children:e.jsxs(U,{defaultValue:"basic",children:[e.jsxs($,{className:"mb-6 grid w-full grid-cols-2 rounded-lg bg-slate-100 p-1",children:[e.jsx(B,{value:"basic",className:"rounded-md data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",children:s("info.show.content_tabs.basic")}),t.value&&t.value.location&&e.jsxs(B,{value:"location",className:"flex items-center gap-1 rounded-md data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",children:[e.jsx(oe,{className:"h-4 w-4"}),s("info.show.content_tabs.location")]})]}),e.jsx(L,{value:"basic",children:e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:e.jsx("pre",{className:"font-mono text-sm leading-relaxed whitespace-pre-wrap text-slate-900",children:V(((u=t.value)==null?void 0:u.content)||t.value)})})}),t.value&&t.value.location&&e.jsx(L,{value:"location",children:e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:e.jsx(m.Suspense,{fallback:e.jsx("div",{className:"flex h-[400px] items-center justify-center rounded-lg bg-slate-100",children:e.jsx("div",{className:"font-medium text-slate-600",children:s("info.show.loading_map")})}),children:e.jsx(ce,{location:t.value.location})})})})]})})]}),e.jsxs(i,{className:"mb-8 overflow-hidden rounded-xl border border-slate-200 shadow-lg",children:[e.jsx(o,{className:"border-b border-purple-200 bg-gradient-to-r from-purple-50 to-purple-100 py-6",children:e.jsxs(d,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-purple-100 p-2",children:e.jsx(O,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold text-slate-900",children:s("info.show.visitor_stats.title")}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.description")})]})]})}),e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsx("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:t.visits_count||0}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.total_visits")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsx("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:t.unique_visitors_count||0}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.unique_visitors")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsx("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:t.today_visits_count||0}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.today_visits")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsx("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:t.this_week_visits_count||0}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.this_week_visits")})]})]}),t.bounce_rate!==void 0&&t.average_time_spent!==void 0&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsxs("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:[(N=t.bounce_rate)==null?void 0:N.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.bounce_rate")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-center",children:[e.jsx("div",{className:"mb-1 text-2xl font-bold text-purple-600",children:t.average_time_spent?Math.round(t.average_time_spent/60):0}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.visitor_stats.avg_time_minutes")})]})]})]})]}),t.confirmed&&t.confirmer&&e.jsxs(i,{className:"overflow-hidden rounded-xl border border-slate-200 shadow-lg",children:[e.jsx(o,{className:"border-b border-green-200 bg-gradient-to-r from-green-50 to-green-100 py-6",children:e.jsxs(d,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-green-100 p-2",children:e.jsx(p,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold text-slate-900",children:s("info.show.confirmation.title")}),e.jsx("div",{className:"text-sm text-slate-600",children:s("info.show.confirmation.description")})]})]})}),e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(f,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.confirmed_by")]}),e.jsx("p",{className:"font-medium text-slate-900",children:((w=t.confirmer)==null?void 0:w.name)||s("info.show.unknown")})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-slate-500",children:[e.jsx(I,{className:"h-4 w-4 text-slate-400"}),s("info.show.fields.confirmation_date")]}),e.jsx("p",{className:"font-medium text-slate-900",children:new Date(t.updated_at).toLocaleString()})]})]})})]})]})]})}export{Xe as default};
