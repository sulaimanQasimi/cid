import{m as u,j as e,L as j,$ as b}from"./app-DkoXbpwI.js";import{A as v}from"./app-layout-B16q5OE5.js";import{B as N}from"./button-FL1hH0Gn.js";import{L as n}from"./label-CX_9_bIH.js";import{C as d}from"./checkbox-CPioER7B.js";import"./utils-BkyQWX51.js";import"./index-DeUeLHo2.js";import"./createLucideIcon-c6h1JN0C.js";import"./index-DL2kuG47.js";import"./index-D6kQf4tZ.js";import"./index-CjfSNtxZ.js";import"./x-DPSKjWGE.js";import"./index-DNVkQAmt.js";import"./avatar-QH5GZ14H.js";import"./app-logo-BiQciey_.js";import"./app-logo-icon-BfFU8Nz0.js";import"./translate-Dzvdzh6Q.js";import"./eye-BTAXVD8-.js";import"./file-text-C_DGxehv.js";import"./users-BwmcYU0a.js";import"./tag-CpxS9oY9.js";import"./triangle-alert-BvCkdI3Z.js";import"./qr-code-CQdO5l-X.js";import"./database-CxEK3yLo.js";import"./index-C2zib3QD.js";import"./check-gGR4h6L2.js";const P=[{title:"User Management",href:"#"},{title:"Permissions",href:route("permissions.index")},{title:"Edit Permissions",href:"#"}];function X({auth:y,user:r,roles:c,permissions:p}){const{data:m,setData:a,put:h,processing:l}=u({roles:r.roles.map(s=>s.name),permissions:r.permissions.map(s=>s.name)}),x=s=>{s.preventDefault(),h(route("permissions.update",r.id))},g=s=>{const t=m.roles.includes(s)?m.roles.filter(i=>i!==s):[...m.roles,s];a("roles",t)},f=s=>{const t=m.permissions.includes(s)?m.permissions.filter(i=>i!==s):[...m.permissions,s];a("permissions",t)},o={};return p.forEach(s=>{const t=s.name.split("-");if(t.length>1){const i=t[t.length-1];o[i]||(o[i]=[]),o[i].push(s)}}),e.jsxs(v,{breadcrumbs:P,children:[e.jsx(j,{title:`Edit Permissions for ${r.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit Permissions for ",r.name]}),e.jsx(b,{href:route("permissions.index"),className:"text-gray-600 hover:text-gray-900",children:"Back to List"})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Roles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:`role-${s.id}`,checked:m.roles.includes(s.name),onCheckedChange:()=>g(s.name)}),e.jsx(n,{htmlFor:`role-${s.id}`,className:"font-medium",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Permissions"}),Object.entries(o).map(([s,t])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-md font-medium mb-2 capitalize",children:[s," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:`permission-${i.id}`,checked:m.permissions.includes(i.name),onCheckedChange:()=>f(i.name)}),e.jsx(n,{htmlFor:`permission-${i.id}`,className:"font-medium",children:i.label||i.name})]},i.id))})]},s))]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(N,{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white",children:l?"Saving...":"Save Permissions"})})]})]})})})})]})}export{X as default};
