import{j as e,m as W,r as S,S as T,L as J,$ as _}from"./app-3tDC9xQW.js";import{B as g}from"./button-C7E4w2kB.js";import{C as D,a as A,b as P,c as H,d as Y}from"./card-ipSqcDuc.js";import{B as w}from"./badge-DFKA-ht-.js";import{P as K}from"./pagination-CP6x8zWl.js";import{A as Q}from"./app-layout-l-3zSo5r.js";import{u as B}from"./translate-BvmSHp8j.js";import{H as q}from"./header-BKDg8Hgb.js";import{c as C}from"./utils-D9L8Nuxo.js";import{m as M}from"./index-2sXO8O_d.js";import{a as X}from"./date-BaJKjiu2.js";import{A as Z,a as ee,b as te,c as re,d as ie,e as se,f as ae,g as de}from"./alert-dialog-BIRqN1Vm.js";import{I as p}from"./input-CSz4PHX6.js";import{L as c}from"./label-D99mWYhw.js";import{T as oe}from"./textarea-CC6NZjdi.js";import{P as le}from"./PersianDatePicker-BH4y5Y3k.js";import{S as I,a as O,b as U,c as $,d as E}from"./select-DVmwdWh7.js";import{D as ne,a as ce,b as me,c as xe}from"./dialog-bmM_3OuS.js";import{F as he}from"./FooterButtons-BD6z5Mbn.js";import{P as ve}from"./plus-DS8Niq0U.js";import{F as b}from"./file-text-pL_1YHne.js";import{T as l}from"./triangle-alert-Bf0Tg7yD.js";import{C as L}from"./circle-alert-BiF10zZ_.js";import{B as z}from"./book-text-C35ws4e-.js";import{C as f}from"./clock-BFSH9NdT.js";import{B as ge}from"./building-2-D0BUGJpv.js";import{M as R}from"./map-pin-CL3PkjEK.js";import{T as pe}from"./trash-CuCVw2Rv.js";import{P as be}from"./pencil-BrH7LIc4.js";import{P as fe}from"./printer-D2xbTQ1o.js";import{S as V}from"./shield-rvjLCXVw.js";import{C as ue}from"./calendar-jdiEEAJG.js";import{U as je}from"./users-CsdLt4y4.js";import{U as ke}from"./user-round-DQtJMRye.js";import{U as G}from"./user-BtwvoZjq.js";import{G as Ne}from"./gavel-Cbg0UKlc.js";import{F as we}from"./file-check-sKYP6T6d.js";import{E as ye}from"./eye-CanojKH4.js";import"./chevron-left-DeS80W0N.js";import"./createLucideIcon-CDtKsWnV.js";import"./index-BxZMXaGQ.js";import"./tslib.es6-CmEaCU22.js";import"./index-B1Na2C8c.js";import"./index-q5_wX1JU.js";import"./index-DjRGQ-Jq.js";import"./x-B2ZDNZYW.js";import"./index-DeWzKmmf.js";import"./avatar-DN_ORXvI.js";import"./tag-EFcppGe5.js";import"./qr-code-DWW6jqmq.js";import"./database-D3s-6xPP.js";import"./permission-guard-DTTNEa4Y.js";import"./arrow-left-BKKKrdBt.js";import"./index-BrR_xsp1.js";import"./check-5MBNWVlQ.js";import"./save-CCCfqtic.js";const y=({date:r,format:o="date",className:m,showGregorian:v=!1,fallback:x})=>{const{t}=B();if(!r)return e.jsx("span",{className:C("text-gray-500 dark:text-gray-400",m),children:x||t("persian_calendar.no_date")});let s;if(typeof r=="string"?r.includes("/")?s=M(r,"jYYYY/jMM/jDD"):s=M(r):s=M(r),!s.isValid())return e.jsx("span",{className:C("text-gray-500 dark:text-gray-400",m),children:x||t("persian_calendar.invalid_date")});const d=()=>{switch(o){case"full":return s.format("jYYYY/jMM/jDD - dddd، jD jMMMM jYYYY");case"short":return s.format("jYY/jMM/jDD");case"datetime":return s.format("jYYYY/jMM/jDD HH:mm");case"date":default:return s.format("jYYYY/jMM/jDD")}},h=()=>{switch(o){case"full":return s.format("YYYY/MM/DD - dddd، D MMMM YYYY");case"short":return s.format("YY/MM/DD");case"datetime":return s.format("YYYY/MM/DD HH:mm");case"date":default:return s.format("YYYY/MM/DD")}};return e.jsxs("div",{className:C("text-right",m),children:[e.jsx("div",{className:"text-gray-900 dark:text-gray-100 font-medium",children:d()}),v&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t("persian_calendar.gregorian_label"),": ",h()]})]})};function _e({isOpen:r,onClose:o,districts:m,categories:v,reportId:x}){const{t}=B(),{data:s,setData:d,post:h,processing:u,errors:a,reset:j}=W({title:"",description:"",incident_date:"",incident_time:"",district_id:"",incident_category_id:"",location:"",coordinates:"",incident_type:"",is_confirmed:!1,confirmed_by:null,confirmed_at:null,confirmation_notes:null});S.useEffect(()=>{r&&j()},[r,j]);const k=i=>{i.preventDefault(),h(route("incident-reports.incidents.store",x),{onSuccess:()=>{o(),T.reload({only:["incidents"]})}})},N=()=>{o()},n=()=>{h(route("incident-reports.incidents.store",x),{onSuccess:()=>{o(),T.reload({only:["incidents"]})}})};return e.jsx(ne,{open:r,onOpenChange:o,children:e.jsxs(ce,{className:"!max-w-[90vw] !max-h-[95vh] !w-[90vw] !h-[95vh] overflow-hidden bg-white dark:bg-gray-900 border-0 shadow-2xl",style:{maxWidth:"90vw",maxHeight:"95vh",width:"90vw",height:"95vh"},children:[e.jsx(me,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:e.jsxs(xe,{className:"flex items-center gap-4 text-2xl font-bold",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(ve,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:t("incidents.create_title")}),e.jsx("div",{className:"text-blue-100 text-sm font-medium",children:t("incidents.create_description")})]})]})}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)] px-6 py-6",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"title",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.title"),e.jsx(b,{className:"h-4 w-4"})]}),e.jsx(p,{id:"title",value:s.title,onChange:i=>d("title",i.target.value),placeholder:t("incidents.form.title_placeholder"),required:!0,className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),a.title&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.title]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_type",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.type"),e.jsx(L,{className:"h-4 w-4"})]}),e.jsx(p,{id:"incident_type",value:s.incident_type,onChange:i=>d("incident_type",i.target.value),placeholder:t("incidents.form.type_placeholder"),required:!0,className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),a.incident_type&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.incident_type]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"description",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.description"),e.jsx(z,{className:"h-4 w-4"})]}),e.jsx(oe,{id:"description",value:s.description,onChange:i=>d("description",i.target.value),placeholder:t("incidents.form.description_placeholder"),rows:5,required:!0,className:"min-h-[120px] resize-none border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),a.description&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.description]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx("div",{className:"space-y-3",children:e.jsx(le,{id:"incident_date",label:t("incidents.form.date"),value:s.incident_date,onChange:i=>d("incident_date",i),placeholder:t("incidents.form.date_placeholder"),required:!0,error:a.incident_date,className:"w-full"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_time",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.time"),e.jsx(f,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"incident_time",type:"time",value:s.incident_time,onChange:i=>d("incident_time",i.target.value),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),e.jsx(f,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-blue-400 pointer-events-none"})]}),a.incident_time&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.incident_time]})]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"district_id",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.district"),e.jsx(ge,{className:"h-4 w-4"})]}),e.jsxs(I,{value:s.district_id,onValueChange:i=>d("district_id",i),required:!0,children:[e.jsx(O,{className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right",children:e.jsx(U,{placeholder:t("incidents.form.select_district")})}),e.jsx($,{children:m.map(i=>{var F;return e.jsxs(E,{value:i.id.toString(),children:[i.name," (",(F=i.province)==null?void 0:F.name,")"]},i.id)})})]}),a.district_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.district_id]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_category_id",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.category"),e.jsx(L,{className:"h-4 w-4"})]}),e.jsxs(I,{value:s.incident_category_id,onValueChange:i=>d("incident_category_id",i),required:!0,children:[e.jsx(O,{className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right",children:e.jsx(U,{placeholder:t("incidents.form.select_category")})}),e.jsx($,{children:v.map(i=>e.jsx(E,{value:i.id.toString(),children:i.name},i.id))})]}),a.incident_category_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.incident_category_id]})]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"location",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.location"),e.jsx(R,{className:"h-4 w-4"})]}),e.jsx(p,{id:"location",value:s.location,onChange:i=>d("location",i.target.value),placeholder:t("incidents.form.location_placeholder"),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),a.location&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.location]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"coordinates",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.coordinates"),e.jsx(R,{className:"h-4 w-4"})]}),e.jsx(p,{id:"coordinates",value:s.coordinates,onChange:i=>d("coordinates",i.target.value),placeholder:t("incidents.form.coordinates_placeholder"),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),a.coordinates&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(l,{className:"h-4 w-4"}),a.coordinates]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(he,{onCancel:N,onSubmit:n,processing:u,cancelText:t("common.cancel"),submitText:t("incidents.save_incident"),savingText:t("incidents.saving")})})]})})]})})}function Ct({report:r,incidents:o,districts:m,categories:v,reports:x}){var k,N;const{t}=B(),[s,d]=S.useState(!1),[h,u]=S.useState(!1),a=[{title:t("incident_reports.page_title"),href:route("incident-reports.index")},{title:r.report_number,href:route("incident-reports.show",r.id)}],j=()=>{T.delete(route("incident-reports.destroy",r.id))};return e.jsxs(Q,{breadcrumbs:a,children:[e.jsx(J,{title:t("incident_reports.show.page_title",{number:r.report_number})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(q,{title:r.report_number,description:`${t("incident_reports.show.report_date_label")}: ${X(r.report_date)}`,icon:e.jsx(V,{className:"h-5 w-5"}),model:"incident_reports",routeName:()=>route("incident-reports.index"),buttonText:t("common.back"),theme:"violet",showBackButton:!0,backRouteName:()=>route("incident-reports.index"),backButtonText:t("common.back"),showButton:!1,actionButtons:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{onClick:()=>d(!0),className:"bg-red-500/20 dark:bg-red-500/30 backdrop-blur-md border-red-300/30 dark:border-red-400/40 text-white hover:bg-red-500/30 dark:hover:bg-red-500/40 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-red-500/20 dark:bg-red-500/30 rounded-lg",children:e.jsx(pe,{className:"h-4 w-4"})}),t("common.delete")]})}),e.jsx(g,{asChild:!0,className:"bg-white/20 dark:bg-white/10 backdrop-blur-md border-white/30 dark:border-white/20 text-white hover:bg-white/30 dark:hover:bg-white/20 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsx(_,{href:route("incident-reports.edit",r.id),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-white/20 dark:bg-white/10 rounded-lg",children:e.jsx(be,{className:"h-4 w-4"})}),t("incident_reports.actions.edit_report")]})})}),e.jsx(g,{asChild:!0,className:"bg-white/20 dark:bg-white/10 backdrop-blur-md border-white/30 dark:border-white/20 text-white hover:bg-white/30 dark:hover:bg-white/20 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsx(_,{href:route("incident-reports.print",r.id),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-white/20 dark:bg-white/10 rounded-lg",children:e.jsx(fe,{className:"h-4 w-4"})}),t("incident_reports.actions.print_report")]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:gap-8 md:grid-cols-12",children:[e.jsxs(D,{className:"md:col-span-4 border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:[e.jsxs(A,{className:"bg-gradient-to-r from-violet-500 via-violet-600 to-violet-700 dark:from-violet-600 dark:via-violet-700 dark:to-violet-800 text-white border-b border-violet-400/20 dark:border-violet-600/20 pb-5 shadow-lg",children:[e.jsxs(P,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:e.jsx(b,{className:"h-5 w-5"})}),t("incident_reports.form.info_title")]}),e.jsx(H,{className:"text-violet-100 text-sm mt-2",children:t("incident_reports.details.long_description")})]}),e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(b,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_info")]}),e.jsxs("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 space-y-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(b,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_number"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-bold",children:r.report_number})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(ue,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_date_label"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(y,{date:r.report_date,format:"date"})})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(f,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.status"),":"]}),e.jsx(w,{variant:"outline",className:"bg-gradient-to-r from-violet-100 dark:from-violet-900/40 to-violet-200 dark:to-violet-800/40 text-violet-800 dark:text-violet-200 border-violet-300/50 dark:border-violet-700/50 px-3 py-1 text-xs font-semibold shadow-sm",children:t(`incident_reports.status.${r.report_status}`)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(V,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.security_level"),":"]}),e.jsx(w,{variant:"outline",className:"bg-gradient-to-r from-violet-100 dark:from-violet-900/40 to-violet-200 dark:to-violet-800/40 text-violet-800 dark:text-violet-200 border-violet-300/50 dark:border-violet-700/50 px-3 py-1 text-xs font-semibold shadow-sm",children:t(`incident_reports.level.${r.security_level}`)})]}),r.source&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(je,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.source_label"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:r.source})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(ke,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.user_info")]}),e.jsxs("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 space-y-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(G,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.submitted_by"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:((k=r.submitter)==null?void 0:k.name)||t("incidents.unknown")})]}),r.approver&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(G,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.approved_by"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:(N=r.approver)==null?void 0:N.name})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(f,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.created_at"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(y,{date:r.created_at,format:"date"})})]}),r.updated_at!==r.created_at&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(f,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.last_updated"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(y,{date:r.updated_at,format:"date"})})]})]})]})]})})]}),e.jsx("div",{className:"md:col-span-8",children:e.jsxs(D,{className:"border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:[e.jsxs(A,{className:"bg-gradient-to-r from-violet-500 via-violet-600 to-violet-700 dark:from-violet-600 dark:via-violet-700 dark:to-violet-800 text-white border-b border-violet-400/20 dark:border-violet-600/20 pb-5 shadow-lg",children:[e.jsxs(P,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:e.jsx(z,{className:"h-5 w-5"})}),t("incident_reports.details.title")]}),e.jsx(H,{className:"text-violet-100 text-sm mt-2",children:t("incident_reports.details.long_description")})]}),e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(b,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.details_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.details})})]}),r.action_taken&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(Ne,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.action_taken_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.action_taken})})]}),r.recommendation&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(we,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.recommendation_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.recommendation})})]})]})})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx(q,{title:t("incidents.page_title"),description:t("incident_reports.incidents.card_description"),icon:e.jsx(l,{className:"h-5 w-5"}),model:"incident_reports",routeName:()=>route("incident-reports.index"),buttonText:t("common.back"),theme:"violet",showBackButton:!0,backRouteName:()=>route("incident-reports.index"),backButtonText:t("common.back"),showButton:!1}),e.jsx(D,{className:"mt-6 border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(l,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})}),e.jsx("h3",{className:"text-lg font-bold text-violet-900 dark:text-violet-100",children:t("incidents.page_title")})]}),e.jsxs(g,{onClick:()=>u(!0),className:"bg-gradient-to-r from-violet-500 to-violet-600 hover:from-violet-600 hover:to-violet-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 dark:from-violet-600 dark:to-violet-700 dark:hover:from-violet-700 dark:hover:to-violet-800",children:[e.jsx(l,{className:"mr-2 h-4 w-4"}),t("incidents.create_title")]})]}),e.jsx("div",{className:"relative w-full overflow-auto rounded-xl border border-violet-100/50 dark:border-violet-800/50",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"bg-gradient-to-r from-violet-50 dark:from-violet-900/30 to-violet-100/50 dark:to-violet-800/30 border-b border-violet-200/50 dark:border-violet-700/50",children:[e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.title")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.date")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.category")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.severity")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("common.actions")})]})}),e.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:o.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"h-32 px-6 text-center align-middle",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600 dark:text-violet-400",children:[e.jsx("div",{className:"p-3 bg-violet-100 dark:bg-violet-900/50 rounded-full",children:e.jsx(l,{className:"h-8 w-8 text-violet-400 dark:text-violet-500"})}),e.jsx("p",{className:"text-base font-semibold",children:t("incidents.no_incidents")})]})})}):o.data.map(n=>e.jsxs("tr",{className:"border-b border-violet-100/50 dark:border-violet-800/30 transition-all duration-200 hover:bg-violet-50/50 dark:hover:bg-violet-900/20 group",children:[e.jsx("td",{className:"p-5 align-middle font-semibold text-violet-900 dark:text-violet-100 group-hover:text-violet-700 dark:group-hover:text-violet-200 transition-colors",children:n.title}),e.jsx("td",{className:"p-5 align-middle text-violet-800 dark:text-violet-200 font-medium",children:e.jsx(y,{date:n.incident_date,format:"date"})}),e.jsx("td",{className:"p-5 align-middle",children:n.category?e.jsx(w,{style:{backgroundColor:n.category.color,color:"#fff"},className:"px-3 py-1.5 font-semibold shadow-sm",children:n.category.name}):e.jsx("span",{className:"text-violet-600 dark:text-violet-400 text-sm",children:t("incidents.none")})}),e.jsx("td",{className:"p-5 align-middle",children:e.jsx(w,{variant:n.severity==="high"?"destructive":n.severity==="medium"?"warning":"default",className:"px-3 py-1.5 font-semibold shadow-sm",children:n.severity})}),e.jsx("td",{className:"p-5 align-middle",children:e.jsx(g,{variant:"ghost",size:"sm",asChild:!0,className:"text-violet-600 dark:text-violet-400 hover:text-violet-700 dark:text-violet-300 hover:bg-violet-100 dark:hover:bg-violet-900/40 rounded-lg transition-all duration-200 hover:scale-105",children:e.jsxs(_,{href:route("incidents.show",n.id),children:[e.jsx(ye,{className:"h-4 w-4 mr-1.5"}),t("incident_reports.view")]})})})]},n.id))})]})}),o.links&&o.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("div",{className:"bg-gradient-to-r from-violet-50 dark:from-violet-900/20 to-white dark:to-gray-800 p-4 rounded-xl shadow-lg border border-violet-200/50 dark:border-violet-700/50",children:e.jsx(K,{links:o.links})})})]})})]})]}),e.jsx(Z,{open:s,onOpenChange:d,children:e.jsxs(ee,{className:"max-w-md bg-gradient-to-br from-white dark:from-gray-800 via-red-50/10 dark:via-red-900/10 to-white dark:to-gray-800 border-red-200/50 dark:border-red-800/50 shadow-2xl",children:[e.jsxs(te,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:e.jsx(l,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsx(re,{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:t("incident_reports.delete_dialog.title")})]}),e.jsx(ie,{className:"mt-2 text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:t("incident_reports.delete_dialog.description",{number:r.report_number})})]}),e.jsxs(se,{className:"mt-6 gap-3",children:[e.jsx(ae,{className:"shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 rounded-lg transition-all duration-200",children:t("incident_reports.delete_dialog.cancel")}),e.jsx(de,{onClick:j,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg",children:t("incident_reports.delete_dialog.confirm")})]})]})}),e.jsx(_e,{isOpen:h,onClose:()=>u(!1),districts:m,categories:v,reportId:r.id})]})}export{Ct as default};
