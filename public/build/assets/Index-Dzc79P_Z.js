import{r as l,j as e,L as R,$ as f,S as u}from"./app-Dpa8Mw3a.js";import{A as U}from"./app-layout-KS4ZWDuL.js";import{B as b}from"./button-BovskyHP.js";import{H as k}from"./header-By9VsQxK.js";import{S as z}from"./SearchFilters-BFKWKjCm.js";import{T as $,a as I,b as j,c as d,d as L,e as n}from"./table-Q7qTtagI.js";import{B as M}from"./badge-BRSlEmcD.js";import{C as Q,d as V}from"./card-T66pFWB-.js";import{A as q,a as G,b as J,c as K,d as W,e as X,f as Y,g as ee}from"./alert-dialog-CQtGFM8f.js";import{u as te}from"./translate-HZomKBkO.js";import{u as re}from"./use-permissions-CknpK3ci.js";import{C as ae,a as se,b as oe}from"./permission-guard-DosNsWVL.js";import{P as le}from"./pagination-Gy4MouKr.js";import{M as y}from"./map-pin-Cv7EuQHI.js";import{T as ie}from"./trending-up-D9fX9TM2.js";import{E as ne}from"./eye-DuyRId54.js";import{P as ce}from"./pencil-CbShOZwK.js";import{T as pe}from"./trash-Bl6DQ6lq.js";import{T as de}from"./triangle-alert-BnBHvMxc.js";import"./utils-DueTybL-.js";import"./index-VbilsNxZ.js";import"./createLucideIcon-cRJugfto.js";import"./index-ClXbMXOW.js";import"./index-DsVxkLMa.js";import"./index-C78t6nrx.js";import"./x-DZIFbQwF.js";import"./index-BCJNFKuF.js";import"./avatar-KX0QfjZ3.js";import"./file-text-YbYT_577.js";import"./users-B6Oil1LJ.js";import"./tag-DEZBMSTU.js";import"./qr-code-CxFcn35d.js";import"./chart-column-cGegRabh.js";import"./database-BqHSan2y.js";import"./arrow-left-D2iBQ-z9.js";import"./plus-xyLdybCb.js";import"./select-DkoVjQQ-.js";import"./index-BkJeBnqw.js";import"./check-BEXHyh2e.js";import"./input-2B8gUPrT.js";import"./search-B2wtCM5S.js";import"./filter-x-CfYpOzMr.js";import"./arrow-up-down-3Ys2MXu1.js";const me=[{value:"name:asc",label:"Name (A-Z)"},{value:"name:desc",label:"Name (Z-A)"},{value:"code:asc",label:"Code (A-Z)"},{value:"code:desc",label:"Code (Z-A)"},{value:"capital:asc",label:"Capital (A-Z)"},{value:"capital:desc",label:"Capital (Z-A)"},{value:"status:asc",label:"Status (A-Z)"},{value:"status:desc",label:"Status (Z-A)"},{value:"created_at:desc",label:"Created Date (Newest)"},{value:"created_at:asc",label:"Created Date (Oldest)"}],he=[{value:10,label:"10 per page"},{value:25,label:"25 per page"},{value:50,label:"50 per page"},{value:100,label:"100 per page"}];function at({provinces:s={data:[],links:[],meta:void 0},filters:c={}}){re();const{t:r}=te(),D=[{title:r("dashboard.page_title"),href:route("dashboard")},{title:r("provinces.page_title"),href:"#"}],[v,C]=l.useState(c.search||""),[p,N]=l.useState(c.sort_field||"name"),[o,x]=l.useState(c.sort_direction||"asc"),[w,h]=l.useState(!1),[m,_]=l.useState(null),S=l.useRef(!0),g=l.useRef({sortField:c.sort_field,sortDirection:c.sort_direction}),A=()=>{try{const t={search:v,sort_field:p,sort_direction:o},a=route("provinces.index"),i={preserveState:!0,replace:!0};setTimeout(()=>{u.get(a,t,i)},0)}catch(t){console.error("Error applying search:",t)}},T=()=>{try{const t={search:c.search||"",sort_field:p,sort_direction:o},a=route("provinces.index"),i={preserveState:!0,replace:!0};setTimeout(()=>{u.get(a,t,i)},0)}catch(t){console.error("Error applying filters:",t)}};l.useEffect(()=>{if(S.current){S.current=!1;return}const t=p!==g.current.sortField,a=o!==g.current.sortDirection;(t||a)&&(g.current={sortField:p,sortDirection:o},T())},[p,o]);const P=t=>{t.preventDefault(),A()},F=t=>{const[a,i]=t.split(":");N(a),x(i)},E=()=>{x(o==="asc"?"desc":"asc")},Z=t=>{console.log("Per page changed to:",t)},O=()=>{C(""),N("name"),x("asc");try{const t={search:"",sort_field:"name",sort_direction:"asc"},a=route("provinces.index"),i={preserveState:!0,replace:!0};setTimeout(()=>{u.get(a,t,i)},0)}catch(t){console.error("Error clearing filters:",t)}},B=t=>{_(t),h(!0)},H=()=>{m&&u.delete(route("provinces.destroy",m.id),{onSuccess:()=>{_(null),h(!1)}})};return e.jsxs(U,{breadcrumbs:D,children:[e.jsx(R,{title:r("provinces.page_title")}),e.jsx(q,{open:w,onOpenChange:h,children:e.jsxs(G,{children:[e.jsxs(J,{children:[e.jsx(K,{children:r("provinces.delete_dialog.title")}),e.jsx(W,{children:r("provinces.delete_dialog.description",{name:(m==null?void 0:m.name)||""})})]}),e.jsxs(X,{children:[e.jsx(Y,{onClick:()=>h(!1),children:r("provinces.delete_dialog.cancel")}),e.jsx(ee,{onClick:H,className:"bg-red-600 hover:bg-red-700",children:r("provinces.delete_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(k,{title:r("provinces.page_title"),description:r("provinces.page_description"),icon:e.jsx(y,{className:"h-6 w-6"}),model:"province",routeName:()=>route("provinces.create"),buttonText:r("provinces.add_button"),theme:"purple",buttonSize:"lg"}),e.jsx(z,{searchQuery:v,onSearchChange:C,onSearchSubmit:P,searchPlaceholder:r("provinces.search_placeholder"),filters:{sort:`${p}:${o}`,direction:o,per_page:10},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:F,onDirectionChange:E,onPerPageChange:Z,onResetFilters:O,types:[],categories:[],departments:[],sortOptions:me,perPageOptions:he,title:r("provinces.search_filters"),description:r("provinces.find_and_filter"),className:"shadow-2xl bg-gradient-to-bl from-white dark:from-gray-800 to-purple-50/30 dark:to-purple-900/20 border-0 overflow-hidden"}),e.jsxs("div",{className:"mt-8",children:[e.jsx(k,{title:r("provinces.table.title"),description:r("provinces.table.description"),icon:e.jsx(ie,{className:"h-6 w-6"}),model:"province",routeName:()=>"",buttonText:"",theme:"purple",showButton:!1}),e.jsx(Q,{className:"shadow-lg bg-white dark:bg-gray-800 border-purple-200 dark:border-purple-700",children:e.jsx(V,{className:"p-0",children:e.jsxs($,{children:[e.jsx(I,{children:e.jsxs(j,{className:"bg-gradient-to-l from-purple-100 dark:from-purple-900/30 to-purple-200 dark:to-purple-800/30 border-0",children:[e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6",children:r("provinces.table.name")}),e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6",children:r("provinces.table.code")}),e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6",children:r("provinces.table.capital")}),e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6",children:r("provinces.table.status")}),e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6",children:r("provinces.table.created_by")}),e.jsx(d,{className:"text-purple-800 dark:text-purple-200 font-bold text-lg py-6 px-6 text-right",children:r("provinces.table.actions")})]})}),e.jsx(L,{children:s!=null&&s.data&&s.data.length>0?s.data.map(t=>{var a;return e.jsxs(j,{className:"hover:bg-purple-50/50 dark:hover:bg-purple-900/20",children:[e.jsx(n,{children:e.jsxs(f,{href:route("provinces.show",t.id),className:"font-bold hover:underline flex items-center gap-2 text-purple-900 dark:text-purple-100",children:[e.jsx(y,{className:"h-4 w-4"}),t.name]})}),e.jsx(n,{className:"font-bold text-purple-900 dark:text-purple-100",children:t.code}),e.jsx(n,{className:"text-purple-900 dark:text-purple-100",children:t.capital||"-"}),e.jsx(n,{children:e.jsx(M,{variant:t.status==="active"?"default":"secondary",children:t.status})}),e.jsx(n,{className:"text-purple-900 dark:text-purple-100",children:((a=t.creator)==null?void 0:a.name)||"-"}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx(ae,{model:"province",children:e.jsx(b,{variant:"ghost",size:"icon",asChild:!0,title:r("provinces.actions.view"),children:e.jsx(f,{href:route("provinces.show",t.id),children:e.jsx(ne,{className:"h-4 w-4"})})})}),e.jsx(se,{model:"province",children:e.jsx(b,{variant:"ghost",size:"icon",asChild:!0,title:r("provinces.actions.edit"),children:e.jsx(f,{href:route("provinces.edit",t.id),children:e.jsx(ce,{className:"h-4 w-4"})})})}),e.jsx(oe,{model:"province",children:e.jsx(b,{variant:"ghost",size:"icon",onClick:()=>B(t),title:r("provinces.actions.delete"),children:e.jsx(pe,{className:"h-4 w-4"})})})]})})]},t.id)}):e.jsx(j,{children:e.jsx(n,{colSpan:6,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-purple-600 dark:text-purple-400",children:[e.jsx(de,{className:"h-16 w-16"}),e.jsx("p",{className:"text-xl font-bold",children:r("provinces.no_records")}),e.jsx("p",{children:r("provinces.no_records_description")})]})})})})]})})})]}),(s==null?void 0:s.links)&&s.links.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("div",{className:"bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 p-4 rounded-3xl shadow-2xl border border-purple-200 dark:border-purple-700",children:e.jsx(le,{links:s.links})})})]})]})}export{at as default};
