import{r as b,j as e,L as _,$ as r,S as w}from"./app-wp6Guzzg.js";import{B as i}from"./button-DdhFDbBb.js";import{B as j}from"./badge-BvpqPqOJ.js";import{C as a,a as d,b as l,c as u,d as o}from"./card-DCX32ycO.js";import{S as C}from"./separator-BEpq0n0X.js";import{P as D}from"./page-header-DdK3B3eG.js";import{A as y,h as A,a as T,b as S,c as P,d as k,e as B,f as L,g as F}from"./alert-dialog-Cw4R3HEs.js";import{A as H}from"./app-layout-BCp2TqpK.js";import{u as O}from"./translate-DHvh_RxM.js";import{A as $}from"./arrow-left-DJBr152w.js";import{S as E}from"./square-pen-DQM1g7mx.js";import{T as I}from"./trash-2-DixmnotL.js";import{F as M}from"./file-text-a4VBICP-.js";import{C as U}from"./calendar-BPUiAje0.js";import{f as q}from"./index-CaunA62S.js";import{T as R}from"./tag-Dui773Zp.js";import{M as z}from"./users-Dj-7kQ7a.js";import{U as G}from"./user--YeXM62k.js";import"./utils-BoYQRibn.js";import"./index-kSuzMWFK.js";import"./index-BW6aKdAO.js";import"./createLucideIcon-WLF4tROH.js";import"./index-XAn5yQ2E.js";import"./index-DtlMaX7Z.js";import"./x-DMYmK7hh.js";import"./index-qZqd60Ez.js";import"./avatar-D0atiyuw.js";import"./app-logo-DEdMN1x1.js";import"./app-logo-icon-CU0HTb3k.js";import"./eye-Nva3oBMg.js";import"./triangle-alert-nApTjZp7.js";import"./qr-code-B0fjN3Lw.js";import"./globe-BjUcTPKI.js";function De({incident:s}){var c,n,m,x,h,p;const{t}=O(),[f,g]=b.useState(!1),v=[{title:"Dashboard",href:"/dashboard"},{title:"Incidents",href:route("incidents.index")},{title:s.title,href:route("incidents.show",s.id)}],N=()=>{w.delete(route("incidents.destroy",s.id))};return e.jsxs(H,{breadcrumbs:v,children:[e.jsx(_,{title:t("incidents.show_title",{name:s.title})}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(D,{title:t("incidents.details_title"),description:t("incidents.details_description"),actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(r,{href:route("incidents.index"),children:[e.jsx($,{className:"mr-2 h-4 w-4"}),t("incidents.back_to_list")]})}),e.jsx(i,{asChild:!0,children:e.jsxs(r,{href:route("incidents.edit",s.id),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),t("common.edit")]})}),e.jsxs(y,{open:f,onOpenChange:g,children:[e.jsx(A,{asChild:!0,children:e.jsxs(i,{variant:"destructive",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),t("common.delete")]})}),e.jsxs(T,{children:[e.jsxs(S,{children:[e.jsx(P,{children:t("incidents.delete_title")}),e.jsx(k,{children:t("incidents.delete_description")})]}),e.jsxs(B,{children:[e.jsx(L,{children:t("common.cancel")}),e.jsx(F,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("common.delete")})]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(a,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-2xl",children:s.title}),e.jsx(u,{children:s.incident_type})]}),e.jsx(j,{variant:s.status==="resolved"||s.status==="investigating"?"default":s.status==="closed"?"outline":"default",children:s.status})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t("incidents.form.description")}),e.jsx("p",{className:"mt-2 whitespace-pre-line text-muted-foreground",children:s.description})]}),e.jsx(C,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t("incidents.impact")}),e.jsxs("div",{className:"mt-2 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t("incidents.form.casualties")}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.casualties})]}),e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t("incidents.form.injuries")}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.injuries})]})]})]})]})})]}),s.report&&e.jsxs(a,{children:[e.jsxs(d,{children:[e.jsx(l,{children:t("incidents.associated_report")}),e.jsx(u,{children:t("incidents.associated_report_description")})]}),e.jsx(o,{children:e.jsxs(r,{href:route("incident-reports.show",s.report.id),className:"group flex items-center rounded-md border p-4 transition-colors hover:bg-muted/50",children:[e.jsx("div",{className:"mr-4 rounded-full bg-primary/10 p-2",children:e.jsx(M,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium group-hover:underline",children:s.report.report_number}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t("incidents.view_full_report")})]})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(d,{children:e.jsx(l,{children:t("incidents.information")})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(U,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.date_time")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[q(new Date(s.incident_date),"PPP"),s.incident_time&&` ${s.incident_time}`]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(R,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.category_type")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(j,{className:"mr-2",style:{backgroundColor:((c=s.category)==null?void 0:c.color)||"#888888"},children:((n=s.category)==null?void 0:n.name)||t("incidents.unspecified")}),s.incident_type]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(z,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.table.location")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.location||t("incidents.unspecified_location"),e.jsx("br",{}),(m=s.district)==null?void 0:m.name,", ",(h=(x=s.district)==null?void 0:x.province)==null?void 0:h.name,s.coordinates&&e.jsxs("div",{className:"mt-1 text-xs",children:["Coordinates: ",s.coordinates]})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(G,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.reported_by")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:((p=s.reporter)==null?void 0:p.name)||t("incidents.unknown")})]})]})]})]})})]})]})]})}export{De as default};
