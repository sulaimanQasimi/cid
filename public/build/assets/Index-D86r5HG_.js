import{r as v,j as e,L as U,S as N}from"./app-Dpa8Mw3a.js";import{u as D}from"./translate-HZomKBkO.js";import{C as r,a as d,b as i,d as c,c as f}from"./card-T66pFWB-.js";import{S as k,a as w,b as y,c as _,d as C}from"./select-DkoVjQQ-.js";import{B as L}from"./badge-BRSlEmcD.js";import{T as O,a as B,b as x,c as m}from"./tabs-B0i49aNw.js";import{C as T}from"./chart-column-cGegRabh.js";import{C as F}from"./calendar-CkZifxsd.js";import{A as G,a as M}from"./arrow-up-right-Cqx5AVai.js";import{E as R}from"./eye-DuyRId54.js";import{U as Z}from"./users-B6Oil1LJ.js";import{C as z}from"./clock-CdNjlZu5.js";import{T as H}from"./trending-up-D9fX9TM2.js";import{Z as A}from"./zap-pJ5d2ou3.js";import{G as J}from"./index-VbilsNxZ.js";import{M as K}from"./map-pin-Cv7EuQHI.js";import{M as $,T as Q,S as W}from"./tablet-CUS2LRPL.js";import"./utils-DueTybL-.js";import"./index-ClXbMXOW.js";import"./index-DsVxkLMa.js";import"./index-C78t6nrx.js";import"./index-BkJeBnqw.js";import"./check-BEXHyh2e.js";import"./createLucideIcon-cRJugfto.js";function ke({overallStats:l,modelStats:S,detailedAnalytics:n,filters:h}){const{t:s}=D(),[b,V]=v.useState(h.period),[p,q]=v.useState(h.modelType),E=a=>{V(a),N.get(route("analytics.index"),{period:a,model_type:p},{preserveState:!0})},I=a=>{q(a),N.get(route("analytics.index"),{period:b,model_type:a},{preserveState:!0})},o=a=>new Intl.NumberFormat().format(a),u=a=>{if(!a)return"0s";const t=Math.floor(a/3600),g=Math.floor(a%3600/60),j=a%60;return t>0?`${t}h ${g}m`:g>0?`${g}m ${j}s`:`${j}s`},P=a=>{switch(a){case"desktop":return e.jsx($,{className:"h-4 w-4"});case"mobile":return e.jsx(W,{className:"h-4 w-4"});case"tablet":return e.jsx(Q,{className:"h-4 w-4"});default:return e.jsx($,{className:"h-4 w-4"})}};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:s("analytics.page_title")}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"container mx-auto py-8 px-4 space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(T,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-600 dark:from-slate-100 dark:to-slate-400 bg-clip-text text-transparent",children:s("analytics.page_title")})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:s("analytics.page_description")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"}),e.jsxs(k,{value:b,onValueChange:E,children:[e.jsx(w,{className:"w-48 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:e.jsx(y,{})}),e.jsx(_,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:Object.entries(h.availablePeriods).map(([a,t])=>e.jsx(C,{value:a,className:"hover:bg-slate-100 dark:hover:bg-slate-700",children:t},a))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"}),e.jsxs(k,{value:p,onValueChange:I,children:[e.jsx(w,{className:"w-48 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:e.jsx(y,{})}),e.jsx(_,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:Object.entries(h.availableModels).map(([a,t])=>e.jsx(C,{value:a,className:"hover:bg-slate-100 dark:hover:bg-slate-700",children:t},a))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s("analytics.total_visits")}),e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(R,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:o(l.total_visits)}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[o(l.unique_visitors)," ",s("analytics.unique_visitors")]})]})]}),e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s("analytics.authenticated_users")}),e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"})})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:o(l.authenticated_visitors)}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[l.total_visits>0?Math.round(l.authenticated_visitors/l.total_visits*100):0,"% ",s("analytics.of_total_visits")]})]})]}),e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s("analytics.bounce_rate")}),e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(M,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:[l.bounce_rate,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:s("analytics.single_page_visits")})]})]}),e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s("analytics.avg_time_spent")}),e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(z,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:u(l.average_time_spent||0)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:s("analytics.per_session")})]})]})]}),e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:e.jsx(H,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xl text-slate-900 dark:text-slate-100",children:s("analytics.model_performance")}),e.jsx(f,{className:"text-slate-600 dark:text-slate-400",children:s("analytics.model_performance_description")})]})]})}),e.jsx(c,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(S).map(([a,t])=>e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 border border-slate-200 dark:border-slate-600 rounded-xl p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 text-lg",children:a}),e.jsxs(L,{variant:"secondary",className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700",children:[t.model_count||t.page_count||0," ",s("analytics.items")]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s("analytics.visits"),":"]}),e.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:o(t.total_visits)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s("analytics.unique"),":"]}),e.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:o(t.unique_visitors)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s("analytics.bounce_rate"),":"]}),e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:[t.bounce_rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s("analytics.avg_time"),":"]}),e.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:u(t.average_time_spent||0)})]})]})]},a))})})]}),e.jsxs(r,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 shadow-lg",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xl text-slate-900 dark:text-slate-100",children:s("analytics.detailed_analytics")}),e.jsx(f,{className:"text-slate-600 dark:text-slate-400",children:s("analytics.detailed_analytics_description")})]})]})}),e.jsx(c,{children:e.jsxs(O,{defaultValue:"devices",className:"space-y-6",children:[e.jsxs(B,{className:"grid w-full grid-cols-5 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[e.jsx(x,{value:"devices",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-slate-600 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-100 data-[state=active]:shadow-sm",children:s("analytics.devices")}),e.jsx(x,{value:"browsers",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-slate-600 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-100 data-[state=active]:shadow-sm",children:s("analytics.browsers")}),e.jsx(x,{value:"geography",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-slate-600 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-100 data-[state=active]:shadow-sm",children:s("analytics.geography")}),e.jsx(x,{value:"pages",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-slate-600 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-100 data-[state=active]:shadow-sm",children:s("analytics.top_pages")}),e.jsx(x,{value:"referrers",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-slate-600 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-100 data-[state=active]:shadow-sm",children:s("analytics.referrers")})]}),e.jsx(m,{value:"devices",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:n.device_distribution.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:P(a.device_type)}),e.jsx("span",{className:"capitalize font-medium text-slate-900 dark:text-slate-100",children:a.device_type})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 bg-slate-200 dark:bg-slate-600 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 w-20 text-right",children:[a.count," (",a.percentage,"%)"]})]})]},a.device_type))})}),e.jsx(m,{value:"browsers",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:n.browser_distribution.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(J,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:a.browser})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 bg-slate-200 dark:bg-slate-600 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 w-20 text-right",children:[a.count," (",a.percentage,"%)"]})]})]},a.browser))})}),e.jsx(m,{value:"geography",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:n.geographic_distribution.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(K,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:a.country})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 bg-slate-200 dark:bg-slate-600 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 w-20 text-right",children:[a.count," (",a.percentage,"%)"]})]})]},a.country))})}),e.jsx(m,{value:"pages",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:n.top_pages.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(T,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate max-w-md",children:a.url})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 bg-slate-200 dark:bg-slate-600 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 w-20 text-right",children:[a.count," (",a.percentage,"%)"]})]})]},a.url))})}),e.jsx(m,{value:"referrers",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:n.top_referrers.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e.jsx(M,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate max-w-md",children:a.referrer})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 bg-slate-200 dark:bg-slate-600 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 w-20 text-right",children:[a.count," (",a.percentage,"%)"]})]})]},a.referrer))})})]})})]})]})})]})}export{ke as default};
