import{r as o,j as e,L as R,$ as _,S as m}from"./app-CtOr1hPu.js";import{A as V}from"./app-layout-oPRl0q7-.js";import{u as q}from"./translate-Bf99UcN8.js";import{B as n}from"./button-CkiPvMCI.js";import{C as k,d as w}from"./card-wY2QiS_O.js";import{B as Q}from"./badge-euG7QOoy.js";import{T as U,a as G,b,c as i,d as J,e as s}from"./table-BBB9rmR_.js";import{P as l}from"./PersianDateDisplay-CL3Dv1N2.js";import{P as D}from"./PersianDatePicker-C6jyX2rN.js";import{P as K}from"./pagination-Du4VOQN-.js";import{H as W}from"./header-DTibLcmB.js";import{S as X}from"./SearchFilters-CzKVqPz3.js";import{A as Z,a as ee,b as te,c as ae,d as se,e as re,f as ie,g as ne}from"./alert-dialog-ujh6iuTo.js";import{A as le}from"./arrow-left-ANulbB4q.js";import{P as C}from"./printer-Ge1HJozu.js";import{c as de}from"./createLucideIcon-Bxlo-Dlc.js";import{C as ce}from"./calendar-e069X9tR.js";import{U as oe}from"./users-B32rvrag.js";import{E as me}from"./eye-DaDmzA-N.js";import{S as xe}from"./square-pen-xinYyiN-.js";import{T as pe}from"./trash-2-D-gjCFgC.js";import{T as ge}from"./triangle-alert-DHQiGtu4.js";import"./utils-_uDGzksi.js";import"./index-DUD5_ce2.js";import"./tslib.es6-CmEaCU22.js";import"./index-CPAeMgpG.js";import"./index-CrO69FFP.js";import"./index-CFHVeANZ.js";import"./x-BVFk1V0E.js";import"./index-CealFjwS.js";import"./avatar-K8fnGPac.js";import"./file-text-DvgW3P69.js";import"./tag-A4V-qD6b.js";import"./qr-code-zcb3a_9-.js";import"./map-pin-Dqv3e3U3.js";import"./database-B5FNRLM-.js";import"./shield-BAeLPO3u.js";import"./index-E8RGYVp6.js";import"./input-DfeLm1I6.js";import"./label-DRPQ8Stg.js";import"./chevron-left-BLDmLo_W.js";import"./permission-guard-C9qTUwb0.js";import"./plus-VTLsPdiQ.js";import"./select-B3mwpul9.js";import"./index-CJwncEgg.js";import"./check-BszNq4PX.js";import"./search-rEdg7RXY.js";import"./filter-x-CrcadV-9.js";import"./arrow-up-down-BFz6EuqY.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ye=de("CalendarDays",he),be=[{value:"created_at",label:"meeting.sort.created_at"},{value:"title",label:"meeting.sort.title"},{value:"start_date",label:"meeting.sort.start_date"},{value:"status",label:"meeting.sort.status"}],je=[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}];function yt({auth:fe,meetings:d,filters:c,printMode:S=!1}){const{t:a}=q(),[j,f]=o.useState(c.search||""),[A,x]=o.useState(!1),[r,N]=o.useState(null),[p,M]=o.useState(c.start_date||""),[g,P]=o.useState(c.end_date||""),h=Array.isArray(d)?d:d.data,y=Array.isArray(d)?void 0:d.links,T=[{title:a("meeting.page_title")||"Meetings",href:route("meetings.index")}],z=t=>{t.preventDefault(),u({search:j})},F=t=>{u({per_page:parseInt(t)})},u=t=>{m.get(route("meetings.index"),{...c,...t,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},Y=()=>{f(""),m.get(route("meetings.index"),{search:"",per_page:10,page:1})},B=t=>{N(t),x(!0)},E=()=>{r&&m.delete(route("meetings.destroy",r.id),{onSuccess:()=>{x(!1),N(null)}})},L=()=>{if(!p||!g){alert(a("meeting.print.date_required")||"Please select start and end dates");return}m.get(route("meetings.print"),{start_date:p,end_date:g,print:!0})},H=()=>{window.print()},I=()=>{m.get(route("meetings.index"),{},{preserveState:!1})},O=t=>{switch(t){case"scheduled":return"default";case"completed":return"secondary";case"cancelled":return"destructive";default:return"outline"}};return e.jsxs(V,{breadcrumbs:T,children:[e.jsx(R,{title:a("meeting.page_title")||"Meetings"}),e.jsx(Z,{open:A,onOpenChange:x,children:e.jsxs(ee,{children:[e.jsxs(te,{children:[e.jsx(ae,{children:a("meeting.delete_dialog.title")||"Delete Meeting"}),e.jsx(se,{children:a("meeting.delete_dialog.description",{title:(r==null?void 0:r.title)||""})||`Are you sure you want to delete "${r==null?void 0:r.title}"? This action cannot be undone.`})]}),e.jsxs(re,{children:[e.jsx(ie,{onClick:()=>x(!1),children:a("meeting.delete_dialog.cancel")||"Cancel"}),e.jsx(ne,{onClick:E,className:"bg-red-600 hover:bg-red-700",children:a("meeting.delete_dialog.confirm")||"Delete"})]})]})}),S?e.jsxs("div",{className:"print:m-0 print:max-w-none print:p-0",style:{fontFamily:"Amiri, serif",direction:"rtl"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
              @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');
              
              @media print {
                  @page {
                      size: A4 portrait;
                      margin: 2cm 2.5cm;
                  }
                  body {
                      font-size: 12px;
                      line-height: 1.8;
                      font-family: 'Amiri', serif !important;
                      direction: rtl;
                  }
                  * {
                      font-family: 'Amiri', serif !important;
                  }
                  .print\\:hidden {
                      display: none !important;
                  }
                  .print\\:border-gray-800 {
                      border-color: #1f2937 !important;
                  }
                  .print\\:page-break-inside-avoid {
                      page-break-inside: avoid;
                  }
              }
          `}}),e.jsx("div",{className:"mb-6 print:hidden",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{onClick:I,variant:"outline",size:"lg",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),a("common.back")||"Back"]}),e.jsxs(n,{onClick:H,size:"lg",className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(C,{className:"h-4 w-4"}),a("common.print")||"Print"]})]})}),h.map((t,Ne)=>e.jsxs("div",{className:"print:page-break-inside-avoid relative mx-auto max-w-4xl px-4 mb-8",children:[e.jsx("div",{className:"mb-8 border-b-2 border-gray-300 print:border-gray-800 pb-6",children:e.jsxs("div",{className:"relative mb-6 flex items-start justify-between",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-24 w-24 rounded-full border-4 border-gray-800 print:border-gray-800 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center text-xs font-bold",children:[e.jsx("div",{className:"mb-1",children:"د افغانستان"}),e.jsx("div",{children:"اسلامی امارت"})]})})}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-900 print:text-xl",children:a("meeting.print.government_name")||"د افغانستان اسلامی امارت"}),e.jsx("h2",{className:"mb-1 text-xl font-semibold text-gray-800 print:text-lg",children:a("meeting.print.ministry_name")||"د ملي دفاع وزارت"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-700 print:text-base",children:a("meeting.print.directorate_name")||"د استخباراتو معینیت"}),e.jsx("h4",{className:"text-base font-medium text-gray-600 print:text-sm",children:a("meeting.print.office_management")||"د دفتر مدیریت"})]}),e.jsxs("div",{className:"flex-shrink-0 text-left",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 print:text-base",children:[a("meeting.print.meeting_number")||"مجلس گڼه",": ",t.id]}),t.created_at&&e.jsxs("div",{className:"mt-2 text-sm text-gray-700 print:text-xs",children:[a("meeting.print.date")||"نېټه",": ",e.jsx(l,{date:t.created_at})," ",a("meeting.print.hijri")||"هـ ق"]})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold text-gray-900 print:text-lg border-b border-gray-300 print:border-gray-800 pb-2",children:a("meeting.print.topic")||"ومری موضوع"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 print:text-base mb-4 leading-relaxed",children:t.title})]}),t.description&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-base text-gray-700 print:text-sm leading-relaxed whitespace-pre-wrap",children:t.description})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[t.start_date&&t.end_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800 print:text-sm",children:[a("meeting.print.date_range")||"د نیټو سلسله",":"]}),e.jsxs("span",{className:"text-gray-700 print:text-sm",children:[e.jsx(l,{date:t.start_date})," - ",e.jsx(l,{date:t.end_date})]})]}),t.meeting_code&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800 print:text-sm",children:[a("meeting.print.meeting_code")||"د مجلس کوډ",":"]}),e.jsx("span",{className:"font-mono text-gray-700 print:text-sm",children:t.meeting_code})]}),t.status&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800 print:text-sm",children:[a("meeting.print.status")||"حالت",":"]}),e.jsx("span",{className:"text-gray-700 print:text-sm",children:a(`meeting.status.${t.status}`)||t.status})]}),t.creator&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800 print:text-sm",children:[a("meeting.print.created_by")||"جوړونکی",":"]}),e.jsx("span",{className:"text-gray-700 print:text-sm",children:t.creator.name})]})]}),t.members&&t.members.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"mb-3 text-lg font-bold text-gray-900 print:text-base border-b border-gray-300 print:border-gray-800 pb-2",children:a("meeting.print.members")||"د مجلس غړي"}),e.jsx("div",{className:"space-y-2",children:t.members.map(($,v)=>e.jsxs("div",{className:"flex items-start gap-2 text-base text-gray-700 print:text-sm",children:[e.jsxs("span",{className:"font-semibold",children:[v+1,"."]}),e.jsx("span",{children:$})]},v))})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900 print:text-base border-b border-gray-300 print:border-gray-800 pb-2",children:a("meeting.print.resolution")||"د مجلس پرېکړه"}),e.jsx("div",{className:"space-y-3 text-base text-gray-700 print:text-sm leading-relaxed",children:e.jsx("p",{children:a("meeting.print.resolution_text")||"د یادو موضوعاتو په اړه د مجلس پرېکړه د پورتنیو شرایطو سره سم ترسره کړئ."})})]})]}),e.jsx("div",{className:"mt-12 border-t-2 border-gray-300 print:border-gray-800 pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 print:text-xs",children:[a("meeting.print.duration")||"د ترسره کیدو موده",": ",e.jsx("span",{className:"font-semibold",children:a("meeting.print.urgent")||"عاجل"})]}),e.jsxs("div",{className:"text-sm text-gray-600 print:text-xs",children:[a("meeting.print.printed_at")||"چاپ شوی",": ",e.jsx(l,{date:new Date().toISOString().split("T")[0]})]})]})})]},t.id))]}):e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(W,{title:a("meeting.page_title")||"Meetings",description:a("meeting.page_description")||"Manage and organize your meetings",icon:e.jsx(ye,{className:"h-6 w-6 text-white"}),model:"meeting",routeName:"meetings.create",theme:"indigo",buttonText:a("meeting.create.button")||"Create Meeting",buttonSize:"lg"}),e.jsx(k,{className:"mt-6 mb-6",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{id:"start_date",value:p,onChange:t=>M(t),label:a("meeting.print.start_date")||"Start Date",placeholder:a("meeting.print.start_date_placeholder")||"YYYY/MM/DD",className:"w-full"})}),e.jsx("div",{className:"flex-1",children:e.jsx(D,{id:"end_date",value:g,onChange:t=>P(t),label:a("meeting.print.end_date")||"End Date",placeholder:a("meeting.print.end_date_placeholder")||"YYYY/MM/DD",className:"w-full"})}),e.jsxs(n,{onClick:L,size:"lg",className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(C,{className:"h-4 w-4"}),a("meeting.print.button")||"Print Meetings"]})]})})}),e.jsx(X,{title:a("meeting.search_filters")||"Search & Filter Meetings",description:a("meeting.search_description")||"Find and filter meetings by title, description, or meeting code",searchQuery:j,onSearchChange:f,onSearchSubmit:z,searchPlaceholder:a("meeting.search_placeholder")||"Search meetings...",filters:{sort:"created_at",direction:"desc",per_page:c.per_page||10},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:()=>{},onDirectionChange:()=>{},onPerPageChange:F,onResetFilters:Y,types:[],categories:[],departments:[],sortOptions:be,perPageOptions:je}),e.jsx("div",{className:"mt-8",children:e.jsx(k,{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm",children:e.jsx(w,{className:"p-0",children:e.jsxs(U,{children:[e.jsx(G,{children:e.jsxs(b,{className:"bg-gray-50 dark:bg-gray-700",children:[e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("common.table.id")||"ID"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.title")||"Title"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.meeting_code")||"Meeting Code"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.status")||"Status"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.date_range")||"Date Range"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.members")||"Members"}),e.jsx(i,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.table.creator")||"Creator"}),e.jsx(i,{className:"px-6 py-4 text-right font-semibold text-gray-900 dark:text-gray-100",children:a("common.table.actions")||"Actions"})]})}),e.jsx(J,{children:h.length>0?h.map(t=>e.jsxs(b,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[e.jsx(s,{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:t.id}),e.jsx(s,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),t.description&&e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1 mt-1",children:t.description})]})}),e.jsx(s,{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:t.meeting_code})}),e.jsx(s,{className:"px-6 py-4",children:e.jsx(Q,{variant:O(t.status),className:"text-xs",children:a(`meeting.status.${t.status}`)||t.status})}),e.jsx(s,{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:t.start_date&&t.end_date?e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(ce,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),e.jsxs("span",{children:[e.jsx(l,{date:t.start_date})," - ",e.jsx(l,{date:t.end_date})]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(s,{className:"px-6 py-4",children:t.member_count>0?e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(oe,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),e.jsxs("span",{children:[t.member_count," ",a("meeting.members")||"members"]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(s,{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:t.creator?e.jsx("span",{className:"text-sm",children:t.creator.name}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(s,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.can_view&&e.jsx(n,{variant:"ghost",size:"icon",asChild:!0,title:a("common.view")||"View",className:"h-8 w-8",children:e.jsx(_,{href:route("meetings.show",t.id),children:e.jsx(me,{className:"h-4 w-4"})})}),t.can_update&&e.jsx(n,{variant:"ghost",size:"icon",asChild:!0,title:a("common.edit")||"Edit",className:"h-8 w-8",children:e.jsx(_,{href:route("meetings.edit",t.id),children:e.jsx(xe,{className:"h-4 w-4"})})}),t.can_delete&&e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>B(t),title:a("common.delete")||"Delete",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(pe,{className:"h-4 w-4"})})]})})]},t.id)):e.jsx(b,{children:e.jsx(s,{colSpan:8,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-700 p-4",children:e.jsx(ge,{className:"h-8 w-8 text-gray-500 dark:text-gray-400"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a("meeting.no_meetings")||"No meetings found"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("meeting.no_meetings_description")||"Get started by creating your first meeting"})]})})})})]})})})}),y&&y.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(K,{links:y})})]})]})}export{yt as default};
