import{r as m,j as e,L as g,$ as c,S as d}from"./app-D9EKp-j0.js";import{B as i}from"./button-C_lbOJaF.js";import{T as f,a as D,b as x,c as l,d as N,e as n}from"./table-DX8359l-.js";import{A as b}from"./app-layout-DLN7lXRp.js";import{A as y,a as A,b as v,c as C,d as T,e as w,f as S,g as _}from"./alert-dialog-94ToB3EN.js";import{P as z}from"./plus-D1a3V2tS.js";import{E}from"./eye-B6wn_tZH.js";import{P}from"./pencil-BJeV7_M_.js";import{T as k}from"./trash-CX9Hk8Jt.js";import"./index-CEWyTXIf.js";import"./createLucideIcon-2sT-PLZR.js";import"./index--GEwVf8d.js";import"./index-BYrHusN6.js";import"./index-BdHtEbnZ.js";import"./x-CUky7n0R.js";import"./index-DQJiO2ZR.js";import"./avatar-DJGRXLRL.js";import"./app-logo-zrypSq5u.js";import"./app-logo-icon-BTqQbP9x.js";import"./tag-B3sBBI3s.js";import"./file-text-J_QMBZXb.js";import"./qr-code-Bvz4OGpj.js";function re({departments:r,flash:a}){const[h,o]=m.useState(!1),[t,j]=m.useState(null),p=s=>{j(s),o(!0)},u=()=>{t&&d.delete(route("departments.destroy",t.id),{onSuccess:()=>{o(!1)}})};return e.jsxs(b,{children:[e.jsx(g,{title:"Departments"}),e.jsxs("div",{className:"container p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Departments"}),e.jsx(c,{href:route("departments.create"),children:e.jsxs(i,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Create Department"]})})]}),(a==null?void 0:a.message)&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:a.message}),e.jsxs(f,{children:[e.jsx(D,{children:e.jsxs(x,{children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Code"}),e.jsx(l,{children:"Info Count"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(N,{children:r.data.map(s=>e.jsxs(x,{children:[e.jsx(n,{children:s.name}),e.jsx(n,{children:s.code}),e.jsx(n,{children:s.infos_count}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{href:route("departments.show",s.id),children:e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"View"})]})}),e.jsx(c,{href:route("departments.edit",s.id),children:e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>p(s),children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},s.id))})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r.data.length," of ",r.total," departments"]}),e.jsxs("div",{className:"flex gap-2",children:[r.current_page>1&&e.jsx(i,{variant:"outline",size:"sm",onClick:()=>d.get(route("departments.index",{page:r.current_page-1})),children:"Previous"}),r.current_page<r.last_page&&e.jsx(i,{variant:"outline",size:"sm",onClick:()=>d.get(route("departments.index",{page:r.current_page+1})),children:"Next"})]})]})]}),e.jsx(y,{open:h,onOpenChange:o,children:e.jsxs(A,{children:[e.jsxs(v,{children:[e.jsx(C,{children:"Are you sure?"}),e.jsxs(T,{children:["This will permanently delete the department ",t==null?void 0:t.name,". This action cannot be undone."]})]}),e.jsxs(w,{children:[e.jsx(S,{children:"Cancel"}),e.jsx(_,{onClick:u,children:"Delete"})]})]})})]})}export{re as default};
