import{r as m,j as e,L as h,$ as d,S as x}from"./app-i9gygtI7.js";import{B as a}from"./button-DA8WHqQ5.js";import{B as n}from"./badge-CGb-l8vH.js";import{C as p,a as j,b as u,c as g,d as f}from"./card-NUH92OWN.js";import{P as N}from"./pagination-CJDq_C4x.js";import{P as v}from"./page-header-FZ74MmJ8.js";import{A as _,h as b,a as C,b as D,c as A,d as T,e as w,f as P,g as k}from"./alert-dialog-CPvMowUg.js";import{A as B}from"./app-layout-COHwvIY4.js";import{u as E}from"./translate-wL0aa-sI.js";import{P as L}from"./plus-DpSM99ox.js";import{P as S}from"./pencil-C_Xg70FF.js";import{T as H}from"./trash-2-B4S0Sxvv.js";import"./utils-Cqzwlyr3.js";import"./chevron-left-CAL4Kwwx.js";import"./createLucideIcon-CCdCu9x0.js";import"./index-BYxWpEkI.js";import"./index-DvqLlsqE.js";import"./index-CeLN-tmV.js";import"./index-CVa0K7PG.js";import"./x-C8tQnPGz.js";import"./index-BVlwhF2s.js";import"./avatar-sdpJXCM7.js";import"./app-logo-Zw_iVi_A.js";import"./app-logo-icon-CAGB5ViX.js";import"./eye-CM8Mcy_6.js";import"./file-text-DN0_y2i8.js";import"./users-CRlr-5yi.js";import"./tag-BP1vVV3I.js";import"./triangle-alert-TrSvGMVO.js";import"./qr-code-5CTkCvG_.js";import"./globe-DI9HJTz2.js";const z=[{title:"Dashboard",href:"/dashboard"},{title:"Incident Categories",href:route("incident-categories.index")}];function xe({categories:s}){const{t}=E(),[l,r]=m.useState(null),c=()=>{if(l)try{const i=route("incident-categories.destroy",l);setTimeout(()=>{x.delete(i)},0)}catch(i){console.error("Error deleting category:",i),r(null)}};return e.jsxs(B,{breadcrumbs:z,children:[e.jsx(h,{title:t("incident_categories.page_title")}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(v,{title:t("incident_categories.page_title"),description:t("incident_categories.page_description"),actions:e.jsx(a,{asChild:!0,children:e.jsxs(d,{href:route("incident-categories.create"),children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),t("incident_categories.new_category")]})})}),e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(u,{children:t("incident_categories.all_categories")}),e.jsx(g,{children:t("incident_categories.list_description")})]}),e.jsxs(f,{children:[e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.name")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.code")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.color")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.severity")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.incidents")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("incident_categories.table.status")}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium",children:t("common.actions")})]})}),e.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"h-12 px-4 text-center align-middle",children:t("incident_categories.no_categories")})}):s.data.map(i=>e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsxs("td",{className:"p-4 align-middle",children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:i.description&&i.description.length>0?i.description:"-"})]}),e.jsx("td",{className:"p-4 align-middle",children:i.code||"-"}),e.jsx("td",{className:"p-4 align-middle",children:i.color&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:i.color}}),e.jsx("span",{children:i.color})]})}),e.jsx("td",{className:"p-4 align-middle",children:e.jsxs(n,{variant:i.severity_level>4?"destructive":i.severity_level>2?"default":"outline",children:["Level ",i.severity_level]})}),e.jsx("td",{className:"p-4 align-middle",children:i.incidents_count}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx(n,{variant:i.status==="active"?"default":"secondary",children:i.status})}),e.jsx("td",{className:"p-4 align-middle",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(d,{href:route("incident-categories.edit",i.id),children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"Edit"]})}),e.jsxs(_,{open:l===i.id,onOpenChange:o=>{o||r(null)},children:[e.jsx(b,{asChild:!0,children:e.jsxs(a,{variant:"ghost",size:"sm",onClick:()=>r(i.id),children:[e.jsx(H,{className:"h-4 w-4 mr-1"}),"Delete"]})}),e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(A,{children:t("incident_categories.delete_title")}),e.jsx(T,{children:t("incident_categories.delete_description")})]}),e.jsxs(w,{children:[e.jsx(P,{children:t("common.cancel")}),e.jsx(k,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("common.delete")})]})]})]})]})})]},i.id))})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(N,{links:s.links})})]})]})]})]})}export{xe as default};
