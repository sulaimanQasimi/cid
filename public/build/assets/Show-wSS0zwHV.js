import{r as b,j as e,L as _,$ as r,S as w}from"./app-CaOFbb5p.js";import{B as i}from"./button-BgmOCw2s.js";import{B as p}from"./badge-DkAel5D-.js";import{C as a,a as d,b as l,c as u,d as o}from"./card-BisyDRUw.js";import{S as C}from"./separator-0GyEQ8by.js";import{P as D}from"./page-header-DixF9XNI.js";import{A as y,h as A,a as T,b as S,c as P,d as k,e as B,f as L,g as F}from"./alert-dialog-bMic2Y_A.js";import{A as H,C as O}from"./app-layout-BnaWUlXy.js";import{u as $}from"./translate-TdXOf_jB.js";import{A as E}from"./arrow-left-7nojBI5D.js";import{S as I}from"./square-pen-Dmv-4Wkv.js";import{T as M}from"./trash-2-Cb8wGwv9.js";import{F as U}from"./file-text-tQrNfThz.js";import{f as q}from"./index-CaunA62S.js";import{T as R}from"./tag-CRH5rx9C.js";import{M as z}from"./users-DacFqtlq.js";import{U as G}from"./user-hJgu24zB.js";import"./index-Dz_2ROfM.js";import"./index-djsfXYng.js";import"./createLucideIcon-YrFxUe8D.js";import"./index-QYTXijtn.js";import"./index-CMwx1BFh.js";import"./x-BX68FbZw.js";import"./index-CB1115OV.js";import"./avatar-DwlMoviI.js";import"./app-logo-DEy1bYcE.js";import"./app-logo-icon-BNvkhmTw.js";import"./triangle-alert-DwpGNmzU.js";import"./qr-code-DvifJzwA.js";function be({incident:s}){var c,n,m,x,h,j;const{t}=$(),[f,g]=b.useState(!1),v=[{title:"Dashboard",href:"/dashboard"},{title:"Incidents",href:route("incidents.index")},{title:s.title,href:route("incidents.show",s.id)}],N=()=>{w.delete(route("incidents.destroy",s.id))};return e.jsxs(H,{breadcrumbs:v,children:[e.jsx(_,{title:t("incidents.show_title",{name:s.title})}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(D,{title:t("incidents.details_title"),description:t("incidents.details_description"),actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(r,{href:route("incidents.index"),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),t("incidents.back_to_list")]})}),e.jsx(i,{asChild:!0,children:e.jsxs(r,{href:route("incidents.edit",s.id),children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),t("common.edit")]})}),e.jsxs(y,{open:f,onOpenChange:g,children:[e.jsx(A,{asChild:!0,children:e.jsxs(i,{variant:"destructive",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),t("common.delete")]})}),e.jsxs(T,{children:[e.jsxs(S,{children:[e.jsx(P,{children:t("incidents.delete_title")}),e.jsx(k,{children:t("incidents.delete_description")})]}),e.jsxs(B,{children:[e.jsx(L,{children:t("common.cancel")}),e.jsx(F,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("common.delete")})]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(a,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-2xl",children:s.title}),e.jsx(u,{children:s.incident_type})]}),e.jsx(p,{variant:s.status==="resolved"||s.status==="investigating"?"default":s.status==="closed"?"outline":"default",children:s.status})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t("incidents.form.description")}),e.jsx("p",{className:"mt-2 whitespace-pre-line text-muted-foreground",children:s.description})]}),e.jsx(C,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t("incidents.impact")}),e.jsxs("div",{className:"mt-2 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t("incidents.form.casualties")}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.casualties})]}),e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t("incidents.form.injuries")}),e.jsx("div",{className:"mt-1 text-2xl font-bold",children:s.injuries})]})]})]})]})})]}),s.report&&e.jsxs(a,{children:[e.jsxs(d,{children:[e.jsx(l,{children:t("incidents.associated_report")}),e.jsx(u,{children:t("incidents.associated_report_description")})]}),e.jsx(o,{children:e.jsxs(r,{href:route("incident-reports.show",s.report.id),className:"group flex items-center rounded-md border p-4 transition-colors hover:bg-muted/50",children:[e.jsx("div",{className:"mr-4 rounded-full bg-primary/10 p-2",children:e.jsx(U,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium group-hover:underline",children:s.report.report_number}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t("incidents.view_full_report")})]})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(d,{children:e.jsx(l,{children:t("incidents.information")})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.date_time")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[q(new Date(s.incident_date),"PPP"),s.incident_time&&` ${s.incident_time}`]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(R,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.category_type")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(p,{className:"mr-2",style:{backgroundColor:((c=s.category)==null?void 0:c.color)||"#888888"},children:((n=s.category)==null?void 0:n.name)||t("incidents.unspecified")}),s.incident_type]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(z,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.table.location")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.location||t("incidents.unspecified_location"),e.jsx("br",{}),(m=s.district)==null?void 0:m.name,", ",(h=(x=s.district)==null?void 0:x.province)==null?void 0:h.name,s.coordinates&&e.jsxs("div",{className:"mt-1 text-xs",children:["Coordinates: ",s.coordinates]})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(G,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t("incidents.reported_by")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:((j=s.reporter)==null?void 0:j.name)||t("incidents.unknown")})]})]})]})]})})]})]})]})}export{be as default};
