import{r as m,j as e,L as R,$ as h,S as p}from"./app-wp6Guzzg.js";import{A as Q,C as U,a as j}from"./app-layout-BCp2TqpK.js";import{B as l}from"./button-DdhFDbBb.js";import{T as X,a as q,b as g,c as n,d as G,e as i}from"./table-C7t5dlPX.js";import{I as J}from"./input-DOaZA_KP.js";import{S as _,a as v,b as f,c as N,d as x}from"./select-tzjXi50L.js";import{B as K}from"./badge-BvpqPqOJ.js";import{C as T,a as W,b as Y,d as k}from"./card-DCX32ycO.js";import{A as Z,a as ee,b as ae,c as se,d as te,e as le,f as re,g as ie}from"./alert-dialog-Cw4R3HEs.js";import{u as ne}from"./translate-DHvh_RxM.js";import{u as ce,C as oe,a as de,b as me,c as he}from"./permission-guard-CAfrnYIZ.js";import{P as pe}from"./plus-CRTrU7xz.js";import{S as xe}from"./search-C_Xcr2_W.js";import{A as ue}from"./arrow-up-down-DsWIPeom.js";import{F as je}from"./filter-x-C112K8cw.js";import{f as ge}from"./index-CaunA62S.js";import{E as _e}from"./eye-Nva3oBMg.js";import{P as ve}from"./pencil-CdTWSpFc.js";import{T as fe}from"./trash-CAhrdziZ.js";import{C as w}from"./chevron-left-D7HeHKuy.js";import"./utils-BoYQRibn.js";import"./index-BW6aKdAO.js";import"./createLucideIcon-WLF4tROH.js";import"./index-XAn5yQ2E.js";import"./index-DtlMaX7Z.js";import"./index-kSuzMWFK.js";import"./x-DMYmK7hh.js";import"./index-qZqd60Ez.js";import"./avatar-D0atiyuw.js";import"./app-logo-DEdMN1x1.js";import"./app-logo-icon-CU0HTb3k.js";import"./file-text-a4VBICP-.js";import"./users-Dj-7kQ7a.js";import"./tag-Dui773Zp.js";import"./triangle-alert-nApTjZp7.js";import"./qr-code-B0fjN3Lw.js";import"./globe-BjUcTPKI.js";import"./index-BJlsjxrB.js";import"./check-bJLwwkQ5.js";const Ne=[{value:"name",label:"criminal.sort_options.name"},{value:"number",label:"criminal.sort_options.number"},{value:"crime_type",label:"criminal.sort_options.crime_type"},{value:"arrest_date",label:"criminal.sort_options.arrest_date"},{value:"department_id",label:"criminal.sort_options.department_id"},{value:"created_at",label:"criminal.sort_options.created_at"},{value:"updated_at",label:"criminal.sort_options.updated_at"}],we=[{value:10,label:"criminal.per_page_option"},{value:25,label:"criminal.per_page_option"},{value:50,label:"criminal.per_page_option"},{value:100,label:"criminal.per_page_option"}];function oa({criminals:t={data:[],links:{first:null,last:null,prev:null,next:null},meta:{current_page:1,from:1,last_page:1,links:[],path:"",per_page:10,to:0,total:0}},departments:z=[],filters:r,auth:be}){var D,A;ce();const{t:s}=ne(),P=[{title:s("criminal.page_title"),href:route("criminals.index")}],[b,C]=m.useState(r.search),[I,u]=m.useState(!1),[c,S]=m.useState(null),[B,y]=m.useState(r.department_id||""),F=a=>{a.preventDefault(),o({search:b})},O=a=>{o({sort:a})},V=()=>{const a=r.direction==="asc"?"desc":"asc";o({direction:a})},E=a=>{o({per_page:parseInt(a)})},H=a=>{y(a),o({department_id:a==="_all"?void 0:a})},d=a=>{p.get(route("criminals.index"),{...r,page:a},{preserveState:!0,preserveScroll:!0})},o=a=>{p.get(route("criminals.index"),{...r,...a,page:1},{preserveState:!0,preserveScroll:!0})},L=()=>{C(""),y(""),p.get(route("criminals.index"),{search:"",sort:"created_at",direction:"desc",per_page:10,page:1,department_id:void 0})},$=a=>{S(a),u(!0)},M=()=>{c&&p.delete(route("criminals.destroy",c.id),{onSuccess:()=>{u(!1),S(null)}})};return e.jsxs(Q,{breadcrumbs:P,children:[e.jsx(R,{title:s("criminal.page_title")}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("criminal.page_title")}),e.jsx("p",{className:"text-muted-foreground mt-1",children:s("criminal.page_description")})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(oe,{model:"criminal",children:e.jsx(l,{asChild:!0,size:"default",className:"shadow-sm",children:e.jsxs(h,{href:route("criminals.create"),children:[e.jsx(pe,{className:"mr-2 h-4 w-4"}),s("criminal.add_button")]})})})})]}),e.jsxs(T,{className:"shadow-sm",children:[e.jsx(W,{className:"py-4",children:e.jsx(Y,{className:"text-base font-medium",children:s("criminal.search_filters")})}),e.jsx(k,{children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("form",{onSubmit:F,className:"flex items-center gap-2",children:[e.jsx(J,{placeholder:s("criminal.search_placeholder"),value:b,onChange:a=>C(a.target.value),className:"w-full"}),e.jsx(l,{type:"submit",variant:"outline",size:"sm",className:"shadow-sm",children:e.jsx(xe,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"w-full md:w-56",children:e.jsxs(_,{value:B,onValueChange:H,children:[e.jsx(v,{className:"shadow-sm",children:e.jsx(f,{placeholder:s("criminal.filter_by_department")})}),e.jsxs(N,{children:[e.jsx(x,{value:"_all",children:s("criminal.all_departments")}),z.map(a=>e.jsx(x,{value:a.id.toString(),children:a.name},a.id))]})]})}),e.jsx("div",{className:"w-full md:w-44",children:e.jsxs(_,{value:r.sort,onValueChange:O,children:[e.jsx(v,{className:"shadow-sm",children:e.jsx(f,{placeholder:s("criminal.sort_by")})}),e.jsx(N,{children:Ne.map(a=>e.jsx(x,{value:a.value,children:s(a.label)},a.value))})]})}),e.jsx("div",{children:e.jsx(l,{variant:"outline",size:"icon",onClick:V,title:s(`criminal.sort_${r.direction==="asc"?"descending":"ascending"}`),className:"shadow-sm",children:e.jsx(ue,{className:`h-4 w-4 ${r.direction==="desc"?"rotate-180":""}`})})}),e.jsx("div",{className:"w-full md:w-40",children:e.jsxs(_,{value:r.per_page.toString(),onValueChange:E,children:[e.jsx(v,{className:"shadow-sm",children:e.jsx(f,{placeholder:s("criminal.items_per_page")})}),e.jsx(N,{children:we.map(a=>e.jsx(x,{value:a.value.toString(),children:s(a.label,{count:String(a.value)})},a.value))})]})}),e.jsx("div",{children:e.jsx(l,{variant:"outline",size:"icon",onClick:L,title:s("criminal.reset_filters"),className:"shadow-sm",children:e.jsx(je,{className:"h-4 w-4"})})})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(T,{className:"shadow-sm overflow-hidden",children:e.jsx(k,{className:"p-0",children:e.jsxs(X,{children:[e.jsx(q,{children:e.jsxs(g,{className:"bg-muted/50",children:[e.jsx(n,{children:s("criminal.table.name")}),e.jsx(n,{children:s("criminal.table.number")}),e.jsx(n,{children:s("criminal.table.crime_type")}),e.jsx(n,{children:s("criminal.table.department")}),e.jsx(n,{children:s("criminal.table.arrest_date")}),e.jsx(n,{children:s("criminal.table.actions")})]})}),e.jsx(G,{children:t.data&&t.data.length>0?t.data.map(a=>e.jsxs(g,{className:"hover:bg-muted/30",children:[e.jsx(i,{className:"font-medium",children:a.name}),e.jsx(i,{children:a.number||s("criminal.na")}),e.jsx(i,{children:a.crime_type||s("criminal.na")}),e.jsx(i,{children:a.department?e.jsx(K,{variant:"outline",className:"bg-background",children:a.department.name}):s("criminal.na")}),e.jsx(i,{children:a.arrest_date?ge(new Date(a.arrest_date),"MMM d, yyyy"):s("criminal.na")}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(de,{model:"criminal",children:e.jsx(l,{variant:"ghost",size:"icon",asChild:!0,title:s("criminal.actions.view"),className:"h-8 w-8 rounded-full",children:e.jsx(h,{href:route("criminals.show",a.id),children:e.jsx(_e,{className:"h-4 w-4"})})})}),e.jsx(me,{model:"criminal",children:e.jsx(l,{variant:"ghost",size:"icon",asChild:!0,title:s("criminal.actions.edit"),className:"h-8 w-8 rounded-full",children:e.jsx(h,{href:route("criminals.edit",a.id),children:e.jsx(ve,{className:"h-4 w-4"})})})}),e.jsx(he,{model:"criminal",children:e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>$(a),title:s("criminal.actions.delete"),className:"h-8 w-8 rounded-full text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(fe,{className:"h-4 w-4"})})}),e.jsx(l,{variant:"ghost",size:"icon",asChild:!0,title:s("criminal.analytics.view_analytics"),className:"h-8 w-8 rounded-full",children:e.jsx(h,{href:route("analytics.show",["Criminal",a.id]),children:e.jsx(U,{className:"h-4 w-4"})})})]})})]},a.id)):e.jsx(g,{children:e.jsx(i,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:s("criminal.no_records")})})})]})})})}),t.meta&&t.meta.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"outline",size:"icon",onClick:()=>t.meta&&d(1),disabled:!t.meta||t.meta.current_page===1,className:"shadow-sm h-8 w-8",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx(w,{className:"h-4 w-4 -ml-2"})]}),e.jsx(l,{variant:"outline",size:"icon",onClick:()=>t.meta&&d(t.meta.current_page-1),disabled:!t.meta||t.meta.current_page===1,className:"shadow-sm h-8 w-8",children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-2 text-sm",children:s("criminal.pagination",{current:String(((D=t.meta)==null?void 0:D.current_page)??"1"),total:String(((A=t.meta)==null?void 0:A.last_page)??"1")})}),e.jsx(l,{variant:"outline",size:"icon",onClick:()=>t.meta&&d(t.meta.current_page+1),disabled:!t.meta||t.meta.current_page===t.meta.last_page,className:"shadow-sm h-8 w-8",children:e.jsx(j,{className:"h-4 w-4"})}),e.jsxs(l,{variant:"outline",size:"icon",onClick:()=>t.meta&&d(t.meta.last_page),disabled:!t.meta||t.meta.current_page===t.meta.last_page,className:"shadow-sm h-8 w-8",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx(j,{className:"h-4 w-4 -ml-2"})]})]})})]}),e.jsx(Z,{open:I,onOpenChange:u,children:e.jsxs(ee,{className:"max-w-md",children:[e.jsxs(ae,{children:[e.jsx(se,{className:"text-xl",children:s("criminal.delete_dialog.title")}),e.jsx(te,{className:"mt-2",children:s("criminal.delete_dialog.description",{name:(c==null?void 0:c.name)||""})})]}),e.jsxs(le,{className:"mt-6",children:[e.jsx(re,{className:"shadow-sm",children:s("criminal.delete_dialog.cancel")}),e.jsx(ie,{onClick:M,className:"bg-destructive text-destructive-foreground shadow-sm",children:s("criminal.delete_dialog.confirm")})]})]})})]})}export{oa as default};
