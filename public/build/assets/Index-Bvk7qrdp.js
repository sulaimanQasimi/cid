import{r as i,U as S,S as h,j as e,L as H,$ as j}from"./app-Dpa8Mw3a.js";import{A as z}from"./app-layout-KS4ZWDuL.js";import{B as y}from"./button-BovskyHP.js";import{C as I,d as L}from"./card-T66pFWB-.js";import{T as R,a as V,b as f,c as l,d as $,e as o}from"./table-Q7qTtagI.js";import{P as M}from"./pagination-Gy4MouKr.js";import{A as Q,a as q,b as G,c as J,d as K,e as W,f as X,g as Y}from"./alert-dialog-CQtGFM8f.js";import{u as Z}from"./translate-HZomKBkO.js";import{f as ee}from"./date-BaJKjiu2.js";import{B as w}from"./badge-BRSlEmcD.js";import{H as re}from"./header-By9VsQxK.js";import{S as ae}from"./SearchFilters-BFKWKjCm.js";import{C as te,a as se,b as ie}from"./permission-guard-DosNsWVL.js";import{S as oe,T as le}from"./triangle-alert-BnBHvMxc.js";import{U as ne}from"./user-CDrvO7Mw.js";import{E as de}from"./eye-DuyRId54.js";import{P as ce}from"./pencil-CbShOZwK.js";import{T as ge}from"./trash-Bl6DQ6lq.js";import{C as xe}from"./chart-column-cGegRabh.js";import"./utils-DueTybL-.js";import"./index-VbilsNxZ.js";import"./createLucideIcon-cRJugfto.js";import"./index-ClXbMXOW.js";import"./index-DsVxkLMa.js";import"./index-C78t6nrx.js";import"./x-DZIFbQwF.js";import"./index-BCJNFKuF.js";import"./avatar-KX0QfjZ3.js";import"./file-text-YbYT_577.js";import"./users-B6Oil1LJ.js";import"./tag-DEZBMSTU.js";import"./qr-code-CxFcn35d.js";import"./map-pin-Cv7EuQHI.js";import"./database-BqHSan2y.js";import"./arrow-left-D2iBQ-z9.js";import"./plus-xyLdybCb.js";import"./select-DkoVjQQ-.js";import"./index-BkJeBnqw.js";import"./check-BEXHyh2e.js";import"./input-2B8gUPrT.js";import"./search-B2wtCM5S.js";import"./filter-x-CfYpOzMr.js";import"./arrow-up-down-3Ys2MXu1.js";function me(t,s){const[r,n]=i.useState(t);return i.useEffect(()=>{const g=setTimeout(()=>{n(t)},s);return()=>{clearTimeout(g)}},[t,s]),r}const pe=[{title:"User Management",href:"#"},{title:"Users",href:route("users.index")}];function or({users:t,filters:s}){const{t:r}=Z(),[n,g]=i.useState(s.search),[u,k]=i.useState(s.per_page.toString()),[x,N]=i.useState(s.sort),[d,m]=i.useState(s.direction),[v,b]=i.useState(t.current_page),[D,p]=i.useState(!1),[c,T]=i.useState(null),[he,ye]=i.useState(!1),C=me(n,300);S.useEffect(()=>{b(t.current_page)},[t.current_page]),S.useEffect(()=>{h.get(route("users.index"),{search:C,per_page:u,sort:x,direction:d,page:v},{preserveState:!0,replace:!0})},[C,u,x,d,v]);const A=a=>{x===a?m(d==="asc"?"desc":"asc"):(N(a),m("asc"))},P=a=>{T(a),p(!0)},U=()=>{c&&(h.delete(route("users.destroy",c.id)),p(!1))},E=()=>{g(""),k("10"),N("created_at"),m("desc"),b(1),h.get(route("users.index"),{search:"",per_page:10,sort:"created_at",direction:"desc",page:1})},O=a=>{a.preventDefault(),b(1),h.get(route("users.index"),{search:n,per_page:u,sort:x,direction:d,page:1},{preserveState:!0,replace:!0})},F=[{value:"name",label:"users.sort_options.name"},{value:"email",label:"users.sort_options.email"},{value:"created_at",label:"users.sort_options.created_at"}],B=[{value:5,label:"5 per page"},{value:10,label:"10 per page"},{value:25,label:"25 per page"},{value:50,label:"50 per page"}];return e.jsxs(z,{breadcrumbs:pe,children:[e.jsx(H,{title:r("users.page_title")}),e.jsx(Q,{open:D,onOpenChange:p,children:e.jsxs(q,{children:[e.jsxs(G,{children:[e.jsx(J,{children:r("users.delete_dialog.title")}),e.jsx(K,{children:r("users.delete_dialog.description",{name:(c==null?void 0:c.name)||""})})]}),e.jsxs(W,{children:[e.jsx(X,{onClick:()=>p(!1),children:r("users.delete_dialog.cancel")}),e.jsx(Y,{onClick:U,className:"bg-red-600 hover:bg-red-700",children:r("users.delete_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(re,{title:r("users.page_title"),description:r("users.page_description"),icon:e.jsx(oe,{className:"h-8 w-8 text-white"}),model:"user",routeName:"users.create",buttonText:r("users.add_user"),theme:"blue"}),e.jsx(ae,{title:r("users.search_filters"),description:r("users.table.description"),searchQuery:n,onSearchChange:g,onSearchSubmit:O,filters:{sort:s.sort,direction:s.direction,per_page:s.per_page},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:A,onDirectionChange:()=>m(d==="asc"?"desc":"asc"),onPerPageChange:k,onResetFilters:E,types:[],categories:[],departments:[],sortOptions:F,perPageOptions:B}),e.jsx("div",{className:"mt-8",children:e.jsx(I,{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm",children:e.jsx(L,{className:"p-0",children:e.jsxs(R,{children:[e.jsx(V,{children:e.jsxs(f,{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600",children:[e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.id")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.name")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.email")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.department")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.roles")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.created")}),e.jsx(l,{className:"px-6 py-4 text-right font-semibold text-gray-900 dark:text-gray-100",children:r("users.table.actions")})]})}),e.jsx($,{children:t.data&&t.data.length>0?t.data.map(a=>e.jsxs(f,{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 border-b border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800",children:[e.jsx(o,{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:a.id}),e.jsx(o,{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("span",{children:a.name})]})}),e.jsx(o,{className:"px-6 py-4 text-gray-900 dark:text-gray-100",children:a.email}),e.jsx(o,{className:"px-6 py-4",children:a.department?e.jsx(w,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700",children:a.department.name}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(o,{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:a.roles&&a.roles.length>0?a.roles.map(_=>e.jsx(w,{variant:"secondary",className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-600",children:_.name},_.id)):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})})}),e.jsx(o,{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:ee(a.created_at)}),e.jsx(o,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(te,{model:"user",children:e.jsx(y,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.view"),className:"h-8 w-8 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:e.jsx(j,{href:route("users.show",a.id),children:e.jsx(de,{className:"h-4 w-4"})})})}),e.jsx(se,{model:"user",children:e.jsx(y,{variant:"ghost",size:"icon",asChild:!0,title:r("users.actions.edit"),className:"h-8 w-8 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:e.jsx(j,{href:route("users.edit",a.id),children:e.jsx(ce,{className:"h-4 w-4"})})})}),e.jsx(ie,{model:"user",children:e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>P(a),title:r("users.actions.delete"),className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:e.jsx(ge,{className:"h-4 w-4"})})}),e.jsx(y,{variant:"ghost",size:"icon",asChild:!0,title:r("users.analytics.view_analytics"),className:"h-8 w-8 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:e.jsx(j,{href:`/analytics/User/${a.id}`,children:e.jsx(xe,{className:"h-4 w-4"})})})]})})]},a.id)):e.jsx(f,{children:e.jsx(o,{colSpan:7,className:"h-32 text-center bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-700 p-4",children:e.jsx(le,{className:"h-8 w-8 text-gray-500 dark:text-gray-400"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("users.no_users")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("users.no_users_description")})]})})})})]})})})}),t&&t.links&&t.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(M,{links:t.links})})]})]})}export{or as default};
