import{m as G,r as S,j as e,S as T,L as W,$ as _}from"./app-CtOr1hPu.js";import{B as m}from"./button-CkiPvMCI.js";import{C,a as F,b as P,c as A,d as D}from"./card-wY2QiS_O.js";import{B as j}from"./badge-euG7QOoy.js";import{P as J}from"./pagination-Du4VOQN-.js";import{A as K}from"./app-layout-oPRl0q7-.js";import{u as V}from"./translate-Bf99UcN8.js";import{H as q}from"./header-DTibLcmB.js";import{P as k}from"./PersianDateDisplay-CL3Dv1N2.js";import{a as Q}from"./date-BaJKjiu2.js";import{A as X,a as Y,b as Z,c as ee,d as te,e as re,f as ie,g as se}from"./alert-dialog-ujh6iuTo.js";import{I as x}from"./input-DfeLm1I6.js";import{L as c}from"./label-DRPQ8Stg.js";import{T as ae}from"./textarea-JLWSpiNi.js";import{P as de}from"./PersianDatePicker-C6jyX2rN.js";import{S as H,a as I,b as O,c as U,d as $}from"./select-B3mwpul9.js";import{D as oe,a as le,b as ne,c as ce}from"./dialog-D8vzimHo.js";import{F as me}from"./FooterButtons-CfDjKHaF.js";import{P as xe}from"./plus-VTLsPdiQ.js";import{F as h}from"./file-text-DvgW3P69.js";import{T as a}from"./triangle-alert-DHQiGtu4.js";import{C as E}from"./circle-alert-CwbUY5ia.js";import{B as z}from"./book-text-_0N7vrwr.js";import{C as v}from"./clock-BD4FDkOl.js";import{B as he}from"./building-2-B4NM4taS.js";import{M as L}from"./map-pin-Dqv3e3U3.js";import{T as ve}from"./trash-C0IKWM0b.js";import{P as ge}from"./pencil-DLcrlhfY.js";import{P as be}from"./printer-Ge1HJozu.js";import{S as M}from"./shield-BAeLPO3u.js";import{C as pe}from"./calendar-e069X9tR.js";import{U as fe}from"./users-B32rvrag.js";import{U as ue}from"./user-round-CtY9F3bT.js";import{U as R}from"./user-Dva6HYjS.js";import{G as je}from"./gavel-D4V6wOFR.js";import{F as ke}from"./file-check-B-RPL_B-.js";import{E as Ne}from"./eye-DaDmzA-N.js";import"./utils-_uDGzksi.js";import"./chevron-left-BLDmLo_W.js";import"./createLucideIcon-Bxlo-Dlc.js";import"./index-DUD5_ce2.js";import"./tslib.es6-CmEaCU22.js";import"./index-CPAeMgpG.js";import"./index-CrO69FFP.js";import"./index-CFHVeANZ.js";import"./x-BVFk1V0E.js";import"./index-CealFjwS.js";import"./avatar-K8fnGPac.js";import"./tag-A4V-qD6b.js";import"./qr-code-zcb3a_9-.js";import"./database-B5FNRLM-.js";import"./permission-guard-C9qTUwb0.js";import"./arrow-left-ANulbB4q.js";import"./index-E8RGYVp6.js";import"./index-CJwncEgg.js";import"./check-BszNq4PX.js";import"./save-AdGZKFLv.js";function we({isOpen:r,onClose:n,districts:N,categories:w,reportId:y}){const{t}=V(),{data:l,setData:d,post:g,processing:b,errors:s,reset:p}=G({title:"",description:"",incident_date:"",incident_time:"",district_id:"",incident_category_id:"",location:"",coordinates:"",incident_type:"",is_confirmed:!1,confirmed_by:null,confirmed_at:null,confirmation_notes:null});S.useEffect(()=>{r&&p()},[r,p]);const f=i=>{i.preventDefault(),g(route("incident-reports.incidents.store",y),{onSuccess:()=>{n(),T.reload({only:["incidents"]})}})},u=()=>{n()},o=()=>{g(route("incident-reports.incidents.store",y),{onSuccess:()=>{n(),T.reload({only:["incidents"]})}})};return e.jsx(oe,{open:r,onOpenChange:n,children:e.jsxs(le,{className:"!max-w-[90vw] !max-h-[95vh] !w-[90vw] !h-[95vh] overflow-hidden bg-white dark:bg-gray-900 border-0 shadow-2xl",style:{maxWidth:"90vw",maxHeight:"95vh",width:"90vw",height:"95vh"},children:[e.jsx(ne,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:e.jsxs(ce,{className:"flex items-center gap-4 text-2xl font-bold",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(xe,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:t("incidents.create_title")}),e.jsx("div",{className:"text-blue-100 text-sm font-medium",children:t("incidents.create_description")})]})]})}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)] px-6 py-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"title",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.title"),e.jsx(h,{className:"h-4 w-4"})]}),e.jsx(x,{id:"title",value:l.title,onChange:i=>d("title",i.target.value),placeholder:t("incidents.form.title_placeholder"),required:!0,className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),s.title&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.title]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_type",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.type"),e.jsx(E,{className:"h-4 w-4"})]}),e.jsx(x,{id:"incident_type",value:l.incident_type,onChange:i=>d("incident_type",i.target.value),placeholder:t("incidents.form.type_placeholder"),required:!0,className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),s.incident_type&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.incident_type]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"description",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.description"),e.jsx(z,{className:"h-4 w-4"})]}),e.jsx(ae,{id:"description",value:l.description,onChange:i=>d("description",i.target.value),placeholder:t("incidents.form.description_placeholder"),rows:5,required:!0,className:"min-h-[120px] resize-none border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),s.description&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.description]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsx("div",{className:"space-y-3",children:e.jsx(de,{id:"incident_date",label:t("incidents.form.date"),value:l.incident_date,onChange:i=>d("incident_date",i),placeholder:t("incidents.form.date_placeholder"),required:!0,error:s.incident_date,className:"w-full"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_time",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.time"),e.jsx(v,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"incident_time",type:"time",value:l.incident_time,onChange:i=>d("incident_time",i.target.value),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),e.jsx(v,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-blue-400 pointer-events-none"})]}),s.incident_time&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.incident_time]})]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"district_id",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.district"),e.jsx(he,{className:"h-4 w-4"})]}),e.jsxs(H,{value:l.district_id,onValueChange:i=>d("district_id",i),required:!0,children:[e.jsx(I,{className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right",children:e.jsx(O,{placeholder:t("incidents.form.select_district")})}),e.jsx(U,{children:N.map(i=>{var B;return e.jsxs($,{value:i.id.toString(),children:[i.name," (",(B=i.province)==null?void 0:B.name,")"]},i.id)})})]}),s.district_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.district_id]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"incident_category_id",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[e.jsx("span",{className:"text-red-500",children:"*"}),t("incidents.form.category"),e.jsx(E,{className:"h-4 w-4"})]}),e.jsxs(H,{value:l.incident_category_id,onValueChange:i=>d("incident_category_id",i),required:!0,children:[e.jsx(I,{className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right",children:e.jsx(O,{placeholder:t("incidents.form.select_category")})}),e.jsx(U,{children:w.map(i=>e.jsx($,{value:i.id.toString(),children:i.name},i.id))})]}),s.incident_category_id&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.incident_category_id]})]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"location",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.location"),e.jsx(L,{className:"h-4 w-4"})]}),e.jsx(x,{id:"location",value:l.location,onChange:i=>d("location",i.target.value),placeholder:t("incidents.form.location_placeholder"),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),s.location&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.location]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"coordinates",className:"text-base font-medium flex items-center gap-2 text-gray-800 dark:text-gray-200 text-right",dir:"rtl",children:[t("incidents.form.coordinates"),e.jsx(L,{className:"h-4 w-4"})]}),e.jsx(x,{id:"coordinates",value:l.coordinates,onChange:i=>d("coordinates",i.target.value),placeholder:t("incidents.form.coordinates_placeholder"),className:"h-12 border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-white dark:bg-gray-800 text-right"}),s.coordinates&&e.jsxs("p",{className:"text-sm text-red-500 font-medium bg-red-50 p-2 rounded-lg border border-red-200 flex items-center gap-2 text-right",children:[e.jsx(a,{className:"h-4 w-4"}),s.coordinates]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(me,{onCancel:u,onSubmit:o,processing:b,cancelText:t("common.cancel"),submitText:t("incidents.save_incident"),savingText:t("incidents.saving")})})]})})]})})}function Dt({report:r,incidents:n,districts:N,categories:w,reports:y}){var f,u;const{t}=V(),[l,d]=S.useState(!1),[g,b]=S.useState(!1),s=[{title:t("incident_reports.page_title"),href:route("incident-reports.index")},{title:r.report_number,href:route("incident-reports.show",r.id)}],p=()=>{T.delete(route("incident-reports.destroy",r.id))};return e.jsxs(K,{breadcrumbs:s,children:[e.jsx(W,{title:t("incident_reports.show.page_title",{number:r.report_number})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(q,{title:r.report_number,description:`${t("incident_reports.show.report_date_label")}: ${Q(r.report_date)}`,icon:e.jsx(M,{className:"h-5 w-5"}),model:"incident_reports",routeName:()=>route("incident-reports.index"),buttonText:t("common.back"),theme:"violet",showBackButton:!0,backRouteName:()=>route("incident-reports.index"),backButtonText:t("common.back"),showButton:!1,actionButtons:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{onClick:()=>d(!0),className:"bg-red-500/20 dark:bg-red-500/30 backdrop-blur-md border-red-300/30 dark:border-red-400/40 text-white hover:bg-red-500/30 dark:hover:bg-red-500/40 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-red-500/20 dark:bg-red-500/30 rounded-lg",children:e.jsx(ve,{className:"h-4 w-4"})}),t("common.delete")]})}),e.jsx(m,{asChild:!0,className:"bg-white/20 dark:bg-white/10 backdrop-blur-md border-white/30 dark:border-white/20 text-white hover:bg-white/30 dark:hover:bg-white/20 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsx(_,{href:route("incident-reports.edit",r.id),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-white/20 dark:bg-white/10 rounded-lg",children:e.jsx(ge,{className:"h-4 w-4"})}),t("incident_reports.actions.edit_report")]})})}),e.jsx(m,{asChild:!0,className:"bg-white/20 dark:bg-white/10 backdrop-blur-md border-white/30 dark:border-white/20 text-white hover:bg-white/30 dark:hover:bg-white/20 rounded-xl shadow-lg px-4 py-2 text-sm font-medium transition-all duration-300 hover:scale-105",children:e.jsx(_,{href:route("incident-reports.print",r.id),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-white/20 dark:bg-white/10 rounded-lg",children:e.jsx(be,{className:"h-4 w-4"})}),t("incident_reports.actions.print_report")]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:gap-8 md:grid-cols-12",children:[e.jsxs(C,{className:"md:col-span-4 border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:[e.jsxs(F,{className:"bg-gradient-to-r from-violet-500 via-violet-600 to-violet-700 dark:from-violet-600 dark:via-violet-700 dark:to-violet-800 text-white border-b border-violet-400/20 dark:border-violet-600/20 pb-5 shadow-lg",children:[e.jsxs(P,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:e.jsx(h,{className:"h-5 w-5"})}),t("incident_reports.form.info_title")]}),e.jsx(A,{className:"text-violet-100 text-sm mt-2",children:t("incident_reports.details.long_description")})]}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(h,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_info")]}),e.jsxs("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 space-y-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(h,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_number"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-bold",children:r.report_number})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(pe,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.report_date_label"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(k,{date:r.report_date,format:"date"})})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(v,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.status"),":"]}),e.jsx(j,{variant:"outline",className:"bg-gradient-to-r from-violet-100 dark:from-violet-900/40 to-violet-200 dark:to-violet-800/40 text-violet-800 dark:text-violet-200 border-violet-300/50 dark:border-violet-700/50 px-3 py-1 text-xs font-semibold shadow-sm",children:t(`incident_reports.status.${r.report_status}`)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(M,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.security_level"),":"]}),e.jsx(j,{variant:"outline",className:"bg-gradient-to-r from-violet-100 dark:from-violet-900/40 to-violet-200 dark:to-violet-800/40 text-violet-800 dark:text-violet-200 border-violet-300/50 dark:border-violet-700/50 px-3 py-1 text-xs font-semibold shadow-sm",children:t(`incident_reports.level.${r.security_level}`)})]}),r.source&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(fe,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.source_label"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:r.source})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(ue,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.user_info")]}),e.jsxs("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 space-y-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(R,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.submitted_by"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:((f=r.submitter)==null?void 0:f.name)||t("incidents.unknown")})]}),r.approver&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(R,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.approved_by"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:(u=r.approver)==null?void 0:u.name})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-violet-100/50 dark:border-violet-800/30 last:border-0",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(v,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.created_at"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(k,{date:r.created_at,format:"date"})})]}),r.updated_at!==r.created_at&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-sm text-violet-600 dark:text-violet-400 font-semibold flex items-center gap-2",dir:"rtl",children:[e.jsx("div",{className:"p-1 bg-violet-100 dark:bg-violet-900/50 rounded-md",children:e.jsx(v,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.show.last_updated"),":"]}),e.jsx("span",{className:"text-sm text-violet-900 dark:text-violet-100 font-medium",children:e.jsx(k,{date:r.updated_at,format:"date"})})]})]})]})]})})]}),e.jsx("div",{className:"md:col-span-8",children:e.jsxs(C,{className:"border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:[e.jsxs(F,{className:"bg-gradient-to-r from-violet-500 via-violet-600 to-violet-700 dark:from-violet-600 dark:via-violet-700 dark:to-violet-800 text-white border-b border-violet-400/20 dark:border-violet-600/20 pb-5 shadow-lg",children:[e.jsxs(P,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:e.jsx(z,{className:"h-5 w-5"})}),t("incident_reports.details.title")]}),e.jsx(A,{className:"text-violet-100 text-sm mt-2",children:t("incident_reports.details.long_description")})]}),e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(h,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.details_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.details})})]}),r.action_taken&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(je,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.action_taken_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.action_taken})})]}),r.recommendation&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-4 flex items-center gap-2 uppercase tracking-wide",dir:"rtl",children:[e.jsx("div",{className:"p-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(ke,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),t("incident_reports.details.recommendation_label")]}),e.jsx("div",{className:"rounded-2xl border-2 border-violet-100/50 dark:border-violet-800/50 bg-gradient-to-br from-violet-50/50 dark:from-violet-900/20 via-white dark:via-gray-800 to-violet-50/30 dark:to-violet-900/10 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:e.jsx("p",{className:"text-sm leading-relaxed text-violet-900 dark:text-violet-100 whitespace-pre-wrap",dir:"rtl",children:r.recommendation})})]})]})})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx(q,{title:t("incidents.page_title"),description:t("incident_reports.incidents.card_description"),icon:e.jsx(a,{className:"h-5 w-5"}),model:"incident_reports",routeName:()=>route("incident-reports.index"),buttonText:t("common.back"),theme:"violet",showBackButton:!0,backRouteName:()=>route("incident-reports.index"),backButtonText:t("common.back"),showButton:!1}),e.jsx(C,{className:"mt-6 border-none shadow-2xl overflow-hidden bg-gradient-to-br from-white dark:from-gray-800 via-violet-50/20 dark:via-violet-900/10 to-white dark:to-gray-800 backdrop-blur-sm",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-violet-100 dark:bg-violet-900/50 rounded-lg",children:e.jsx(a,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})}),e.jsx("h3",{className:"text-lg font-bold text-violet-900 dark:text-violet-100",children:t("incidents.page_title")})]}),e.jsxs(m,{onClick:()=>b(!0),className:"bg-gradient-to-r from-violet-500 to-violet-600 hover:from-violet-600 hover:to-violet-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 dark:from-violet-600 dark:to-violet-700 dark:hover:from-violet-700 dark:hover:to-violet-800",children:[e.jsx(a,{className:"mr-2 h-4 w-4"}),t("incidents.create_title")]})]}),e.jsx("div",{className:"relative w-full overflow-auto rounded-xl border border-violet-100/50 dark:border-violet-800/50",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"bg-gradient-to-r from-violet-50 dark:from-violet-900/30 to-violet-100/50 dark:to-violet-800/30 border-b border-violet-200/50 dark:border-violet-700/50",children:[e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.title")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.date")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.category")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("incidents.table.severity")}),e.jsx("th",{className:"h-14 px-6 text-left align-middle font-bold text-violet-800 dark:text-violet-200 text-sm uppercase tracking-wide",children:t("common.actions")})]})}),e.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:n.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"h-32 px-6 text-center align-middle",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600 dark:text-violet-400",children:[e.jsx("div",{className:"p-3 bg-violet-100 dark:bg-violet-900/50 rounded-full",children:e.jsx(a,{className:"h-8 w-8 text-violet-400 dark:text-violet-500"})}),e.jsx("p",{className:"text-base font-semibold",children:t("incidents.no_incidents")})]})})}):n.data.map(o=>e.jsxs("tr",{className:"border-b border-violet-100/50 dark:border-violet-800/30 transition-all duration-200 hover:bg-violet-50/50 dark:hover:bg-violet-900/20 group",children:[e.jsx("td",{className:"p-5 align-middle font-semibold text-violet-900 dark:text-violet-100 group-hover:text-violet-700 dark:group-hover:text-violet-200 transition-colors",children:o.title}),e.jsx("td",{className:"p-5 align-middle text-violet-800 dark:text-violet-200 font-medium",children:e.jsx(k,{date:o.incident_date,format:"date"})}),e.jsx("td",{className:"p-5 align-middle",children:o.category?e.jsx(j,{style:{backgroundColor:o.category.color,color:"#fff"},className:"px-3 py-1.5 font-semibold shadow-sm",children:o.category.name}):e.jsx("span",{className:"text-violet-600 dark:text-violet-400 text-sm",children:t("incidents.none")})}),e.jsx("td",{className:"p-5 align-middle",children:e.jsx(j,{variant:o.severity==="high"?"destructive":o.severity==="medium"?"warning":"default",className:"px-3 py-1.5 font-semibold shadow-sm",children:o.severity})}),e.jsx("td",{className:"p-5 align-middle",children:e.jsx(m,{variant:"ghost",size:"sm",asChild:!0,className:"text-violet-600 dark:text-violet-400 hover:text-violet-700 dark:text-violet-300 hover:bg-violet-100 dark:hover:bg-violet-900/40 rounded-lg transition-all duration-200 hover:scale-105",children:e.jsxs(_,{href:route("incidents.show",o.id),children:[e.jsx(Ne,{className:"h-4 w-4 mr-1.5"}),t("incident_reports.view")]})})})]},o.id))})]})}),n.links&&n.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("div",{className:"bg-gradient-to-r from-violet-50 dark:from-violet-900/20 to-white dark:to-gray-800 p-4 rounded-xl shadow-lg border border-violet-200/50 dark:border-violet-700/50",children:e.jsx(J,{links:n.links})})})]})})]})]}),e.jsx(X,{open:l,onOpenChange:d,children:e.jsxs(Y,{className:"max-w-md bg-gradient-to-br from-white dark:from-gray-800 via-red-50/10 dark:via-red-900/10 to-white dark:to-gray-800 border-red-200/50 dark:border-red-800/50 shadow-2xl",children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:e.jsx(a,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsx(ee,{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:t("incident_reports.delete_dialog.title")})]}),e.jsx(te,{className:"mt-2 text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:t("incident_reports.delete_dialog.description",{number:r.report_number})})]}),e.jsxs(re,{className:"mt-6 gap-3",children:[e.jsx(ie,{className:"shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 rounded-lg transition-all duration-200",children:t("incident_reports.delete_dialog.cancel")}),e.jsx(se,{onClick:p,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg",children:t("incident_reports.delete_dialog.confirm")})]})]})}),e.jsx(we,{isOpen:g,onClose:()=>b(!1),districts:N,categories:w,reportId:r.id})]})}export{Dt as default};
