import{r as t,U as P,S as u,j as e,L as U,$ as C}from"./app-D9EKp-j0.js";import{A as _}from"./app-layout-DLN7lXRp.js";import{B as g}from"./button-C_lbOJaF.js";import{C as M,a as k,d as B}from"./card-CJ646PJT.js";import{I as E}from"./input-CDqmtBAl.js";import{T as I,a as H,b as f,c,d as L,e as l}from"./table-DX8359l-.js";import{P as O}from"./pagination-BwZDIDi3.js";import{A as R,a as z,b as V,c as $,d as F,e as q,f as G,g as J}from"./alert-dialog-94ToB3EN.js";import{B as K}from"./badge-B-jdtJ8-.js";import{P as Q}from"./plus-D1a3V2tS.js";import{S as W}from"./search-DNu1PUwu.js";import{U as X}from"./user-D8UFd_n2.js";import{f as Y}from"./index-CaunA62S.js";import{P as Z}from"./pencil-BJeV7_M_.js";import{T as ee}from"./trash-CX9Hk8Jt.js";import"./index-CEWyTXIf.js";import"./createLucideIcon-2sT-PLZR.js";import"./index--GEwVf8d.js";import"./index-BYrHusN6.js";import"./index-BdHtEbnZ.js";import"./x-CUky7n0R.js";import"./index-DQJiO2ZR.js";import"./avatar-DJGRXLRL.js";import"./app-logo-zrypSq5u.js";import"./app-logo-icon-BTqQbP9x.js";import"./tag-B3sBBI3s.js";import"./file-text-J_QMBZXb.js";import"./qr-code-Bvz4OGpj.js";import"./chevron-left-Dfb8VvDg.js";function se(a,r){const[o,x]=t.useState(a);return t.useEffect(()=>{const i=setTimeout(()=>{x(a)},r);return()=>{clearTimeout(i)}},[a,r]),o}const ae=[{title:"User Management",href:"#"},{title:"Users",href:route("users.index")}];function Me({users:a,filters:r}){const[o,x]=t.useState(r.search),[i,S]=t.useState(r.per_page.toString()),[d,D]=t.useState(r.sort),[m,N]=t.useState(r.direction),[y,h]=t.useState(!1),[n,A]=t.useState(null),b=se(o,300);P.useEffect(()=>{u.get(route("users.index"),{search:b,per_page:i,sort:d,direction:m},{preserveState:!0,replace:!0})},[b,i,d,m]);const p=s=>{d===s?N(m==="asc"?"desc":"asc"):(D(s),N("asc"))},j=s=>d!==s?null:m==="asc"?" ↑":" ↓",w=s=>{A(s),h(!0)},T=()=>{n&&(u.delete(route("users.destroy",n.id)),h(!1))};return e.jsxs(_,{breadcrumbs:ae,children:[e.jsx(U,{title:"User Management"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),e.jsx(g,{asChild:!0,children:e.jsxs(C,{href:route("users.create"),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Add User"]})})]}),e.jsxs(M,{children:[e.jsx(k,{className:"pb-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx(W,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(E,{placeholder:"Search users...",value:o,onChange:s=>x(s.target.value),className:"pl-8"})]}),e.jsxs("div",{className:"flex space-x-2 items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Show:"}),e.jsxs("select",{value:i,onChange:s=>S(s.target.value),className:"border rounded p-1 text-sm",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"})]})]})]})}),e.jsxs(B,{children:[e.jsxs(I,{children:[e.jsx(H,{children:e.jsxs(f,{children:[e.jsxs(c,{className:"cursor-pointer",onClick:()=>p("name"),children:["Name",j("name")]}),e.jsxs(c,{className:"cursor-pointer",onClick:()=>p("email"),children:["Email",j("email")]}),e.jsx(c,{children:"Roles"}),e.jsxs(c,{className:"cursor-pointer",onClick:()=>p("created_at"),children:["Created",j("created_at")]}),e.jsx(c,{className:"text-right",children:"Actions"})]})}),e.jsx(L,{children:a.data.length===0?e.jsx(f,{children:e.jsx(l,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No users found"})}):a.data.map(s=>e.jsxs(f,{children:[e.jsx(l,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{children:s.name})]})}),e.jsx(l,{children:s.email}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.roles&&s.roles.length>0?s.roles.map(v=>e.jsx(K,{variant:"secondary",className:"text-xs",children:v.name},v.id)):e.jsx("span",{className:"text-xs text-gray-500",children:"None"})})}),e.jsx(l,{children:Y(new Date(s.created_at),"MMM d, yyyy")}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(g,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(C,{href:route("users.edit",s.id),children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsx(g,{variant:"destructive",size:"sm",onClick:()=>w(s),children:e.jsx(ee,{className:"h-4 w-4"})})]})})]},s.id))})]}),a.last_page>1&&e.jsx("div",{className:"mt-4",children:e.jsx(O,{currentPage:a.current_page,totalPages:a.last_page,onPageChange:s=>u.get(s)})})]})]})]})}),e.jsx(R,{open:y,onOpenChange:h,children:e.jsxs(z,{children:[e.jsxs(V,{children:[e.jsx($,{children:"Are you sure?"}),e.jsxs(F,{children:["This will permanently delete the user: ",n==null?void 0:n.name,". This action cannot be undone."]})]}),e.jsxs(q,{children:[e.jsx(G,{children:"Cancel"}),e.jsx(J,{onClick:T,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}export{Me as default};
