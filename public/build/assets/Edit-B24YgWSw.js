import{r as d,m as E,j as e,L as D,$ as B}from"./app-D5dZiXhk.js";import{A as R}from"./app-layout-DvojIaLk.js";import{B as x}from"./button-Bn0lXTWd.js";import{C as $,a as z,b as H,c as P,d as G,e as J}from"./card-CPQ3VbcP.js";import{I as w}from"./input-J6lwXzCQ.js";import{L as o}from"./label-BULMeUn-.js";import{T as C}from"./textarea-Cl35NDnc.js";import{S as h,a as p,b as u,c as f,d as n}from"./select-Bu5U9vei.js";import{T as K,a as O,b as S,c as T}from"./tabs-CFS6dGaW.js";import{L as Q}from"./LocationSelector-CXZYNA0R.js";import{u as U}from"./translate-CCyg6zkq.js";import{S as W,T as X}from"./triangle-alert-CSj9kCU0.js";import{A as Y}from"./arrow-left-DVnbfxD8.js";import{F as Z}from"./file-text-B-PjXc54.js";import{M as ee}from"./index-B8J_HIK9.js";import{S as te}from"./save-pyKWIjGx.js";import"./utils-B6fQ7vQ2.js";import"./x-CGgiSUlJ.js";import"./createLucideIcon-CamrZyfj.js";import"./index-Yj9RRTTX.js";import"./index-BL6qPaX0.js";import"./index-Bmb_5yS5.js";import"./index-BdjL1NM1.js";import"./avatar-omV-dVdB.js";import"./eye-BhHnuFST.js";import"./users-BS67EsI7.js";import"./tag-5Ss2NKgq.js";import"./qr-code-CwQctdXi.js";import"./database-BZ-1aWjN.js";import"./index--2MdZDj8.js";import"./check-mLwrpNY8.js";import"./afghanistanLow-mnRKi4Rp.js";import"./AnimatedTheme-BUmUfnV6.js";import"./Theme-BmHcCuAX.js";import"./Circle-DiG57UI-.js";import"./SerialChart-DP5D6GrZ.js";import"./MapPolygonSeries-DrMo9B9U.js";import"./ZoomControl-2_9Wkj_Y.js";import"./ZoomTools-eWdXZACJ.js";import"./LinearGradient-DxSrS36V.js";function He({info:i,infoTypes:j=[],infoCategories:g=[],departments:b=[]}){var y;const{t}=U(),L=[{title:t("info.page_title"),href:route("infos.index")},{title:t("info.edit.breadcrumb"),href:"#"}],[c,F]=d.useState("basic"),[v,_]=d.useState(!1),N=()=>i.value&&typeof i.value=="object"&&i.value.location?i.value.location:null,[k,A]=d.useState(N()),{data:r,setData:l,put:I,processing:m,errors:a}=E({name:i.name||"",code:i.code||"",description:i.description||"",info_type_id:i.info_type_id?i.info_type_id.toString():"",info_category_id:i.info_category_id?i.info_category_id.toString():"",department_id:(y=i.department)!=null&&y.id?i.department.id.toString():"none",value:{content:i.value&&typeof i.value=="object"&&i.value.content?i.value.content:"",location:N()},confirmed:i.confirmed||!1}),M=s=>{F(s),s==="location"&&_(!0)},V=s=>{A(s),l("value",{...r.value,location:s})},q=s=>{s.preventDefault(),I(route("infos.update",i.id),{onSuccess:()=>{}})};return d.useEffect(()=>{(c==="location"||i.value&&typeof i.value=="object"&&i.value.location)&&_(!0)},[c,i.value]),e.jsxs(R,{breadcrumbs:L,children:[e.jsx(D,{title:t("info.edit.page_title",{name:i.name||"Info Record"})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-l from-blue-600 via-indigo-600 to-purple-600 p-8 text-white shadow-2xl mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 -translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 translate-x-24"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:e.jsx(W,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white drop-shadow-lg",children:t("info.edit.title")}),e.jsxs("div",{className:"text-white/90 flex items-center gap-2 mt-2 text-lg",children:[e.jsx(X,{className:"h-5 w-5"}),t("info.edit.description")]})]})]}),e.jsx(x,{variant:"outline",asChild:!0,className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30 rounded-full shadow-lg",children:e.jsxs(B,{href:route("infos.index"),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),t("info.edit.back_to_list")]})})]})]}),e.jsx("form",{onSubmit:q,children:e.jsxs($,{className:"border-none shadow-xl overflow-hidden bg-gradient-to-bl from-white to-blue-50/30",children:[e.jsxs(z,{className:"bg-gradient-to-l from-blue-500 to-blue-600 text-white border-b pb-4",children:[e.jsxs(H,{className:"text-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(Z,{className:"h-5 w-5"})}),t("info.edit.form.title")]}),e.jsx(P,{className:"text-blue-100",children:t("info.edit.form.description")})]}),e.jsxs(G,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"info_type_id",children:[t("info.edit.fields.type")," ",e.jsx("span",{className:"text-red-500",children:t("common.required_field")})]}),e.jsxs(h,{value:r.info_type_id,onValueChange:s=>l("info_type_id",s),required:!0,children:[e.jsx(p,{id:"info_type_id",children:e.jsx(u,{placeholder:t("info.edit.placeholders.select_type")})}),e.jsx(f,{children:j.length>0?j.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.edit.no_types_available")})})]}),a.info_type_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.info_type_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"info_category_id",children:[t("info.edit.fields.category")," ",e.jsx("span",{className:"text-red-500",children:t("common.required_field")})]}),e.jsxs(h,{value:r.info_category_id,onValueChange:s=>l("info_category_id",s),required:!0,children:[e.jsx(p,{id:"info_category_id",children:e.jsx(u,{placeholder:t("info.edit.placeholders.select_category")})}),e.jsx(f,{children:g.length>0?g.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.edit.no_categories_available")})})]}),a.info_category_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.info_category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"department_id",children:t("info.edit.fields.department")}),e.jsxs(h,{value:r.department_id,onValueChange:s=>l("department_id",s),children:[e.jsx(p,{id:"department_id",children:e.jsx(u,{placeholder:t("info.edit.placeholders.select_department")})}),e.jsxs(f,{children:[e.jsx(n,{value:"none",children:t("common.none")}),b.length>0?b.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id)):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:t("info.edit.no_departments_available")})]})]}),a.department_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.department_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:t("info.edit.fields.name")}),e.jsx(w,{id:"name",value:r.name,onChange:s=>l("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"code",children:t("info.edit.fields.code")}),e.jsx(w,{id:"code",value:r.code,onChange:s=>l("code",s.target.value),placeholder:t("info.edit.placeholders.code")}),a.code&&e.jsx("p",{className:"text-sm text-red-500",children:a.code}),e.jsx("p",{className:"text-sm text-gray-500",children:t("info.edit.code_helper")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:t("info.edit.fields.description")}),e.jsx(C,{id:"description",value:r.description,onChange:s=>l("description",s.target.value),rows:3}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:t("info.edit.fields.content")}),e.jsxs(K,{defaultValue:"basic",value:c,onValueChange:M,children:[e.jsxs(O,{className:"grid w-full grid-cols-2",children:[e.jsx(S,{value:"basic",children:t("info.edit.content_tabs.basic")}),e.jsxs(S,{value:"location",className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-4 w-4"}),t("info.edit.content_tabs.location")]})]}),e.jsx(T,{value:"basic",className:"pt-4",children:e.jsx(C,{id:"content",value:r.value.content,onChange:s=>l("value",{...r.value,content:s.target.value}),rows:5,placeholder:t("info.edit.placeholders.content")})}),e.jsx(T,{value:"location",className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:t("info.edit.location_description")}),v&&e.jsx(Q,{value:k,onChange:V}),!v&&e.jsx("div",{className:"h-[400px] flex items-center justify-center bg-gray-100 rounded-md",children:t("info.edit.loading_map")})]})})]}),a.value&&e.jsx("p",{className:"text-sm text-red-500",children:a.value})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"confirmed",checked:r.confirmed,onChange:s=>l("confirmed",s.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx(o,{htmlFor:"confirmed",children:t("info.edit.fields.confirmed")})]}),a.confirmed&&e.jsx("p",{className:"text-sm text-red-500",children:a.confirmed})]})]}),e.jsxs(J,{className:"flex justify-between border-t px-6 py-5 bg-gradient-to-l from-blue-50 to-blue-100",children:[e.jsx(x,{variant:"outline",onClick:()=>window.history.back(),type:"button",disabled:m,className:"rounded-full border-blue-300 text-blue-700 hover:bg-blue-100 hover:border-blue-400 shadow-lg",children:t("common.cancel")}),e.jsxs(x,{type:"submit",disabled:m,className:"rounded-full px-8 font-medium bg-gradient-to-l from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),t(m?"info.edit.saving":"info.edit.save_changes")]})]})]})})]})]})}export{He as default};
