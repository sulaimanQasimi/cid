import{D as q,q as lt,d as L,h as we,e as g,f as b,i as Mt,E as ke,B as Ae,F as Je,G as ie,u as z,H as Et,w as ht,I as Ht,v as Qe,J as Ft,r as Ut,j as H,z as et,p as tt,M as K,K as Nt,C as Wt,P as it,a as ut,t as st,L as zt,N as rt,O as Vt,T as Gt,m as at}from"./Theme-BmHcCuAX.js";import{_ as M}from"./index-ty2sf-gJ.js";class P{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,t){return e+this.value*(t-e)}static normalize(e,t,i){return e instanceof P?e:t===i?new P(0):new P(Math.min(Math.max((e-t)*(1/(i-t)),0),1)*100)}}function Xe(s){return new P(s)}const Bs=Xe(0),x=Xe(100),S=Xe(50);function Ls(s){return s instanceof P}function Kt(s){if(document.readyState!=="loading")s();else{const e=()=>{document.readyState!=="loading"&&(document.removeEventListener("readystatechange",e),s())};document.addEventListener("readystatechange",e)}}function Yt(s){s.parentNode&&s.parentNode.removeChild(s)}function Ze(s,e,t,i){return s.addEventListener(e,t,i||!1),new q(()=>{s.removeEventListener(e,t,i||!1)})}function Xt(s){return Ze(window,"resize",e=>{s()})}function _e(s){switch(s){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function be(s){return s.pointerId||0}function Zt(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function $t(s){s&&s.focus()}function qt(s){if(_e("pointerevents"))return s;if(_e("touchevents"))switch(s){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(_e("mouseevents"))switch(s){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return s}function He(s){if(typeof Touch<"u"&&s instanceof Touch)return!0;if(typeof PointerEvent<"u"&&s instanceof PointerEvent&&s.pointerType!=null)switch(s.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(s instanceof MouseEvent)}else if(s.type!=null&&s.type.match(/^mouse/))return!1;return!0}function Jt(s,e,t){s.style[e]=t}function Qt(s,e){return s.style[e]}function ei(s){if(s.composedPath){const e=s.composedPath();return e.length===0?null:e[0]}else return s.target}function dt(s,e){let t=e;for(;;){if(s===t)return!0;if(t.parentNode===null){if(t.host==null)return!1;t=t.host}else t=t.parentNode}}function ct(s,e){return s.target&&dt(e.root.dom,s.target)}function ti(s,e){e?s.style.pointerEvents="auto":s.style.pointerEvents="none"}function ii(s){if(s.key!==void 0)return s.key;switch(s.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+s.keyCode}function si(s){let e=s;for(;;){if(e.parentNode===null)return e.host!=null?e:null;e=e.parentNode}}let Me;function ri(s,e,t=""){const i=document.createElement("style");return i.type="text/css",t!=""&&i.setAttribute("nonce",t),i.textContent=e,s===null?document.head.appendChild(i):s.appendChild(i),i}function ai(s,e=""){if(s===null){if(Me==null){const t=document.createElement("style");t.type="text/css",e!=""&&t.setAttribute("nonce",e),document.head.appendChild(t),Me=t.sheet}return Me}else{const t=document.createElement("style");return t.type="text/css",e!=""&&t.setAttribute("nonce",e),s.appendChild(t),t.sheet}}function nt(s,e){const t=s.cssRules.length;return s.insertRule(e+"{}",t),s.cssRules[t]}class ni extends lt{constructor(e,t,i,a=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=ai(e,a);try{this._rule=nt(this._root,t)}catch{this._rule=nt(this._root,":not(*)")}L(i,(r,n)=>{this.setStyle(r,n)})}set selector(e){this._rule.selectorText=e}get selector(){return this._rule.selectorText}_dispose(){const e=we(this._root.cssRules,this._rule);if(e===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}_setVendorPrefixName(e,t){const i=this._rule.style;i.setProperty("-webkit-"+e,t,""),i.setProperty("-moz-"+e,t,""),i.setProperty("-ms-"+e,t,""),i.setProperty("-o-"+e,t,""),i.setProperty(e,t,"")}setStyle(e,t){e==="transition"?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")}}class oi extends lt{constructor(e,t,i=""){super(),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._element=ri(e,t,i)}_dispose(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}function li(s,e){if(s)if(s.classList){const t=e.split(" ");g(t,i=>{s.classList.add(i)})}else{let t=s.getAttribute("class");t?s.setAttribute("class",t.split(" ").filter(i=>i!==e).join(" ")+" "+e):s.setAttribute("class",e)}}function hi(s,e){if(s)if(s.classList)s.classList.remove(e);else{let t=s.getAttribute("class");t&&s.setAttribute("class",t.split(" ").filter(i=>i!==e).join(" "))}}function ft(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function ui(){return ft()?1:void 0}function E(s,e){return b(s)?s:s!=null&&b(s.value)&&b(e)?e*s.value:0}function di(s){let e=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ye(s,e=0,t="0"){return typeof s!="string"&&(s=s.toString()),e>s.length?Array(e-s.length+1).join(t)+s:s}function pt(s){return s.replace(/^[\s]*/,"")}function gt(s){return s.replace(/[\s]*$/,"")}function De(s){return pt(gt(s))}function mt(s,e,t=!1,i="..."){if(s.length>e){let a=e-1;for(;a>=0&&s.charAt(a).match(/\w/);)a--;return a>=0&&t==!1?s.substring(0,a+1)+"...":s.substring(0,e)+i}else return s}function ci(s){if(typeof s>"u")return"string";s=s.toLowerCase().replace(/^\[[^\]]*\]/,""),s=s.replace(/\[[^\]]+\]/,""),s=s.trim();let e=s.match(/\/(date|number|duration)$/);return e?e[1]:s==="number"?"number":s==="date"?"date":s==="duration"?"duration":s.match(/[#0]/)?"number":s.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function fi(s){return s.replace(/\/(date|number|duration)$/i,"")}function _t(s){return s&&s.replace(/<[^>]*>/g,"")}function pi(s){return s&&_t((""+s).replace(/[\n\r]+/g,". "))}function gi(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function mi(s){let e="";for(let t=0;t<s.length;t++){const i=s.charAt(t);i.toUpperCase()==i&&t!=0&&(e+=" "),e+=i}return e}function _i(s){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,t=/([^اأدذرزو]*[اأدذرزو])/gi;let i=s.split(/(\s+)/),a=[];return i.forEach(r=>{if(r.match(/^\s+$/))(r=" ")&&(r="  "),a.push(r);else if(e.test(r)){let n=r.split(t).filter(o=>o!=="");a=a.concat(n)}else a=a.concat([...r])}),a}function bi(s,e=!1){const t=new Date(s.getFullYear(),0,0),i=s.getTime()-t.getTime()+(t.getTimezoneOffset()-s.getTimezoneOffset())*60*1e3,a=1e3*60*60*24;return Math.floor(i/a)}function xe(s,e=!1){const t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-i);const a=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-a.getTime())/864e5+1)/7)}function yi(s,e=!1){const t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=t.getUTCDay()||7;return t.setUTCDate(t.getUTCDate()+4-i),new Date(Date.UTC(t.getUTCFullYear(),0,1)).getFullYear()}function vi(s,e=!1){const t=xe(new Date(s.getFullYear(),s.getMonth(),1),e);let i=xe(s,e);return i==1&&(i=53),i-t+1}function wi(s,e,t=1,i=!1){let a=new Date(e,0,4,0,0,0,0);return i&&a.setUTCFullYear(e),s*7+t-((a.getDay()||7)+3)}function Di(s,e){return s>12?s-=12:s===0&&(s=12),e!=null?s+(e-1):s}function xi(s,e=!1,t=!1,i=!1,a){if(i)return e?"Coordinated Universal Time":"UTC";if(a){const o=s.toLocaleString("en-US",{timeZone:a}),h=s.toLocaleString("en-US",{timeZone:a,timeZoneName:e?"long":"short"});return De(h.substr(o.length))}let r=s.toLocaleString("UTC"),n=s.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(r.length);return t===!1&&(n=n.replace(/ (standard|daylight|summer|winter) /i," ")),De(n)}function Pi(s,e){const t=e||new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:s})).getTime()-i.getTime())/6e4*-1}function Ti(s){return s.charAt(0).toUpperCase()+s.slice(1)}function $e(s){let e,t,i,a=s.h,r=s.s,n=s.l;if(r==0)e=t=i=n;else{let o=function(f,c,u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?f+(c-f)*6*u:u<.5?c:u<.6666666666666666?f+(c-f)*(.6666666666666666-u)*6:f},h=n<.5?n*(1+r):n+r-n*r,l=2*n-h;e=o(l,h,a+1/3),t=o(l,h,a),i=o(l,h,a-1/3)}return{r:Math.round(e*255),g:Math.round(t*255),b:Math.round(i*255)}}function qe(s){let e=s.r/255,t=s.g/255,i=s.b/255,a=Math.max(e,t,i),r=Math.min(e,t,i),n=0,o=0,h=(a+r)/2;if(a===r)n=o=0;else{let l=a-r;switch(o=h>.5?l/(2-a-r):l/(a+r),a){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4;break}n/=6}return{h:n,s:o,l:h}}function Oi(s){const e=s.v*(1-s.s/2),t=e===0||e===1?0:(s.v-e)/Math.min(e,1-e);return{h:s.h,s:t,l:e,a:s.a}}function Ci(s){const e=s.l+s.s*Math.min(s.l,1-s.l),t=e===0?0:2*(1-s.l/e);return{h:s.h,s:t,v:e,a:s.a}}function bt(s,e){return s&&{r:Math.max(0,Math.min(255,s.r+se(s.r,e))),g:Math.max(0,Math.min(255,s.g+se(s.g,e))),b:Math.max(0,Math.min(255,s.b+se(s.b,e))),a:s.a}}function se(s,e){let t=e>0?255-s:s;return Math.round(t*e)}function yt(s,e){if(s){let t=Math.min(Math.max(s.r,s.g,s.b),230),i=se(t,e);return{r:Math.max(0,Math.min(255,Math.round(s.r+i))),g:Math.max(0,Math.min(255,Math.round(s.g+i))),b:Math.max(0,Math.min(255,Math.round(s.b+i))),a:s.a}}else return s}function Si(s,e){return Math.round(255*e)}function Fe(s){return(s.r*299+s.g*587+s.b*114)/1e3>=128}function vt(s,e){if(s===void 0||e==1)return s;let t=qe(s);return t.s=e,$e(t)}function wt(s,e={r:255,g:255,b:255},t={r:255,g:255,b:255}){let i=e,a=t;return Fe(t)&&(i=t,a=e),Fe(s)?a:i}function Ri(s,e){return s||(s=[]),[...s,...e].filter((t,i,a)=>a.indexOf(t)===i)}function ki(s,e){return!(!e||s.left!=e.left||s.right!=e.right||s.top!=e.top||s.bottom!=e.bottom)}const js=Object.freeze(Object.defineProperty({__proto__:null,StyleRule:ni,StyleSheet:oi,addClass:li,addEventListener:Ze,addSpacing:mi,alternativeColor:wt,blur:Zt,brighten:yt,capitalizeFirst:Ti,cleanFormat:fi,contains:dt,decimalPlaces:di,escapeForRgex:gi,focus:$t,get12Hours:Di,getBrightnessStep:Si,getDayFromWeek:wi,getEventKey:ii,getEventTarget:ei,getFormat:ci,getLightnessStep:se,getMonthWeek:vi,getPointerId:be,getRendererEvent:qt,getSafeResolution:ui,getShadowRoot:si,getStyle:Qt,getTimeZone:xi,getTimezoneOffset:Pi,getWeek:xe,getWeekYear:yi,getYearDay:bi,hslToHsv:Ci,hslToRgb:$e,hsvToHsl:Oi,iOS:ft,isLight:Fe,isLocalEvent:ct,isTouchEvent:He,lighten:bt,mergeTags:Ri,onZoom:Xt,padString:ye,plainText:pi,ready:Kt,relativeToValue:E,removeClass:hi,removeElement:Yt,rgbToHsl:qe,sameBounds:ki,saturate:vt,setInteractive:ti,setStyle:Jt,splitString:_i,stripTags:_t,supports:_e,trim:De,trimLeft:pt,trimRight:gt,truncateTextWithEllipsis:mt},Symbol.toStringTag,{value:"Module"}));function Dt(s){return s[0]==="#"&&(s=s.substr(1)),s.length==3&&(s=s[0].repeat(2)+s[1].repeat(2)+s[2].repeat(2)),parseInt(s,16)}function Ii(s){s=s.replace(/[ ]/g,"");let e=s.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let t="";for(let i=1;i<=3;i++){let a=parseInt(e[i]).toString(16);a.length==1&&(a="0"+a),t+=a}return Dt(t)}function As(s){return m.fromAny(s)}class m{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+ye(this.r.toString(16),2)+ye(this.g.toString(16),2)+ye(this.b.toString(16),2)}toHSL(e=1){return qe({r:this.r,g:this.g,b:this.b})}static fromHSL(e,t,i){const a=$e({h:e,s:t,l:i});return this.fromRGB(a.r,a.g,a.b)}toString(){return this.toCSSHex()}static fromHex(e){return new m(e)}static fromRGB(e,t,i){return new m((i|0)+(t<<8)+(e<<16))}static fromString(e){return new m(Dt(e))}static fromCSS(e){return new m(Ii(e))}static fromAny(e){if(Mt(e)){if(e[0]=="#")return m.fromString(e);if(e.substr(0,3)=="rgb")return m.fromCSS(e)}else{if(b(e))return m.fromHex(e);if(e instanceof m)return m.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,t,i){const a=wt({r:e.r,g:e.g,b:e.b},t?{r:t.r,g:t.g,b:t.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(a.r,a.g,a.b)}static interpolate(e,t,i,a="rgb"){if(a=="hsl"){const r=t.toHSL(),n=i.toHSL();return m.fromHSL(N(e,r.h,n.h),N(e,r.s,n.s),N(e,r.l,n.l))}else return m.fromRGB(N(e,t.r,i.r),N(e,t.g,i.g),N(e,t.b,i.b))}static lighten(e,t){const i=bt({r:e.r,g:e.g,b:e.b},t);return m.fromRGB(i.r,i.g,i.b)}static brighten(e,t){const i=yt({r:e.r,g:e.g,b:e.b},t);return m.fromRGB(i.r,i.g,i.b)}static saturate(e,t){const i=vt({r:e.r,g:e.g,b:e.b},t);return m.fromRGB(i.r,i.g,i.b)}}function ot(s){return M(this,void 0,void 0,function*(){if(s!==void 0){const e=[];L(s,(t,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function N(s,e,t){return e+s*(t-e)}function Bi(s,e,t){return s>=1?t:e}function xt(s,e,t){return new P(N(s,e.percent,t.percent))}function Li(s,e,t){return m.interpolate(s,e,t)}function ji(s,e){return typeof s=="number"&&typeof e=="number"?N:s instanceof P&&e instanceof P?xt:s instanceof m&&e instanceof m?Li:Bi}var re;(function(s){s[s.Stopped=0]="Stopped",s[s.Playing=1]="Playing",s[s.Paused=2]="Paused"})(re||(re={}));function te(s,e){if(!(s>=0&&s<e))throw new Error("Index out of bounds: "+s)}class Ie{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new ke}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let t=0,i=this._values.length;for(;t<i;)this._values[t]===e?(this.removeIndex(t),--i):++t}indexOf(e){return we(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,t){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t})}_onSetIndex(e,t,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:t,newValue:i})}_onRemoveIndex(e,t){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t})}_onMoveIndex(e,t,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:t,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,t){te(e,this._values.length);const i=this._values[e];return i!==t&&(this._values[e]=t,this._onSetIndex(e,i,t)),i}insertIndex(e,t){return te(e,this._values.length+1),Ae(this._values,e,t),this._onInsertIndex(e,t),t}swap(e,t){const i=this._values.length;if(te(e,i),te(t,i),e!==t){const a=this._values[e],r=this._values[t];this._values[e]=r,this._onSetIndex(e,a,r),this._values[t]=a,this._onSetIndex(t,r,a)}}removeIndex(e){te(e,this._values.length);const t=this._values[e];return Je(this._values,e),this._onRemoveIndex(e,t),t}moveValue(e,t){let i=this.indexOf(e);if(i!==-1)if(Je(this._values,i),t==null){const a=this._values.length;this._values.push(e),this._onMoveIndex(i,a,e)}else Ae(this._values,t,e),this._onMoveIndex(i,t,e);else t==null?(this._values.push(e),this._onPush(e)):(Ae(this._values,t,e),this._onInsertIndex(t,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){g(e,t=>{this.push(t)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const t=this._values;this._values=[],this._onClear(t),g(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let t=0;t<e;++t)yield this._values[t]}each(e){g(this._values,e)}eachReverse(e){ie(this._values,e)}}class Pt extends Ie{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,t,i){this.autoDispose&&t.dispose(),super._onSetIndex(e,t,i)}_onRemoveIndex(e,t){this.autoDispose&&t.dispose(),super._onRemoveIndex(e,t)}_onClear(e){this.autoDispose&&g(e,t=>{t.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&g(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Ms extends Pt{constructor(e,t){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=t}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class Ai extends Ie{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(t=>{if(t.type==="clear")g(t.oldValues,i=>{this._onRemoved(i)});else if(t.type==="push")this._onInserted(t.newValue);else if(t.type==="setIndex")this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if(t.type==="insertIndex")this._onInserted(t.newValue,t.index);else if(t.type==="removeIndex")this._onRemoved(t.oldValue);else if(t.type==="moveIndex")this._onRemoved(t.value),this._onInserted(t.value,t.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,t){e._setParent(this._container,!0);const i=this._container._childrenDisplay;t===void 0?i.addChild(e._display):i.addChildAt(e._display,t)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),g(this.values,e=>{e.dispose()}))}}const Be=Math.PI,Tt=Be/2,pe=Be/180,Pe=180/Be;function Mi(s,e,t){if(!b(e)||e<=0){let i=Math.round(s);return t&&i-s==.5&&i--,i}else{let i=Math.pow(10,e);return Math.round(s*i)/i}}function Ei(s,e){if(!b(e)||e<=0)return Math.ceil(s);{let t=Math.pow(10,e);return Math.ceil(s*t)/t}}function Hi(s,e,t,i,a){return{x:(-s.x+e.x/i+t.x)*i,y:(-s.y+e.y/a+t.y)*a}}function Fi(s,e,t,i,a){return{x:(s.x+e.x/i-t.x)*i,y:(s.y+e.y/a-t.y)*a}}function Ue(s,e,t){return Math.min(Math.max(s,e),t)}function Te(s){return Math.sin(pe*s)}function Ui(s){return Math.tan(pe*s)}function Oe(s){return Math.cos(pe*s)}function Ce(s){return s=s%360,s<0&&(s+=360),s}function Ni(s,e,t,i,a){let r=Number.MAX_VALUE,n=Number.MAX_VALUE,o=-Number.MAX_VALUE,h=-Number.MAX_VALUE,l=[];l.push(ve(a,t)),l.push(ve(a,i));let d=Math.min(Math.floor(t/90)*90,Math.floor(i/90)*90),f=Math.max(Math.ceil(t/90)*90,Math.ceil(i/90)*90);for(let c=d;c<=f;c+=90)c>=t&&c<=i&&l.push(ve(a,c));for(let c=0;c<l.length;c++){let u=l[c];u.x<r&&(r=u.x),u.y<n&&(n=u.y),u.x>o&&(o=u.x),u.y>h&&(h=u.y)}return{left:s+r,top:e+n,right:s+o,bottom:e+h}}function ve(s,e){return{x:s*Oe(e),y:s*Te(e)}}function Wi(s){const e=s.length;if(e>0){let t=s[0],i=t.left,a=t.top,r=t.right,n=t.bottom;if(e>1)for(let o=1;o<e;o++)t=s[o],i=Math.min(t.left,i),r=Math.max(t.right,r),a=Math.min(t.top,a),n=Math.max(t.bottom,n);return{left:i,right:r,top:a,bottom:n}}return{left:0,right:0,top:0,bottom:0}}function zi(s,e,t){if(e>t){let n=e;e=t,t=n}s=Ce(s);let i=(e-Ce(e))/360;s<e&&(s+=360*(i+1));let a=e+(t-e)/2+180,r=e+(t-e)/2-180;return s>t&&(s-360>e?s-=360:s<a?s=t:s=e),s<e&&(s>r?s=e:s=t),s}function Ot(s,e){return s.x>=e.left&&s.y>=e.top&&s.x<=e.right&&s.y<=e.bottom}function Vi(s,e){e||(e={x:s.x*2,y:s.y*2});let t=e.x-s.x,i=e.y-s.y,a=Math.atan2(i,t)*Pe;return a<0&&(a+=360),Ce(a)}function Gi(s,e,t,i){let a=(1-i)*(1-i)*s.x+2*(1-i)*i*t.x+i*i*e.x,r=(1-i)*(1-i)*s.y+2*(1-i)*i*t.y+i*i*e.y;return{x:a,y:r}}function Ki(s,e,t){return{x:s.x+(e.x-s.x)*t,y:s.y+(e.y-s.y)*t}}function Yi(s,e){return s.reduce(function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t})}function Xi(s,e){const t=s.left<e.right&&s.right>e.left,i=s.top<e.bottom&&s.bottom>e.top;return t&&i}function Zi(s,e,t,i,a,r,n,o,h){let l=a+.01,d=o*pe,f=[];for(;l<t+n;){let c=r;if(c/2>l&&(c=2*l),d+=2*Math.asin(c/2/l),d*Pe>h+(t-a)/n*360)break;let u=d*Pe,p={x:s+l*Math.cos(d),y:e+l*i/t*Math.sin(d)};f.push(p),l=a+u/360*n}return f.shift(),f}function $i(s,e){return Math.hypot(s.x-e.x,s.y-e.y)<=s.radius+e.radius}const Es=Object.freeze(Object.defineProperty({__proto__:null,DEGREES:Pe,HALFPI:Tt,PI:Be,RADIANS:pe,boundsOverlap:Xi,ceil:Ei,circlesOverlap:$i,closest:Yi,cos:Oe,fitAngleToRange:zi,fitToRange:Ue,getAngle:Vi,getArcBounds:Ni,getArcPoint:ve,getCubicControlPointA:Hi,getCubicControlPointB:Fi,getPointOnLine:Ki,getPointOnQuadraticCurve:Gi,inBounds:Ot,mergeBounds:Wi,normalizeAngle:Ce,round:Mi,sin:Te,spiralPoints:Zi,tan:Ui},Symbol.toStringTag,{value:"Module"}));function Ne(s){return s}function qi(s){return s*s}function W(s){return s*s*s}function Ji(s,e){return Math.pow(s,e)}function Qi(s){return Math.pow(2,10*s-10)}function es(s){return 1-Math.cos(s*Tt)}function ts(s){return 1-Math.sqrt(1-s*s)}function is(s){return function(e){return e<.5?s(e*2):s((1-e)*2)}}function Y(s){return function(e){return 1-s(1-e)}}function ss(s){return function(e){return e<=.5?s(e*2)/2:1-s((1-e)*2)/2}}let We=4/11,rs=6/11,as=8/11,ns=3/4,os=9/11,ls=10/11,hs=15/16,us=21/22,ds=63/64,ge=1/We/We;function cs(s){return 1-fs(1-s)}function fs(s){return s=s,s<We?ge*s*s:s<as?ge*(s-=rs)*s+ns:s<ls?ge*(s-=os)*s+hs:ge*(s-=us)*s+ds}let ps=2*Math.PI,Ct=1,St=.3/ps,gs=Math.asin(1/Ct)*St;function ms(s){let e=s;return Ct*Math.pow(2,10*--e)*Math.sin((gs-e)/St)}const Hs=Object.freeze(Object.defineProperty({__proto__:null,bounce:cs,circle:ts,cubic:W,elastic:ms,exp:Qi,inOut:ss,linear:Ne,out:Y,pow:Ji,quad:qi,sine:es,yoyo:is},Symbol.toStringTag,{value:"Module"}));class _s{constructor(e,t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=t,L(t,i=>{this._userSettings[i]=!0})}get(e,t){const i=this._settings[e];return i!==void 0?i:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._userSettings[e]=!0,this.setRaw(e,t)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){z(e).forEach(t=>{this.set(t,e[t])})}_eachSetting(e){L(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const t=this._entity.states.lookup("default");this._eachSetting((i,a)=>{e[i]||(e[i]=!0,this!==t&&(i in t._settings||(t._settings[i]=this._entity.get(i))),this._entity.set(i,a))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let t=this._settings.stateAnimationEasing;t==null&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",W)));const i=this._entity.states.lookup("default"),a={};a.stateAnimationEasing=!0,a.stateAnimationDuration=!0;const r={};return this._eachSetting((n,o)=>{if(!a[n]){a[n]=!0,this!=i&&(n in i._settings||(i._settings[n]=this._entity.get(n)));const h=this._entity.animate({key:n,to:o,duration:e,easing:t});h&&(r[n]=h)}}),r}}class bs{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,t){const i=this._states[e];if(i)return i.setAll(t),i;{const a=new _s(this._entity,t);return this._states[e]=a,a}}remove(e){delete this._states[e]}apply(e){const t=this._states[e];t&&t.apply(),this._entity._applyState(e)}applyAnimate(e,t){let i;const a=this._states[e];return a&&(i=a.applyAnimate(t)),this._entity._applyStateAnimated(e,t),i}}class ys{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.11.3"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const $=new ys;function Fs(s){$.licenses.push(s)}function Us(){let s;for(;s=$.rootElements.pop();)s.dispose()}function Ns(s){let e;return $.rootElements.forEach(t=>{t.dom.id==s&&(e=t)}),e}class vs{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,t){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(t),this._entity._markDirtyKey(e),new q(()=>{H(i,t)&&this._entity._markDirtyKey(e)})}remove(e){const t=this._callbacks[e];t!==void 0&&(delete this._callbacks[e],t.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,t){if(!this._disabled[e]){const i=this._callbacks[e];if(i!==void 0)for(let a=0,r=i.length;a<r;++a)t=i[a](t,this._entity,e)}return t}}class me{constructor(e,t,i,a,r,n,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new ke}),this._animation=e,this._from=t,this._to=i,this._duration=a,this._easing=r,this._loops=n,this._interpolate=ji(t,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,t)=>{if(this._stopped)e();else{const i=()=>{a.dispose(),e()},a=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let ws=0;class Rt{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++ws}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){z(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let t=re.Stopped;if(!this.isDisposed()){let i=!1,a=!1;L(this._animatingSettings,(r,n)=>{if(n.stopped)this._stopAnimation(r);else if(n.playing){n._run(e);const o=n.percentage;o>=1?n._checkEnded()?this.set(r,n._value(1)):(i=!0,n._reset(e),this._set(r,n._value(1))):(i=!0,this._set(r,n._value(o)))}else a=!0}),L(this._animatingPrivateSettings,(r,n)=>{if(n.stopped)this._stopAnimationPrivate(r);else if(n.playing){n._run(e);const o=n.percentage;o>=1?n._checkEnded()?this.setPrivate(r,n._value(1)):(i=!0,n._reset(e),this._setPrivate(r,n._value(1))):(i=!0,this._setPrivate(r,n._value(o)))}else a=!0}),i?t=re.Playing:a&&(t=re.Paused)}return t}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,t){let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(t),new q(()=>{H(i,t),i.length===0&&delete this._settingEvents[e]})}off(e,t){let i=this._settingEvents[e];i!==void 0&&t!==void 0?H(i,t):delete this._settingEvents[e]}onPrivate(e,t){let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(t),new q(()=>{H(i,t),i.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,t){let i=this._privateSettingEvents[e];i!==void 0&&t!==void 0?H(i,t):delete this._privateSettingEvents[e]}getRaw(e,t){const i=this._settings[e];return i!==void 0?i:t}has(e){return e in this._settings}get(e,t){return this.getRaw(e,t)}_sendKeyEvent(e,t){const i=this._settingEvents[e];i!==void 0&&g(i,a=>{a(t,this,e)})}_sendPrivateKeyEvent(e,t){const i=this._privateSettingEvents[e];i!==void 0&&g(i,a=>{a(t,this,e)})}_setRaw(e,t,i){this._prevSettings[e]=t,this._sendKeyEvent(e,i)}setRaw(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&this._setRaw(e,i,t)}_set(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&(this._setRaw(e,i,t),this._markDirtyKey(e))}_stopAnimation(e){const t=this._animatingSettings[e];t&&(delete this._animatingSettings[e],t.stop())}set(e,t){return this._set(e,t),this._stopAnimation(e),t}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){g(z(this._settings),e=>{this.remove(e)})}getPrivate(e,t){const i=this._privateSettings[e];return i!==void 0?i:t}_setPrivateRaw(e,t,i){this._prevPrivateSettings[e]=t,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&this._setPrivateRaw(e,i,t)}_setPrivate(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&(this._setPrivateRaw(e,i,t),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const t=this._animatingPrivateSettings[e];t&&(t.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,t){return this._setPrivate(e,t),this._stopAnimationPrivate(e),t}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){L(e,(t,i)=>{this.set(t,i)})}animate(e){const t=e.key,i=e.to,a=e.duration||0,r=e.loops||1,n=e.from===void 0?this.get(t):e.from,o=e.easing===void 0?Ne:e.easing;if(a===0)this.set(t,i);else if(n===void 0||n===i)this.set(t,i);else{this.set(t,n);const l=this._animatingSettings[t]=new me(this,n,i,a,o,r,this._animationTime());return this._startAnimation(),l}const h=new me(this,n,i,a,o,r,null);return h.stop(),h}animatePrivate(e){const t=e.key,i=e.to,a=e.duration||0,r=e.loops||1,n=e.from===void 0?this.getPrivate(t):e.from,o=e.easing===void 0?Ne:e.easing;if(a===0)this.setPrivate(t,i);else if(n===void 0||n===i)this.setPrivate(t,i);else{this.setPrivate(t,n);const l=this._animatingPrivateSettings[t]=new me(this,n,i,a,o,r,this._animationTime());return this._startAnimation(),l}const h=new me(this,n,i,a,o,r,null);return h.stop(),h}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class V extends Rt{constructor(e,t,i,a=[]){if(super(t),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new bs(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new vs(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=a,t.id&&this._registerId(t.id)}static new(e,t,i){const a=new this(e,t,!0);return a._template=i,a._afterNew(),a}static _new(e,t,i=[]){const a=new this(e,t,!0,i);return a._afterNew(),a}_afterNew(){this._checkDirty();let e=!1;const t=this._template;t&&(e=!0,t._setObjectTemplate(this)),g(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),g(this._internalTemplates,t=>{t._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new ke}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,t){const i=this.get(e);if(i)return i;{const a=t();return this.set(e,a),a}}_setDefault(e,t){this.has(e)||super.set(e,t)}_setRawDefault(e,t){this.has(e)||super.setRaw(e,t)}_clearDirty(){z(this._dirty).forEach(e=>{this._dirty[e]=!1}),z(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,t){let i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(t),t}_disposeProperty(e){const t=this._disposerProperties[e];t!==void 0&&(g(t,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,t){}get(e,t){const i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:t}isUserSetting(e){return this._userProperties[e]||!1}set(e,t){return this._userProperties[e]=!0,super.set(e,t)}setRaw(e,t){this._userProperties[e]=!0,super.setRaw(e,t)}_setSoft(e,t){return this._userProperties[e]?t:super.set(e,t)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,t){return this._userPrivateProperties[e]=!0,super.setPrivate(e,t)}setPrivateRaw(e,t){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,t)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,t,i){if(!this._userProperties[t]){const a=this._findTemplateByKey(t);e===a&&super.set(t,i)}}_setTemplatePrivateProperty(e,t,i){if(!this._userPrivateProperties[t]){const a=this._findTemplateByPrivateKey(t);e===a&&super.setPrivate(t,i)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const t=this._findTemplateByKey(e);t?super.set(e,t._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const t=this._findTemplateByPrivateKey(e);t?super.setPrivate(e,t._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const t=this.states.create(e,{}),i={};this._eachTemplate(a=>{const r=a.states.lookup(e);r&&r._apply(t,i)}),L(t._settings,a=>{!i[a]&&!t._userSettings[a]&&t.remove(a)})}_applyTemplate(e,t){this._templateDisposers.push(e._apply(this,t)),L(e._settings,(i,a)=>{!t.settings[i]&&!this._userProperties[i]&&(t.settings[i]=!0,super.set(i,a))}),L(e._privateSettings,(i,a)=>{!t.privateSettings[i]&&!this._userPrivateProperties[i]&&(t.privateSettings[i]=!0,super.setPrivate(i,a))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(t=>(e(t),!1)),ie(this._internalTemplates,e),g(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const t={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,t)}),e&&(L(this._settings,i=>{!this._userProperties[i]&&!t.settings[i]&&super.remove(i)}),L(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!t.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const t=this._findStaticTemplate(e);if(t===void 0){const i=Et(this._internalTemplates,e);return i===void 0?ht(this._templates,e):i}else return t}_findTemplateByKey(e){return this._findTemplate(t=>e in t._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(t=>e in t._privateSettings)}_disposeTemplates(){g(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){g(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let t=!1;const i=[];let a=[];const r=new Set,n=this.get("themeTagsSelf");return n&&g(n,o=>{r.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(t=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);const h=o.get("themes");h&&a.push(h);const l=o.get("themeTags");l&&g(l,d=>{r.add(d)})}),a=i.concat(a),this._removeTemplates(),(t||e)&&ie(this.classNames,o=>{const h=[];g(a,l=>{g(l,d=>{const f=d._lookupRules(o);f&&ie(f,c=>{if(c.tags.every(p=>r.has(p))){const p=Ht(h,_=>{const O=Qe(c.tags.length,_.tags.length);return O===0?Ft(c.tags,_.tags,Qe):O});h.splice(p.index,0,c)}})})}),g(h,l=>{this._templates.push(l.template),l.template._setObjectTemplate(this)})}),this._applyTemplates(),(t||e)&&(this._runSetup=!1),t||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const t=this._prevSettings.id;t&&(delete this._root.entitiesById[t],delete $.entitiesById[t])}}_registerId(e){if(this._root.entitiesById[e]&&this._root.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');this._root.entitiesById[e]=this,$.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),g(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),L(this._disposerProperties,(i,a)=>{g(a,r=>{r.dispose()})});const t=this.get("id");t&&(delete this._root.entitiesById[t],delete $.entitiesById[t])}setTimeout(e,t){const i=setTimeout(()=>{this.removeDispose(a),e()},t),a=new q(()=>{clearTimeout(i)});return this._disposers.push(a),a}removeDispose(e){if(!this.isDisposed()){let t=we(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}hasTag(e){return we(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}removeTag(e){if(this.hasTag(e)){const t=this.get("themeTags",[]);Ut(t,e),this.set("themeTags",t)}}_t(e,t,...i){return this._root.language.translate(e,t,...i)}get root(){return this._root}}Object.defineProperty(V,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(V,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class Le extends ke{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}_onRenderer(e,t){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(i===void 0){const a=this._sprite._display.on(e,r=>{t.call(this,r)});i=this._rendererDisposers[e]=new Wt(()=>{delete this._rendererDisposers[e],a.dispose()})}return i.increment()}_on(e,t,i,a,r,n){const o=super._on(e,t,i,a,r,n),h=Le.RENDERER_EVENTS[t];return h!==void 0&&(o.disposer=new K([o.disposer,this._onRenderer(t,h)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,t){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=i}}}Object.defineProperty(Le,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(s){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",s))&&this.dispatch("click",this._makePointerEvent("click",s))},rightclick:function(s){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",s))},middleclick:function(s){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",s))},dblclick:function(s){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",s))},pointerover:function(s){const e=this._sprite;let t=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();if(e.isType("Graphics")){const a=e.get("strokeWidth",1)/2;a>=1&&(i.left-=a,i.right+=a,i.top-=a,i.bottom+=a)}Ot(s.point,i)||(t=!1,e._root._renderer.removeHovering(e._display))}t&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",s))},pointerout:function(s){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",s))},pointerdown:function(s){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",s))},pointerup:function(s){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",s))},globalpointerup:function(s){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",s))},globalpointermove:function(s){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",s))},wheel:function(s){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:s.event,point:s.point})}}});class A extends V{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Le(this)}_processTemplateField(){let e;const t=this.get("templateField");if(t){const i=this.dataItem;if(i){const a=i.dataContext;a&&(e=a[t],!(e instanceof et)&&e&&(e=et.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const t=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=t&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:t,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof P||this.get("height")instanceof P?tt(e._percentageSizeChildren,this):H(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof P||this.get("y")instanceof P?tt(e._percentagePositionChildren,this):H(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const t=this.get("centerX");t!=null&&(this._display.pivot.x=e.left+E(t,e.right-e.left));const i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+E(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const t=this._tooltipPointerDp;t&&(t.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new K([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,t=this.events;if(this.isDirty("draggable")){const a=this.get("draggable");a?(this.set("interactive",!0),this._dragDp=new K([t.on("pointerdown",r=>{this.dragStart(r)}),t.on("globalpointermove",r=>{this.dragMove(r)}),t.on("globalpointerup",r=>{this.dragStop(r)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!a}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const a=this.get("tooltipText"),r=this.get("tooltipHTML"),n=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(a||r)&&(n=="click"?(this._tooltipDp=new K([t.on("click",()=>{this.setTimeout(()=>{const o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),Ze(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):n=="always"||(this._tooltipDp=new K([t.on("pointerover",()=>{this.showTooltip()}),t.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let a=this.get("toggleKey");a&&a!="none"?this._toggleDp=t.on("click",()=>{this._isDragging||this.set(a,!this.get(a))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const a=this.parent;a&&(this.isDirty("width")&&this.get("width")instanceof P||this.isDirty("height")&&this.get("height")instanceof P)&&(a.markDirty(),a._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const a=this.get("wheelable");a&&this.set("interactive",!0),e.wheelable=!!a}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const a=this.get("blur",0);a!=0&&(i+=" blur("+a+"px)")}if(this.isDirty("saturate")){const a=this.get("saturate",1);a!=1&&(i+=" saturate("+a+")")}if(this.isDirty("brightness")){const a=this.get("brightness",1);a!=1&&(i+=" brightness("+a+")")}if(this.isDirty("contrast")){const a=this.get("contrast",1);a!=1&&(i+=" contrast("+a+")")}if(this.isDirty("sepia")){const a=this.get("sepia",0);a!=0&&(i+=" sepia("+a+")")}if(this.isDirty("hue")){const a=this.get("hue",0);a!=0&&(i+=" hue-rotate("+a+"deg)")}if(this.isDirty("invert")){const a=this.get("invert",0);a!=0&&(i+=" invert("+a+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new K([t.on("focus",()=>{this.showTooltip()}),t.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(t.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(t.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const a=this.events;this.get("interactive")&&!a.isDisposed()?this._hoverDp=new K([a.on("click",r=>{He(r.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})},10))}),a.on("globalpointerup",r=>{He(r.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})),this._isDown&&this._handleUp(r)}),a.on("pointerover",()=>{this._handleOver()}),a.on("pointerout",()=>{this._handleOut()}),a.on("pointerdown",r=>{this._handleDown(r)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const t=be(e.originalEvent);delete this._downPoints[t],z(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const t=be(e.originalEvent),i=this._downPoints[t];if(i){const a=Math.abs(i.x-e.point.x),r=Math.abs(i.y-e.point.y);return a>5||r>5}return!1}_hasDown(){return z(this._downPoints).length>0}_handleDown(e){const t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=be(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;let i=0,a=this.parent,r=1;for(;a!=null;)i+=a.get("rotation",0),a=a.parent,a&&(r*=a.get("scale",1));let n=(e.point.x-t.point.x)/r,o=(e.point.y-t.point.y)/r;const h=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const l="dragstart";h.isEnabled(l)&&h.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let l=this._dragPoint;this.set("x",l.x+n*Oe(i)+o*Te(i)),this.set("y",l.y+o*Oe(i)-n*Te(i));const d="dragged";h.isEnabled(d)&&h.dispatch(d,{type:d,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(n,o)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const l="dragstart";h.isEnabled(l)&&h.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,t=0;for(;;)if(e)++t,e=e.parent;else return t}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const t=this.parent;t&&this.get("position")!="absolute"&&(t.get("width")==null||t.get("height")==null||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let t;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let t=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));b(t)&&e.right-e.left<t&&(e.right=e.left+t),b(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let a=this.getPrivate("width"),r=this.getPrivate("height");b(a)&&(a>0?e.right=e.left+a:e.left=e.right+a),b(r)&&(r>0?e.bottom=e.top+r:e.top=e.bottom+r)}_removeParent(e){e&&(e.children.removeValue(this),H(e._percentageSizeChildren,this),H(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const t=this.getTooltip(),i=this.get("tooltipText"),a=this.get("tooltipHTML");if((i||a)&&t){const r=this.get("tooltipPosition"),n=this.getPrivate("tooltipTarget",this);if((r=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(n._getTooltipPoint())),r=="pointer"){const l=this.getPrivate("lastTooltipCoords");if(l&&l.x==e.x&&l.y==e.y)return;this.setPrivate("lastTooltipCoords",e)}t.set("pointTo",e),t.set("tooltipTarget",n),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),i&&t.label.set("text",i),a&&t.label.set("html",a);const o=this.dataItem;if(o&&t.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}t.label.text.markDirtyText();const h=t.show();return this.setPrivateRaw("showingTooltip",!0),h}}}hideTooltip(){const e=this.getTooltip();if(e&&(this.removePrivate("lastTooltipCoords"),e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let t=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const i=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let t=0,i=0;return this.get("isMeasured")?(t=e.left+E(this.get("tooltipX",0),e.right-e.left),i=e.top+E(this.get("tooltipY",0),e.bottom-e.top)):(t=E(this.get("tooltipX",0),this.width()),i=E(this.get("tooltipY",0),this.height())),{x:t,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const e=this.parent;let t=this.get("dx",0),i=this.get("dy",0),a=this.get("x"),r=this.getPrivate("x"),n=0,o=0;const h=this.get("position");a instanceof P&&(e?a=e.innerWidth()*a.value+e.get("paddingLeft",0):a=0),b(a)?n=a+t:r!=null?n=r:e&&h=="relative"&&(n=e.get("paddingLeft",0)+t);let l=this.get("y"),d=this.getPrivate("y");l instanceof P&&(e?l=e.innerHeight()*l.value+e.get("paddingTop",0):l=0),b(l)?o=l+i:d!=null?o=d:e&&h=="relative"&&(o=e.get("paddingTop",0)+i);const f=this._display;if(f.x!=n||f.y!=o){f.invalidateBounds(),f.x=n,f.y=o;const c="positionchanged";this.events.isEnabled(c)&&this.events.dispatch(c,{type:c,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),t=this.getPrivate("x");const i=this.parent;return i?e instanceof P?E(e,i.innerWidth())+i.get("paddingLeft",0):b(e)?e:t??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let t=this.get("y");const i=this.parent;return i?t instanceof P?E(t,i.innerHeight())+i.get("paddingTop",0):b(t)?t:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,t=this.x(),i=this.y();return{left:e.left+t,right:e.right+t,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),a=this.toGlobal({x:e.right,y:e.bottom}),r=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,i.x,a.x,r.x),top:Math.min(t.y,i.y,a.y,r.y),right:Math.max(t.x,i.x,a.x,r.x),bottom:Math.max(t.y,i.y,a.y,r.y)}}_onShow(e){}_onHide(e){}appear(e,t){return M(this,void 0,void 0,function*(){return yield this.hide(0),t?new Promise((i,a)=>{this.setTimeout(()=>{i(this.show(e))},t)}):this.show(e)})}show(e){return M(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const t=this.states.applyAnimate("default",e);yield ot(t),this._isShowing=!1}})}hide(e){return M(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let t=this.states.lookup("hidden");t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield ot(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),a=this.getPrivate("width"),r=0;if(b(a))r=a;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof P){const n=this.parent;n?r=n.innerWidth()*e.value:r=this._root.width()*e.value}else b(e)&&(r=e);return b(i)&&(r=Math.max(i,r)),b(t)&&(r=Math.min(t,r)),r}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(b(e))return e;{let i=this.get("width");if(b(i))return i}const t=this.parent;return t?t.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(b(e))return e;{let i=this.get("height");if(b(i))return i}const t=this.parent;return t?t.innerHeight():this._root.height()}height(){let e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),a=this.getPrivate("height"),r=0;if(b(a))r=a;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof P){const n=this.parent;n?r=n.innerHeight()*e.value:r=this._root.height()*e.value}else b(e)&&(r=e);return b(i)&&(r=Math.max(i,r)),b(t)&&(r=Math.min(t,r)),r}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,t=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return Nt(this._downPoints,(e,t)=>e>t?1:e<t?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(A,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(A,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.classNames.concat([A.className])});class ae extends V{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),t=this.get("width",100),i=this.get("height",100),a=this.get("fill"),r=this.get("fillOpacity",1),n=this._backgroundDisplay,o=this._display;o.clear(),n.clear(),a&&r>0&&(n.beginFill(a,r),n.drawRect(0,0,t,i),n.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,n,e,t,i)}this._clear=!1}}Object.defineProperty(ae,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(ae,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.classNames.concat([ae.className])});class ne extends ae{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const t=this._image;if(t){const a=this.get("width",100),r=this.get("height",100),n=this.get("fit","image");let o=0,h=0;n=="pattern"?(o=a,h=r,this.markDirty()):(o=t.width,h=t.height,n=="image"&&(this.set("width",o),this.set("height",h)));const l=this.get("centered",!0);let d=0,f=0;l&&(d=a/2-o/2,f=r/2-h/2),this._display.image(t,o,h,d,f)}const i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){const e=this.get("src");if(e){const t=new Image;t.src=e,t.decode().then(()=>{this._image=t,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(ne,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(ne,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ae.classNames.concat([ne.className])});var ze;(function(s){s.ADD="lighter",s.COLOR="color",s.COLOR_BURN="color-burn",s.COLOR_DODGE="color-dodge",s.DARKEN="darken",s.DIFFERENCE="difference",s.DST_OVER="destination-over",s.EXCLUSION="exclusion",s.HARD_LIGHT="hard-light",s.HUE="hue",s.LIGHTEN="lighten",s.LUMINOSITY="luminosity",s.MULTIPLY="multiply",s.NORMAL="source-over",s.OVERLAY="overlay",s.SATURATION="saturation",s.SCREEN="screen",s.SOFT_LIGHT="soft-light",s.SRC_ATOP="source-atop",s.XOR="xor"})(ze||(ze={}));class oe extends A{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");b(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);const i=this.get("blendMode",ze.NORMAL);this._display.blendMode=i;const a=this.get("draw");a&&typeof a=="function"&&a(this._display,this);const r=this.get("svgPath");r!=null&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),t=this.get("fillGradient"),i=this.get("fillPattern"),a=this.get("fillOpacity"),r=this.get("stroke"),n=this.get("strokeGradient"),o=this.get("strokePattern"),h=this.get("shadowColor"),l=this.get("shadowBlur"),d=this.get("shadowOffsetX"),f=this.get("shadowOffsetY"),c=this.get("shadowOpacity");if(h&&(l||d||f)&&this._display.shadow(h,l,d,f,c),e&&!t&&(this._display.beginFill(e,a),this._display.endFill()),t){if(e){const p=t.get("stops",[]);p.length&&g(p,_=>{(!_.color||_.colorInherited)&&e&&(_.color=e,_.colorInherited=!0),(_.opacity==null||_.opacityInherited)&&(_.opacity=a,_.opacityInherited=!0)})}const u=t.getFill(this);u&&(this._display.beginFill(u,a),this._display.endFill())}if(i){const u=i.pattern;u&&(this._display.beginFill(u,a),this._display.endFill(),i instanceof ne&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(r||n||o){const u=this.get("strokeOpacity");let p=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(p=p/this.get("scale",1)),this.get("crisp")&&(p/=this._root._renderer.resolution);const _=this.get("lineJoin"),O=this.get("lineCap");if(r&&!n&&(this._display.lineStyle(p,r,u,_,O),this._display.endStroke()),n){const T=n.get("stops",[]);T.length&&g(T,w=>{(!w.color||w.colorInherited)&&r&&(w.color=r,w.colorInherited=!0),(w.opacity==null||w.opacityInherited)&&(w.opacity=u,w.opacityInherited=!0)});const R=n.getFill(this);R&&(this._display.lineStyle(p,R,u,_,O),this._display.endStroke())}if(o){let T=o.pattern;T&&(this._display.lineStyle(p,T,u,_,O),this._display.endStroke(),o instanceof ne&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(oe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(oe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:A.classNames.concat([oe.className])});class le extends oe{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(le,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(le,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oe.classNames.concat([le.className])});function F(s,e){s.get("reverseChildren",!1)?s.children.eachReverse(e):s.children.each(e)}class U extends V{}Object.defineProperty(U,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(U,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.classNames.concat([U.className])});class he extends U{updateContainer(e){let t=e.get("paddingLeft",0),i=e.innerWidth(),a=0;F(e,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof P){a+=o.value;let h=i*o.value,l=n.get("minWidth",n.getPrivate("minWidth",-1/0));l>h&&(i-=l,a-=o.value);let d=n.get("maxWidth",n.getPrivate("maxWidth",1/0));h>d&&(i-=d,a-=o.value)}else b(o)||(o=n.width()),i-=o+n.get("marginLeft",0)+n.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),F(e,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof P){let h=i*o.value/a-n.get("marginLeft",0)-n.get("marginRight",0),l=n.get("minWidth",n.getPrivate("minWidth",-1/0)),d=n.get("maxWidth",n.getPrivate("maxWidth",1/0));h=Math.min(Math.max(l,h),d),n.setPrivate("width",h)}else n._prevSettings.width instanceof P&&n.setPrivate("width",void 0)}});let r=t;F(e,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),h=n.get("marginLeft",0),l=n.get("marginRight",0),d=n.get("maxWidth"),f=o.left,c=o.right;d&&c-f>d&&(c=f+d);let u=r+h-f;n.setPrivate("x",u),r=u+c+l}else n.setPrivate("x",void 0)})}}Object.defineProperty(he,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(he,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.classNames.concat([he.className])});class ue extends U{updateContainer(e){let t=e.get("paddingTop",0),i=e.innerHeight(),a=0;F(e,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof P){a+=o.value;let h=i*o.value,l=n.get("minHeight",n.getPrivate("minHeight",-1/0));l>h&&(i-=l,a-=o.value);let d=n.get("maxHeight",n.getPrivate("maxHeight",1/0));h>d&&(i-=d,a-=o.value)}else b(o)||(o=n.height()),i-=o+n.get("marginTop",0)+n.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),F(e,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof P){let h=i*o.value/a-n.get("marginTop",0)-n.get("marginBottom",0),l=n.get("minHeight",n.getPrivate("minHeight",-1/0)),d=n.get("maxHeight",n.getPrivate("maxHeight",1/0));h=Math.min(Math.max(l,h),d),n.setPrivate("height",h)}else n._prevSettings.height instanceof P&&n.setPrivate("height",void 0)}});let r=t;F(e,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),h=n.get("marginTop",0),l=o.top,d=o.bottom,f=n.get("maxHeight");f&&d-l>f&&(d=l+f);let c=n.get("marginBottom",0),u=r+h-l;n.setPrivate("y",u),r=u+d+c}else n.setPrivate("y",void 0)})}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.classNames.concat([ue.className])});class J extends U{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let t=e.get("paddingLeft",0),i=e.get("paddingRight",0),a=e.get("paddingTop",0),r=e.maxWidth()-t-i,n=r,o=1;F(e,p=>{if(p.get("visible")&&p.getPrivate("visible")&&!p.get("forceHidden")&&p.get("position")!="absolute"){let _=p.width();_<n&&(n=_),_>o&&(o=_)}}),n=Ue(n,1,r),o=Ue(o,1,r);let h=1;this.get("fixedWidthGrid")?h=r/o:h=r/n,h=Math.max(1,Math.floor(h)),h=Math.min(this.get("maxColumns",Number.MAX_VALUE),h);let l=this.getColumnWidths(e,h,o,r),d=a,f=0,c=0;h=l.length;let u=t;F(e,p=>{if(p.get("position")=="relative"&&p.isVisible()){const _=p.get("marginTop",0),O=p.get("marginBottom",0);let T=p.adjustedLocalBounds(),R=p.get("marginLeft",0),w=p.get("marginRight",0),v=u+R-T.left,B=d+_-T.top;p.setPrivate("x",v),p.setPrivate("y",B),u+=l[f]+w,c=Math.max(c,p.height()+_+O),f++,f>=h&&(f=0,u=t,d+=c)}})}getColumnWidths(e,t,i,a){let r=0,n=[],o=0;return F(e,h=>{let l=h.adjustedLocalBounds();h.get("position")!="absolute"&&h.isVisible()&&(this.get("fixedWidthGrid")?n[o]=i:n[o]=Math.max(n[o]|0,l.right-l.left+h.get("marginLeft",0)+h.get("marginRight",0)),o<e.children.length-1&&(o++,o==t&&(o=0)))}),g(n,h=>{r+=h}),r>a?t>2?(t-=1,this.getColumnWidths(e,t,i,a)):[a]:n}}Object.defineProperty(J,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(J,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.classNames.concat([J.className])});class Ve{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,t=!1,i=!1){let a=[];e=this.escape(e);let r=t?e.split("'"):[e];for(let n=0;n<r.length;n++){let o=r[n];if(o!=="")if(n%2===0){o=o.replace(/\]\[/g,"]"+it+"["),o=o.replace(/\[\]/g,"[ ]");let h=o.split(/[\[\]]+/);for(let l=0;l<h.length;l++){let d=this.cleanUp(this.unescape(h[l]));d!==it&&d!==""&&(l%2===0?a.push({type:"value",text:d}):a.push({type:i?"value":"format",text:"["+d+"]"}))}}else{let h=o.split(/[\[\]]+/);for(let l=0;l<h.length;l++){let d=this.cleanUp(this.unescape(h[l]));d!==""&&(l%2===0?a.push({type:"text",text:d}):this.isImage(d)?a.push({type:"image",text:"["+d+"]"}):a.push({type:"format",text:"["+d+"]"}))}}}return a}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let t={};if(e==""||e=="[ ]")return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let r=0;r<i.length;r++)e=e.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let a=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!a)return{};for(let r=0;r<a.length;r++)if(a[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))t.fontWeight=a[r];else if(a[r].match(/^(underline|line-through)$/i))t.textDecoration=a[r];else if(a[r]!="/")if(!a[r].match(/:/))t.fill=m.fromString(a[r]);else{const n=a[r].replace("+"," ").split(/:[ ]*/);t[n[0]]=n[1]}return t}}Object.defineProperty(Ve,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function Se(s,e){if(e!=null){e=""+e,e=Ve.escape(e);let t=e.match(/\{([^}]+)\}/g),i;if(t)for(i=0;i<t.length;i++){let a=t[i].replace(/\{([^}]+)\}/,"$1"),r=Ge(s,a);r==null&&(r=""),e=e.split(t[i]).join(r)}e=Ve.unescape(e)}else e="";return e}function Ge(s,e,t){let i;const a=s.dataItem;let r=[],n=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=n.exec(e),o!==null;)if(o[3]){r.push({prop:o[3]});const h=s.getDateFormatter().get("dateFields",[]),l=s.getNumberFormatter().get("numericFields",[]),d=s.getDurationFormatter().get("durationFields",[]);h.indexOf(o[3])!==-1?r.push({method:"formatDate",params:[]}):l.indexOf(o[3])!==-1?r.push({method:"formatNumber",params:[]}):d.indexOf(o[3])!==-1&&r.push({method:"formatDuration",params:[]})}else{let h=[];if(De(o[2])!=""){let l=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d;for(;d=l.exec(o[2]),d!==null;)h.push(d[1]||d[2]||d[3])}r.push({method:o[1],params:h})}if(a){i=X(s,r,a._settings),(i==null||ut(i))&&(i=X(s,r,a));let h=a.dataContext;i==null&&h&&(i=X(s,r,h),i==null&&(i=X(s,[{prop:e}],h)),i==null&&h.dataContext&&(i=X(s,r,h.dataContext))),i==null&&a.component&&a.component.dataItem!==a&&(i=Ge(a.component,e))}return i==null&&(i=X(s,r,s)),i==null&&s.parent&&(i=Ge(s.parent,e)),i}function Ds(s,e){const t=s.getPrivate("customData");if(ut(t))return t[e]}function X(s,e,t,i){let a=t,r=!1;for(let n=0,o=e.length;n<o;n++){let h=e[n];if(h.prop){if(a instanceof A){let l=a.get(h.prop);l==null&&(l=a.getPrivate(h.prop)),l==null&&(l=Ds(a,h.prop)),l==null&&(l=a[h.prop]),a=l}else if(a.get){let l=a.get(h.prop);l==null&&(l=a[h.prop]),a=l}else a=a[h.prop];if(a==null)return}else switch(h.method){case"formatNumber":let l=st(a);l!=null&&(a=s.getNumberFormatter().format(l,h.params[0]||void 0),r=!0);break;case"formatDate":let d=zt(a);if(!rt(d)||Vt(d.getTime()))return;d!=null&&(a=s.getDateFormatter().format(d,h.params[0]||void 0),r=!0);break;case"formatDuration":let f=st(a);f!=null&&(a=s.getDurationFormatter().format(f,h.params[0]||void 0,h.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":a=encodeURIComponent(a);break;default:a[h.method]&&a[h.method].apply(t,h.params);break}}if(!r){let n=[{method:"",params:i}];b(a)?(n[0].method="formatNumber",n[0].params=""):rt(a)&&(n[0].method="formatDate",n[0].params=""),n[0].method&&(a=X(s,n,a))}return a}class I extends A{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Ai(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){ie(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let t=this._contentMask;this.get("maskContent")?t||(t=le.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),g(this._percentageSizeChildren,e=>{e._updateSize()}),g(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let t=this._localBounds;if(t&&!this.isHidden()){let i=t.left,a=t.top,r=t.right-i,n=t.bottom-a,o=this.get("maxWidth"),h=this.get("maxHeight");h&&n>h&&(n=h),o&&r>o&&(r=o);let l=this.width(),d=this.height();e&&(e.setAll({width:r,height:n,x:i,y:a}),this._display.interactive&&(e._display.interactive=!0));const f=this._contentMask;f&&f.setAll({width:l+1,height:d+1});const c=this.get("verticalScrollbar");if(c){c.set("height",d),c.set("x",l-c.width()-c.get("marginRight",0)),c.set("end",c.get("start",0)+d/this._contentHeight);const u=c.get("background");u&&u.setAll({width:c.width(),height:d});let p=!0;this._contentHeight<=d&&(p=!1),c.setPrivate("visible",p)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(t=>{t._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(t=>{t.states.apply(e)})}_applyStateAnimated(e,t){super._applyStateAnimated(e,t),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,t)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),t=this.get("height"),i=this.getPrivate("width"),a=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},n=this.get("layout"),o=!1,h=!1;if((n instanceof he||n instanceof J)&&(o=!0),n instanceof ue&&(h=!0),!((e!=null||i!=null)&&(t!=null||a!=null)&&!this.get("verticalScrollbar"))){let l=Number.MAX_VALUE,d=l,f=-l,c=l,u=-l;const p=this.get("paddingLeft",0),_=this.get("paddingTop",0),O=this.get("paddingRight",0),T=this.get("paddingBottom",0);this.children.each(v=>{if(v.get("position")!="absolute"&&v.get("isMeasured")){let B=v.adjustedLocalBounds(),G=v.x(),k=v.y(),C=G+B.left,D=G+B.right,Q=k+B.top,ee=k+B.bottom;o&&(C-=v.get("marginLeft",0),D+=v.get("marginRight",0)),h&&(Q-=v.get("marginTop",0),ee+=v.get("marginBottom",0)),C<d&&(d=C),D>f&&(f=D),Q<c&&(c=Q),ee>u&&(u=ee)}}),d==l&&(d=0),f==-l&&(f=0),c==l&&(c=0),u==-l&&(u=0),r.left=d-p,r.top=c-_,r.right=f+O,r.bottom=u+T;const R=this.get("minWidth");b(R)&&R>0&&r.right-r.left<R&&(r.right>=R?r.left=r.right-R:r.right=r.left+R);const w=this.get("minHeight");b(w)&&w>0&&r.bottom-r.top<w&&(r.bottom>=w?r.top=r.bottom-w:r.bottom=r.top+w)}this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,b(e)&&(r.left=0,r.right=e),b(i)&&(r.left=0,r.right=i),b(t)&&(r.top=0,r.bottom=t),b(a)&&(r.top=0,r.bottom=a),this._localBounds=r}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){let i=this.get("layout"),a=!1,r=!1;i&&((i instanceof he||i instanceof J)&&(a=!0),i instanceof ue&&(r=!0)),g(this._percentageSizeChildren,n=>{if(!a){let o=n.get("width");o instanceof P&&n.setPrivate("width",o.value*e)}if(!r){let o=n.get("height");o instanceof P&&n.setPrivate("height",o.value*t)}}),g(this._percentagePositionChildren,n=>{n.markDirtyPosition(),n.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){const e=this.get("html","");e&&e!==""?this._root._setHTMLContent(this,Se(this,e)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const t=this.get("verticalScrollbar");if(t){let i=e.y(),a=this.innerHeight(),r=e.height(),n=this._contentHeight,o=1-(a-r/2)/n;if(i+r*.7+this._childrenDisplay.y>a||i-r*.3+this._childrenDisplay.y<0){let h=Math.max(0,Math.min(o,(i-r/2)/n));t.animate({key:"start",to:h,duration:t.get("animationDuration",0),easing:t.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let t=this.get("background");t||(t=this.set("background",le.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const a=i.originalEvent;if(ct(a,this))a.preventDefault();else return;let r=a.deltaY/5e3;const n=e.get("start",0),o=e.get("end",1);n+r<=0&&(r=-n),o+r>=1&&(r=1-o),n+r>=0&&o+r<=1&&(e.set("start",n+r),e.set("end",o+r))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const a=this._childrenDisplay,r=this._contentMask;a.y=-e.get("start",0)*i,a.markDirtyLayer(),r&&(r._display.y=-a.y,a.mask=r._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const t=this._prevSettings.verticalScrollbar;if(t){this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const t=this.get("background");t instanceof A&&(t.set("isMeasured",!1),t._setParent(this),this._display.addChildAt(t._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),t=this._prevSettings.mask;if(t&&(this._display.removeChild(t._display),t!=e&&t.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(t=>{t instanceof I&&t.walkChildren(e),e(t)})}eachChildren(e){const t=this.get("background");t&&e(t);const i=this.get("verticalScrollbar");i&&e(i);const a=this.get("mask");a&&e(a),this.children.values.forEach(r=>{e(r)})}allChildren(){const e=[];return this.eachChildren(t=>{e.push(t)}),e}_setDataItem(e){const t=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&i!==""&&t&&this._root._setHTMLContent(this,Se(this,i))}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:A.classNames.concat([I.className])});class Re extends A{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new q(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const t=this.get("fill"),i=this.get("fillGradient"),a=this.get("fillOpacity");if(i){if(t){const r=i.get("stops",[]);r.length&&g(r,n=>{(!n.color||n.colorInherited)&&t&&(n.color=t,n.colorInherited=!0),(n.opacity==null||n.opacityInherited)&&(n.opacity=a,n.opacityInherited=!0)})}e.fill=i.getFill(this)}else t&&(e.fill=t)}if(this.isDirty("fillOpacity")){let t=this.get("fillOpacity",1);t&&(e.fillOpacity=t)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),g(this._textStyles,t=>{this._dirty[t]&&(e[t]=this.get(t),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=mt(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?Se(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?Se(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:A.classNames.concat([Re.className])});class de extends I{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),g(this._textKeys,e=>{const t=this.get(e);t!=null&&this._text.set(e,t)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(Re.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(g(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const i=this.get("textAlign");let a;this.get("width")!=null?i=="right"?a=x:i=="center"?a=S:a=0:i=="left"||i=="start"?a=this.get("paddingLeft",0):(i=="right"||i=="end")&&(a=-this.get("paddingRight",0)),e.set("x",a)}const t=this.get("background");t&&t.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),t=e==90||e==270||e==-90,i=this._text,a=this.get("maxWidth",this.getPrivate("maxWidth",1/0));b(a)?i.set(t?"maxHeight":"maxWidth",a-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(t?"maxHeight":"maxWidth",void 0);const r=this.get("maxHeight",this.getPrivate("maxHeight",1/0));b(r)?i.set(t?"maxWidth":"maxHeight",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(t?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text"),this._markDirtyKey("html");const t=this._text;t.get("populateText")&&t.markDirtyText();const i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(de,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(de,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.classNames.concat([de.className])});function y(s,e,t,i){s.set(e,t.get(i)),t.on(i,a=>{s.set(e,a)})}class Ws extends Gt{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,a=this._root.verticalLayout,r=this.rule.bind(this);r("InterfaceColors").setAll({stroke:m.fromHex(15066597),fill:m.fromHex(15987699),primaryButton:m.fromHex(6788316),primaryButtonHover:m.fromHex(6779356),primaryButtonDown:m.fromHex(6872182),primaryButtonActive:m.fromHex(6872182),primaryButtonDisabled:m.fromHex(14342874),primaryButtonTextDisabled:m.fromHex(16777215),primaryButtonText:m.fromHex(16777215),primaryButtonStroke:m.fromHex(16777215),secondaryButton:m.fromHex(14277081),secondaryButtonHover:m.fromHex(10724259),secondaryButtonDown:m.fromHex(9276813),secondaryButtonActive:m.fromHex(15132390),secondaryButtonText:m.fromHex(0),secondaryButtonStroke:m.fromHex(16777215),grid:m.fromHex(0),background:m.fromHex(16777215),alternativeBackground:m.fromHex(0),text:m.fromHex(0),alternativeText:m.fromHex(16777215),disabled:m.fromHex(11382189),positive:m.fromHex(5288704),negative:m.fromHex(11730944)});{const n=r("ColorSet");n.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[m.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),n.setPrivate("currentStep",0),n.setPrivate("currentPass",0)}r("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Y(W)}),r("Component").setAll({interpolationDuration:0,interpolationEasing:Y(W)}),r("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:S,tooltipY:S,tooltipPosition:"fixed",isMeasured:!0}),r("Sprite").states.create("default",{visible:!0,opacity:1}),r("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),r("Graphics").setAll({strokeWidth:1}),r("Chart").setAll({width:x,height:x,interactiveChildren:!1}),r("ZoomableContainer").setAll({width:x,height:x,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:Y(W),animationDuration:600,maxPanOut:.4}),r("Sprite",["horizontal","center"]).setAll({centerX:S,x:S}),r("Sprite",["vertical","center"]).setAll({centerY:S,y:S}),r("Container",["horizontal","layout"]).setAll({layout:i}),r("Container",["vertical","layout"]).setAll({layout:a}),r("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),r("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),r("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),r("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),r("GrainPattern").setAll({width:200,height:200,colors:[m.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const n=r("PatternSet");n.setAll({step:1}),y(n,"color",t,"stroke")}r("LinearGradient").setAll({rotation:90}),r("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:J.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),r("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const n=r("Rectangle",["legend","item","background"]);n.setAll({fillOpacity:0}),y(n,"fill",t,"background")}r("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:S,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),r("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:x,height:x,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const n=r("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});y(n,"fill",t,"disabled"),y(n,"stroke",t,"disabled")}r("Label",["legend","label"]).setAll({centerY:S,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const n=r("Label",["legend","label"]).states.create("disabled",{});y(n,"fill",t,"disabled")}r("Label",["legend","value","label"]).setAll({centerY:S,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:x,populateText:!0});{const n=r("Label",["legend","value","label"]).states.create("disabled",{});y(n,"fill",t,"disabled")}r("HeatLegend").setAll({stepCount:1}),r("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),r("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:x,width:15}),r("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:x,height:15}),r("HeatLegend",["vertical"]).setAll({height:x}),r("HeatLegend",["horizontal"]).setAll({width:x}),r("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),r("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const n=r("Label");n.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),y(n,"fill",t,"text")}r("RadialLabel").setAll({textType:"regular",centerY:S,centerX:S,inside:!1,radius:0,baseRadius:x,orientation:"auto",textAlign:"center"}),r("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),r("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:m.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:m.fromHex(0)}),r("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),r("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),r("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),r("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const n=r("Tick");n.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),y(n,"stroke",t,"grid")}r("Bullet").setAll({locationX:.5,locationY:.5}),r("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:S,centerY:S,animationEasing:Y(W),exportable:!1}),r("Polygon").setAll({animationEasing:Y(W)}),r("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:m.fromHex(16777215)});{const n=r("Label",["tooltip"]);n.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),y(n,"fill",t,"alternativeText")}r("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),r("Button").states.create("hover",{}),r("Button").states.create("down",{stateAnimationDuration:0}),r("Button").states.create("active",{}),r("Button").states.create("disabled",{forceInactive:!0});{const n=r("RoundedRectangle",["button","background"]);y(n,"fill",t,"primaryButton"),y(n,"stroke",t,"primaryButtonStroke")}{const n=r("RoundedRectangle",["button","background"]).states.create("hover",{});y(n,"fill",t,"primaryButtonHover")}{const n=r("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});y(n,"fill",t,"primaryButtonDown")}{const n=r("RoundedRectangle",["button","background"]).states.create("active",{});y(n,"fill",t,"primaryButtonActive")}{const n=r("RoundedRectangle",["button","background"]).states.create("disabled",{});y(n,"fill",t,"primaryButtonDisabled")}{const n=r("Graphics",["button","icon"]).states.create("disabled",{});y(n,"fill",t,"primaryButtonTextDisabled")}{const n=r("Label",["button"]).states.create("disabled",{});y(n,"fill",t,"primaryButtonTextDisabled")}{const n=r("Graphics",["button","icon"]);n.setAll({forceInactive:!0}),y(n,"stroke",t,"primaryButtonText")}{const n=r("Label",["button"]);y(n,"fill",t,"primaryButtonText")}r("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const n=r("RoundedRectangle",["background","button","zoom"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),y(n,"fill",t,"primaryButton")}{const n=r("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});y(n,"fill",t,"primaryButtonHover")}{const n=r("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});y(n,"fill",t,"primaryButtonDown")}{const n=r("Graphics",["icon","button","zoom"]);n.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),y(n,"stroke",t,"primaryButtonText")}r("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:S,centerY:S,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const n=r("RoundedRectangle",["background","resize","button"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),y(n,"fill",t,"secondaryButton"),y(n,"stroke",t,"secondaryButtonStroke")}{const n=r("RoundedRectangle",["background","resize","button"]).states.create("hover",{});y(n,"fill",t,"secondaryButtonHover")}{const n=r("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});y(n,"fill",t,"secondaryButtonDown")}{const n=r("Graphics",["resize","button","icon"]);n.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),y(n,"stroke",t,"secondaryButtonText")}r("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),r("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),r("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const n=r("RoundedRectangle",["play","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),y(n,"fill",t,"primaryButton")}{const n=r("Graphics",["play","icon"]);n.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),y(n,"fill",t,"primaryButtonText")}r("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),r("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:n=>{n.moveTo(-4,-5),n.lineTo(-1,-5),n.lineTo(-1,5),n.lineTo(-4,5),n.lineTo(-4,-5),n.moveTo(4,-5),n.lineTo(1,-5),n.lineTo(1,5),n.lineTo(4,5),n.lineTo(4,-5)}}),r("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const n=r("RoundedRectangle",["switch","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),y(n,"fill",t,"primaryButton")}{const n=r("Circle",["switch","icon"]);n.setAll({radius:8,centerY:0,centerX:0,dx:0}),y(n,"fill",t,"primaryButtonText")}r("Graphics",["switch","icon"]).states.create("active",{dx:16}),r("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Y(W)}),r("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:x}),r("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:x}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const n=r("RoundedRectangle",["scrollbar","main","background"]);n.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),y(n,"fill",t,"fill")}{const n=r("RoundedRectangle",["scrollbar","thumb"]);n.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),y(n,"fill",t,"secondaryButton")}{const n=r("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});y(n,"fill",t,"secondaryButtonHover")}{const n=r("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});y(n,"fill",t,"secondaryButtonDown")}r("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:S,width:x,centerX:S,ariaLabel:e.translate("Use up and down arrows to move selection")}),r("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:S,centerY:S,height:x,ariaLabel:e.translate("Use left and right arrows to move selection")});{const n=r("PointedRectangle",["axis","tooltip","background"]);n.setAll({cornerRadius:0}),y(n,"fill",t,"alternativeBackground")}r("Label",["axis","tooltip"]).setAll({role:void 0}),r("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),r("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),r("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),r("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),r("Star").setAll({spikes:5,innerRadius:5,radius:10}),r("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),r("Tooltip",["indicator"]).setAll({forceHidden:!0}),r("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),r("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),r("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),r("Container",["resizer","grip"]).states.create("hover",{});{const n=r("RoundedRectangle",["resizer","grip"]);n.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),y(n,"fill",t,"background"),y(n,"stroke",t,"alternativeBackground")}{const n=r("RoundedRectangle",["resizer","grip","outline"]);n.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),n.states.create("hover",{fillOpacity:.3}),y(n,"fill",t,"alternativeBackground")}r("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),r("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const n=r("Rectangle",["resizer","rectangle"]);n.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),y(n,"stroke",t,"alternativeBackground")}r("Graphics",["button","plus","icon"]).setAll({x:S,y:S,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0),n.moveTo(0,-4),n.lineTo(0,4)}}),r("Graphics",["button","minus","icon"]).setAll({x:S,y:S,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0)}}),r("Graphics",["button","home","icon"]).setAll({x:S,y:S,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),r("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),r("ZoomTools").setAll({x,centerX:x,y:x,centerY:x,paddingRight:10,paddingBottom:10})}}class xs extends Ie{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,t,i)}}class zs{constructor(e){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}incrementRef(){}decrementRef(){}}class Ee extends Rt{constructor(e,t,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class ce extends I{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new xs}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")g(t,i=>{i.dispose()}),t.length=0,this._onDataClear();else if(e.type==="push"){const i=new Ee(this,e.newValue,this._makeDataItem(e.newValue));t.push(i),this.processDataItem(i)}else if(e.type==="setIndex"){const i=t[e.index],a=this._makeDataItem(e.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),z(a).forEach(r=>{i.animate({key:r,to:a[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if(e.type==="insertIndex"){const i=new Ee(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,i),this.processDataItem(i)}else if(e.type==="removeIndex")t[e.index].dispose(),t.splice(e.index,1);else if(e.type==="moveIndex"){const i=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},g(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},g(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&g(this._valueFields,i=>{const a=this.get(this._valueFieldsF[i].fieldKey);t[i]=e[a],t[this._valueFieldsF[i].workingKey]=t[i]}),this._fields&&g(this._fields,i=>{const a=this.get(this._fieldsF[i]);t[i]=e[a]}),t}makeDataItem(e,t){let i=new Ee(this,t,e);return this.processDataItem(i),i}pushDataItem(e,t){const i=this.makeDataItem(e,t);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,t){return M(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,t){return M(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.classNames.concat([ce.className])});function kt(s){return new Promise((e,t)=>{setTimeout(e,s)})}let je={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function It(s){switch(s){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function j(s,e){return e==null&&(e=1),je[s]*e}function Bt(s){return s?je[s.timeUnit]*s.count:0}function Ps(s,e,t,i,a){const r=s.timeUnit,n=s.count;if(r=="hour"||r=="minute"||r=="second"||r=="millisecond")return je[s.timeUnit]*s.count;{const o=Z(new Date(e.getTime()),r,n,t,i,void 0,a).getTime();let h=o+n*j(r)*1.05;return h=Z(new Date(h),r,1,t,i,void 0,a).getTime(),h-o}}function Lt(){return new Date}function Ts(){return Lt().getTime()}function Os(s){return new Date(s.getTime())}function jt(s,e,t,i,a){if(e-s>j(t,1.2))return!0;let r=new Date(s),n=new Date(e);a&&(r=a.convertLocal(r),n=a.convertLocal(n));let o=0,h=0;!i&&t!="millisecond"&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o),h=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-h));let l=!1;switch(t){case"year":r.getUTCFullYear()!=n.getUTCFullYear()&&(l=!0);break;case"month":(r.getUTCFullYear()!=n.getUTCFullYear()||r.getUTCMonth()!=n.getUTCMonth())&&(l=!0);break;case"day":(r.getUTCMonth()!=n.getUTCMonth()||r.getUTCDate()!=n.getUTCDate())&&(l=!0);break;case"hour":r.getUTCHours()!=n.getUTCHours()&&(l=!0);break;case"minute":r.getUTCMinutes()!=n.getUTCMinutes()&&(l=!0);break;case"second":r.getUTCSeconds()!=n.getUTCSeconds()&&(l=!0);break;case"millisecond":r.getTime()!=n.getTime()&&(l=!0);break}if(l)return l;let d=It(t);return d?jt(s,e,d,i,a):!1}function Cs(s,e,t,i,a){let r=0;switch(!i&&e!="millisecond"&&(r=s.getTimezoneOffset(),a&&(r-=a.offsetUTC(s)),s.setUTCMinutes(s.getUTCMinutes()-r)),e){case"day":let n=s.getUTCDate();s.setUTCDate(n+t);break;case"second":let o=s.getUTCSeconds();s.setUTCSeconds(o+t);break;case"millisecond":let h=s.getUTCMilliseconds();s.setUTCMilliseconds(h+t);break;case"hour":let l=s.getUTCHours();s.setUTCHours(l+t);break;case"minute":let d=s.getUTCMinutes();s.setUTCMinutes(d+t);break;case"year":let f=s.getUTCFullYear();s.setUTCFullYear(f+t);break;case"month":const c=s.getUTCDate(),u=new Date(s.getUTCFullYear(),s.getUTCMonth(),0).getUTCDate();let p=s.getUTCMonth();c>u?s.setUTCMonth(p+t,u):s.setUTCMonth(p+t);break;case"week":let _=s.getUTCDate();s.setUTCDate(_+t*7);break}if(!i&&e!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+r),e=="day"||e=="week"||e=="month"||e=="year")){let n=s.getTimezoneOffset();if(a&&(n+=a.offsetUTC(s)),n!=r){let o=n-r;s.setUTCMinutes(s.getUTCMinutes()+o),s.getTimezoneOffset()!=n&&s.setUTCMinutes(s.getUTCMinutes()-o)}}return s}function Ss(s,e,t,i,a){let r;return a!=null&&(r=new Date(a)),Z(new Date(s),e,t,i.locale.firstDayOfWeek,i.utc,r,i.timezone).getTime()}function Z(s,e,t,i,a,r,n){if(!n||a){let o=0;switch(!a&&e!="millisecond"&&(o=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-o)),e){case"day":let h=s.getUTCDate();if(t>1){if(r){r=Z(r,"day",1);let T=s.getTime()-r.getTime(),R=Math.floor(T/j("day")/t),w=j("day",R*t);s.setTime(r.getTime()+w-o*j("minute"))}}else s.setUTCDate(h);s.setUTCHours(0,0,0,0);break;case"second":let l=s.getUTCSeconds();t>1&&(l=Math.floor(l/t)*t),s.setUTCSeconds(l,0);break;case"millisecond":if(t==1)return s;let d=s.getUTCMilliseconds();d=Math.floor(d/t)*t,s.setUTCMilliseconds(d);break;case"hour":let f=s.getUTCHours();t>1&&(f=Math.floor(f/t)*t),s.setUTCHours(f,0,0,0);break;case"minute":let c=s.getUTCMinutes();t>1&&(c=Math.floor(c/t)*t),s.setUTCMinutes(c,0,0);break;case"month":let u=s.getUTCMonth();t>1&&(u=Math.floor(u/t)*t),s.setUTCMonth(u,1),s.setUTCHours(0,0,0,0);break;case"year":let p=s.getUTCFullYear();t>1&&(p=Math.floor(p/t)*t),s.setUTCFullYear(p,0,1),s.setUTCHours(0,0,0,0);break;case"week":if(t>1&&r){r=Z(r,"week",1);let T=s.getTime()-r.getTime(),R=Math.floor(T/j("week")/t),w=j("week",R*t);s.setTime(r.getTime()+w-o*j("minute"))}let _=s.getUTCDate(),O=s.getUTCDay();b(i)||(i=1),O>=i?_=_-O+i:_=_-(7+O)+i,s.setUTCDate(_),s.setUTCHours(0,0,0,0);break}if(!a&&e!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+o),e=="day"||e=="week"||e=="month"||e=="year")){let h=s.getTimezoneOffset();if(h!=o){let l=h-o;s.setUTCMinutes(s.getUTCMinutes()+l)}}return s}else{if(isNaN(s.getTime()))return s;let o=s.getTime(),h=n.offsetUTC(s),l=s.getTimezoneOffset(),d=n.parseDate(s),f=d.year,c=d.month,u=d.day,p=d.hour,_=d.minute,O=d.second,T=d.millisecond,R=d.weekday,w=h-l;switch(e){case"day":if(t>1&&r){r=Z(r,"day",1,i,a,void 0,n);let D=s.getTime()-r.getTime(),Q=Math.floor(D/j("day")/t),ee=j("day",Q*t);s.setTime(r.getTime()+ee),d=n.parseDate(s),f=d.year,c=d.month,u=d.day}p=0,_=w,O=0,T=0;break;case"second":_+=w,t>1&&(O=Math.floor(O/t)*t),T=0;break;case"millisecond":_+=w,t>1&&(T=Math.floor(T/t)*t);break;case"hour":t>1&&(p=Math.floor(p/t)*t),_=w,O=0,T=0;break;case"minute":t>1&&(_=Math.floor(_/t)*t),_+=w,O=0,T=0;break;case"month":t>1&&(c=Math.floor(c/t)*t),u=1,p=0,_=w,O=0,T=0;break;case"year":t>1&&(f=Math.floor(f/t)*t),c=0,u=1,p=0,_=w,O=0,T=0;break;case"week":b(i)||(i=1),R>=i?u=u-R+i:u=u-(7+R)+i,p=0,_=w,O=0,T=0;break}s=new Date(f,c,u,p,_,O,T);const v=s.getTime();let B=36e5;e=="hour"&&(B=36e5*t),v+B<=o&&(e=="hour"||e=="minute"||e=="second"||e=="millisecond")&&(s=new Date(v+B));let G=s.getTimezoneOffset(),C=n.offsetUTC(s)-G;return C!=w&&s.setTime(s.getTime()+(C-w)*6e4),s}}function At(s,e,t,i){let a=i[s],r=Bt(a),n=i.length-1;if(s>=n)return Object.assign({},i[n]);let o=Math.ceil(e/r);return e<r&&s>0?Object.assign({},i[s-1]):o<=t?Object.assign({},i[s]):s+1<i.length?At(s+1,e,t,i):Object.assign({},i[s])}function Rs(s,e){switch(e){case"day":return s.getDate();case"second":return s.getSeconds();case"millisecond":return s.getMilliseconds();case"hour":return s.getHours();case"minute":return s.getMinutes();case"month":return s.getMonth();case"year":return s.getFullYear();case"week":return xe(s)}}const Vs=Object.freeze(Object.defineProperty({__proto__:null,add:Cs,checkChange:jt,chooseInterval:At,copy:Os,getDateIntervalDuration:Ps,getDuration:j,getIntervalDuration:Bt,getNextUnit:It,getTime:Ts,getUnitValue:Rs,now:Lt,roun:Ss,round:Z,sleep:kt,timeUnitDurations:je},Symbol.toStringTag,{value:"Module"}));class Ke extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Ie}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{width:x,height:x,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){g(e,t=>{const i=t.bullets;i&&(g(i,a=>{a.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return ht(this.dataItems,t=>t.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,i){const a=t(this._root,this,e);return a&&(a._index=i,this._makeBulletReal(e,a)),a}_makeBulletReal(e,t){let i=t.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const a=this.getPrivate("baseValueSeries");a&&this._disposers.push(a.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=t||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let a=this.get("tooltip");a&&(a.hide(0),a.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let a;const r=this.get("legendDataItem");if(r&&(a=r.get("markerRectangle"),a&&this.isVisible())){if(this.isDirty("stroke")){let n=this.get("stroke");a.set("stroke",n)}if(this.isDirty("fill")){let n=this.get("fill");a.set("fill",n)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let a=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let n=a;n<r;n++){let o=this.dataItems[n];o.bullets||this._makeBullets(o)}}}_handleRemoved(){}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const a={},r={},n={},o={},h={},l={},d={},f={},c={};g(i,u=>{a[u]=0,r[u]=0,n[u]=0}),g(i,u=>{let p=u+"Change",_=u+"ChangePercent",O=u+"ChangePrevious",T=u+"ChangePreviousPercent",R=u+"ChangeSelection",w=u+"ChangeSelectionPercent",v="valueY";(u=="valueX"||u=="openValueX"||u=="lowValueX"||u=="highValueX")&&(v="valueX");const B=this.getPrivate("baseValueSeries"),G=this.getPrivate("adjustedStartIndex",e);for(let k=G;k<t;k++){const C=this.dataItems[k];if(C){let D=C.get(u);D!=null&&(n[u]++,a[u]+=D,r[u]+=Math.abs(D),f[u]=a[u]/n[u],(o[u]>D||o[u]==null)&&(o[u]=D),(h[u]<D||h[u]==null)&&(h[u]=D),d[u]=D,l[u]==null&&(l[u]=D,c[u]=D,B&&(l[v]=B._getBase(v))),e===0&&(C.setRaw(p,D-l[v]),C.setRaw(_,(D-l[v])/l[v]*100)),C.setRaw(O,D-c[v]),C.setRaw(T,(D-c[v])/c[v]*100),C.setRaw(R,D-l[v]),C.setRaw(w,(D-l[v])/l[v]*100),c[u]=D)}}if(t<this.dataItems.length-1){const k=this.dataItems[t];if(k){let C=k.get(u);k.setRaw(O,C-c[v]),k.setRaw(T,(C-c[v])/c[v]*100),k.setRaw(R,C-l[v]),k.setRaw(w,(C-l[v])/l[v]*100)}}e>0&&e--,delete c[u];for(let k=e;k<G;k++){const C=this.dataItems[k];if(C){let D=C.get(u);c[u]==null&&(c[u]=D),D!=null&&(C.setRaw(O,D-c[v]),C.setRaw(T,(D-c[v])/c[v]*100),C.setRaw(R,D-l[v]),C.setRaw(w,(D-l[v])/l[v]*100),c[u]=D)}}}),g(i,u=>{this.setPrivate(u+"AverageSelection",f[u]),this.setPrivate(u+"CountSelection",n[u]),this.setPrivate(u+"SumSelection",a[u]),this.setPrivate(u+"AbsoluteSumSelection",r[u]),this.setPrivate(u+"LowSelection",o[u]),this.setPrivate(u+"HighSelection",h[u]),this.setPrivate(u+"OpenSelection",l[u]),this.setPrivate(u+"CloseSelection",d[u])}),e===0&&t===this.dataItems.length&&g(i,u=>{this.setPrivate(u+"Average",f[u]),this.setPrivate(u+"Count",n[u]),this.setPrivate(u+"Sum",a[u]),this.setPrivate(u+"AbsoluteSum",r[u]),this.setPrivate(u+"Low",o[u]),this.setPrivate(u+"High",h[u]),this.setPrivate(u+"Open",l[u]),this.setPrivate(u+"Close",d[u])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&g(e,t=>{const i=t.minValue||this.getPrivate(t.dataField+"Low")||0,a=t.maxValue||this.getPrivate(t.dataField+"High")||0;g(t.target._entities,r=>{const n=r.dataItem.get(t.dataField);if(!b(n)){t.neutral&&r.set(t.key,t.neutral);const o=r.states;if(o){const h=o.lookup("default");h&&t.neutral&&h.set(t.key,t.neutral)}if(!t.customFunction)return}if(t.customFunction)t.customFunction.call(this,r,i,a,n);else{let o;t.logarithmic?o=(Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(n-i)/(a-i),b(n)&&(!b(o)||Math.abs(o)==1/0)&&(o=.5);let h;b(t.min)?h=t.min+(t.max-t.min)*o:t.min instanceof m?h=m.interpolate(o,t.min,t.max):t.min instanceof P&&(h=xt(o,t.min,t.max)),r.set(t.key,h);const l=r.states;if(l){const d=l.lookup("default");d&&d.set(t.key,h)}}})}),this.get("visible")){let t=this.dataItems.length,i=this.startIndex(),a=this.endIndex();a<t&&a++,i>0&&i--;for(let r=0;r<i;r++)this._hideBullets(this.dataItems[r]);for(let r=i;r<a;r++)this._positionBullets(this.dataItems[r]);for(let r=a;r<t;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(e){e.bullets&&g(e.bullets,t=>{this._positionBullet(t);const i=t.get("sprite");t.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof I&&i.walkChildren(a=>{a._markDirtyKey("fill"),a.markDirtySize(),a instanceof de&&a.text.markDirtyText()})),i instanceof de&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&g(e.bullets,t=>{let i=t.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&g(t,i=>{i.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return M(this,void 0,void 0,function*(){const a=[i.showDataItem.call(this,e,t)],r=e.bullets;r&&g(r,n=>{const o=n.get("sprite");o&&a.push(o.show(t))}),yield Promise.all(a)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return M(this,void 0,void 0,function*(){const a=[i.hideDataItem.call(this,e,t)],r=e.bullets;r&&g(r,n=>{const o=n.get("sprite");o&&a.push(o.hide(t))}),yield Promise.all(a)})}_sequencedShowHide(e,t){return M(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(b(t)||(t=this.get("interpolationDuration",0)),t>0){const i=this.startIndex(),a=this.endIndex();yield Promise.all(at(this.dataItems,(r,n)=>M(this,void 0,void 0,function*(){let o=t||0;(n<i-10||n>a+10)&&(o=0);let h=this.get("sequencedDelay",0)+o/(a-i);yield kt(h*(n-i)),e?yield this.showDataItem(r,o):yield this.hideDataItem(r,o)})))}else yield Promise.all(at(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const i=t.get("valueLabel");if(i){const r=i.text;let n="";i._setDataItem(e),n=this.get("legendValueText",r.get("text","")),i.set("text",n),r.markDirtyText()}const a=t.get("label");if(a){const r=a.text;let n="";a._setDataItem(e),n=this.get("legendLabelText",r.get("text","")),a.set("text",n),r.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}Object.defineProperty(Ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(Ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Ke.className])});class fe extends I{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(I.new(this._root,{width:x,height:x,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:x,height:x})})}}Object.defineProperty(fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.classNames.concat([fe.className])});class Ye extends fe{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{width:x,height:x,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new Pt})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if(t.type==="clear"){g(t.oldValues,r=>{this._removeSeries(r)});const i=this.get("colors");i&&i.reset();const a=this.get("patterns");a&&a.reset()}else if(t.type==="push")e.moveValue(t.newValue),this._processSeries(t.newValue);else if(t.type==="setIndex")e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="insertIndex")e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="removeIndex")this._removeSeries(t.oldValue);else if(t.type==="moveIndex")e.moveValue(t.value,t.newIndex),this._processSeries(t.value);else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e._handleRemoved(),e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([Ye.className])});export{Zt as $,Xe as A,ze as B,I as C,Ce as D,V as E,_i as F,oe as G,ti as H,Ni as I,Pe as J,Qt as K,de as L,he as M,J as N,$ as O,P,Ws as Q,le as R,Yt as S,Ve as T,_t as U,ue as V,Se as W,Re as X,Ls as Y,ui as Z,ii as _,W as a,$t as a0,re as a1,Ke as a2,y as a3,pe as a4,Ye as a5,ct as a6,Mi as a7,ki as a8,Vi as a9,$i as aA,Ms as aa,Oe as ab,Te as ac,E as ad,si as ae,ni as af,A as ag,S as ah,ae as ai,Hs as aj,Es as ak,Vs as al,js as am,Fs as an,Us as ao,Ns as ap,Kt as aq,ce as ar,Ee as as,U as at,fe as au,ne as av,xs as aw,zs as ax,Bs as ay,Zi as az,Xt as b,As as c,Ze as d,m as e,Ue as f,fi as g,di as h,Pi as i,ye as j,xi as k,Di as l,Ri as m,bi as n,Y as o,x as p,vi as q,xe as r,yi as s,wi as t,gi as u,_e as v,Jt as w,qt as x,ei as y,De as z};
