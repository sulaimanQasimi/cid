import{r as C,m as w,j as e,L as _}from"./app-CYvH7qVq.js";import{A as S}from"./app-layout-D8CMOXmr.js";import{B as b}from"./button-D1nwRxC6.js";import{L as u}from"./label-6XVlCsOW.js";import{I as B}from"./input-BnZ8WrUo.js";import{C as P}from"./checkbox-B1INEM95.js";import{C as T,a as I,b as L,d as R}from"./card-xO2iQtEj.js";import{B as A}from"./badge-XQ1wylqN.js";import{S as D}from"./separator-DX-9VLIg.js";import{K as M,C as F,a as H,b as z}from"./collapsible-BRurh4te.js";import{u as E}from"./translate-DGEDEJ-H.js";import{H as K}from"./header-B4vUTy5y.js";import{F as $}from"./FooterButtons-CtUwkBeo.js";import{P as G}from"./plus-DgfZ6xPX.js";import{C as O}from"./crown-BEUTbWmP.js";import{C as m}from"./circle-x-BAhB-7SP.js";import{C as U}from"./circle-check-big-lahhhHEb.js";import{S as X}from"./shield-Bw643vGr.js";import{C as q}from"./index-Es5U86ZM.js";import"./utils-DgNVwyJu.js";import"./x-3-mpZHUF.js";import"./createLucideIcon-jpcOI_dB.js";import"./index-Cq6F3qKm.js";import"./index-PYrQXzoj.js";import"./index-DejzrvLm.js";import"./index-DHQBn0oZ.js";import"./avatar-icvGes23.js";import"./file-text-CsGff6L2.js";import"./users-aWeu4_4Z.js";import"./tag-mrmmUEbW.js";import"./triangle-alert-qYZeAEg_.js";import"./qr-code-DfKrppCx.js";import"./map-pin-DO6YZjuW.js";import"./database-B47jGAPu.js";import"./index-Yo5Ia34e.js";import"./check-BHWxpfkQ.js";import"./permission-guard-CCYgORxh.js";import"./arrow-left-BkEgWoim.js";import"./save-CtMcZlUh.js";import"./tslib.es6-CmEaCU22.js";const J=[{title:"System Administration",href:"#"},{title:"Role Management",href:route("roles.index")},{title:"Create Role",href:route("roles.create")}];function Me({auth:Q,permissions:x,groupedPermissions:g={}}){const{t:s}=E(),[p,d]=C.useState([]),{data:o,setData:l,post:h,processing:f,errors:i}=w({name:"",permissions:[]}),c=r=>{r.preventDefault(),h(route("roles.store"))},k=r=>{const a=o.permissions.includes(r)?o.permissions.filter(t=>t!==r):[...o.permissions,r];l("permissions",a),d(a)},j=()=>{const r=x.map(a=>a.name);l("permissions",r),d(r)},y=()=>{l("permissions",[]),d([])},n=r=>({criminal:"Criminals",department:"Departments",district:"Districts",incident:"Incidents",incident_category:"Incident Categories",incident_report:"Incident Reports",info:"Information",info_category:"Info Categories",info_type:"Info Types",language:"Languages",meeting:"Meetings",meeting_message:"Meeting Messages",meeting_session:"Meeting Sessions",province:"Provinces",report:"Reports",report_stat:"Report Statistics",stat_category:"Statistics Categories",stat_category_item:"Statistics Items",translation:"Translations",user:"Users",role:"Roles",permission:"Permissions"})[r]||r,N=Object.entries(g).sort(([r],[a])=>{const t=n(r).toLowerCase(),v=n(a).toLowerCase();return t.localeCompare(v)});return e.jsxs(S,{breadcrumbs:J,children:[e.jsx(_,{title:s("roles.create_role")}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(K,{title:s("roles.create_role"),description:s("roles.create_description"),icon:e.jsx(G,{className:"h-6 w-6 text-white"}),model:"role",routeName:()=>route("roles.create"),theme:"blue",buttonText:s("common.create"),showBackButton:!0,backRouteName:()=>route("roles.index"),backButtonText:s("common.back"),showButton:!1}),e.jsxs("form",{onSubmit:c,children:[e.jsxs(T,{className:"shadow-2xl overflow-hidden bg-gradient-to-bl from-white to-blue-50/30 dark:from-gray-800 dark:to-gray-900 border-0 rounded-3xl",children:[e.jsx(I,{className:"bg-gradient-to-l from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 text-white py-6",children:e.jsxs(L,{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm shadow-lg",children:e.jsx(O,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:s("roles.role_details")}),e.jsx("div",{className:"text-blue-100 text-sm font-medium",children:s("roles.role_details_description")})]})]})}),e.jsx(R,{className:"p-8 bg-white dark:bg-gray-800",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name",className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 block",children:s("roles.role_name")}),e.jsx(B,{id:"name",type:"text",value:o.name,onChange:r=>l("name",r.target.value),placeholder:s("roles.role_name_placeholder"),className:"w-full h-12 text-lg border-blue-200 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-gradient-to-l from-blue-50 to-white dark:from-gray-700 dark:to-gray-800 text-gray-900 dark:text-gray-100 rounded-xl shadow-lg"}),i.name&&e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2 flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),i.name]})]})})})]}),e.jsx(D,{className:"my-8 bg-blue-200 dark:bg-gray-600"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:e.jsx(M,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:s("roles.permissions")}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsxs(b,{type:"button",variant:"outline",size:"sm",onClick:j,className:"bg-blue-50 dark:bg-gray-700 border-blue-200 dark:border-gray-600 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-gray-600 rounded-xl",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),s("roles.select_all")]}),e.jsxs(b,{type:"button",variant:"outline",size:"sm",onClick:y,className:"bg-blue-50 dark:bg-gray-700 border-blue-200 dark:border-gray-600 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-gray-600 rounded-xl",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),s("roles.clear_all")]})]})]}),e.jsxs("div",{className:"bg-gradient-to-l from-blue-50 to-white dark:from-gray-700 dark:to-gray-800 border-2 border-blue-200 dark:border-gray-600 rounded-2xl p-6 shadow-lg",children:[e.jsxs("p",{className:"text-blue-700 dark:text-blue-300 mb-6 font-medium",children:[p.length," ",s("roles.permissions_selected")]}),e.jsx("div",{className:"space-y-4",children:N.map(([r,a])=>e.jsxs(F,{className:"border border-blue-200 dark:border-gray-600 rounded-xl overflow-hidden",children:[e.jsxs(H,{className:"flex items-center justify-between w-full p-4 bg-gradient-to-l from-blue-100 to-blue-200 dark:from-gray-700 dark:to-gray-600 hover:from-blue-200 hover:to-blue-300 dark:hover:from-gray-600 dark:hover:to-gray-500 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(X,{className:"h-4 w-4 text-white"})}),e.jsx("h4",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:n(r)}),e.jsxs(A,{variant:"outline",className:"bg-blue-100 dark:bg-gray-600 text-blue-800 dark:text-blue-200 border-blue-300 dark:border-gray-500",children:[a.length," permissions"]})]}),e.jsx(q,{className:"h-5 w-5 text-blue-700 dark:text-blue-300 transition-transform duration-300"})]}),e.jsx(z,{className:"p-4 bg-white dark:bg-gray-800",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 dark:bg-gray-700 rounded-lg border border-blue-100 dark:border-gray-600 hover:bg-blue-100 dark:hover:bg-gray-600 transition-all duration-300",children:[e.jsx(P,{id:`permission-${t.id}`,checked:o.permissions.includes(t.name),onCheckedChange:()=>k(t.name),className:"h-4 w-4 text-blue-600 border-blue-300 rounded"}),e.jsx(u,{htmlFor:`permission-${t.id}`,className:"cursor-pointer text-sm font-medium text-blue-900 dark:text-blue-100 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300 flex-1",title:t.name,children:t.label||t.name})]},t.id))})})]},r))}),i.permissions&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-xl border border-red-200 dark:border-red-800 mt-4",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm font-medium",children:i.permissions})]})]})]}),e.jsx($,{onCancel:()=>window.history.back(),onSubmit:()=>c({}),processing:f,cancelText:s("common.cancel"),submitText:s("roles.create_role"),savingText:s("roles.creating")})]})]})]})}export{Me as default};
