import{m as P,j as e,L as V,$ as Y}from"./app-DmDo5wY0.js";import{A as z}from"./app-layout-Byv8iRic.js";import{B as E}from"./button-jP4wdIm_.js";import{C as H,a as M,b as R,d as $}from"./card-BknZm7Xo.js";import{I as y}from"./input-YCr1kgHU.js";import{L as s}from"./label-D5mp7RFi.js";import{T as U}from"./textarea-BNkQRjH9.js";import{S as d,a as p,b as m,c as _,d as h}from"./select-xLvEukcQ.js";import{u as q}from"./translate-CZarN8Xl.js";import{u as G}from"./use-permissions-BorC3lnw.js";import{a as J}from"./permission-guard-Co9KCfkG.js";import{H as K}from"./header-C9iSeL9r.js";import{F as O}from"./FooterButtons-CNTa8FCu.js";import{P as Q}from"./PersianDatePicker-CACQrMP-.js";import{m as W}from"./index-DKp1EUC0.js";import{A as X}from"./arrow-left-CVm_XHso.js";import{T as C}from"./triangle-alert-BCbMomVa.js";import"./utils-PjlJSuiK.js";import"./index-DkcfYfYU.js";import"./createLucideIcon-B3WK61Vj.js";import"./tslib.es6-CmEaCU22.js";import"./index-D_FEQydJ.js";import"./index-DUH7bDnm.js";import"./index-DD6himWL.js";import"./x-DM2uWUfX.js";import"./index-B8m0_ty6.js";import"./avatar-CYwq1lpF.js";import"./file-text-CFIJyUxo.js";import"./users-DPt7sQqw.js";import"./tag-Cgf7madg.js";import"./qr-code-DbRHfXhF.js";import"./chart-column-CKpPY5KA.js";import"./map-pin-CUovXqLP.js";import"./database-Cl-60sz0.js";import"./shield-DWNRSsYE.js";import"./index-DwPZALyi.js";import"./check-tUU232Gk.js";import"./plus-BOdD66j1.js";import"./save-fzyHwFsg.js";import"./calendar-BtwU3wUU.js";import"./chevron-left-B2vZL-Tj.js";function Me({item:n,nationalInsightCenterInfos:Z,infoCategories:S,provinces:u}){var x,f,b,j,v,N,k,w;const{t:r}=q();G();const I=t=>{if(!t)return"";try{const l=W(t);if(l.isValid())return l.format("jYYYY/jMM/jDD")}catch(l){console.error("Error converting date:",l)}return""},{data:a,setData:o,put:T,processing:B,errors:i}=P({title:n.title,registration_number:n.registration_number,info_category_id:((x=n.infoCategory)==null?void 0:x.id)||null,province_id:((f=n.province)==null?void 0:f.id)||null,district_id:((b=n.district)==null?void 0:b.id)||null,description:n.description||"",date:I(n.date)}),c=u.find(t=>t.id===a.province_id),D=(c==null?void 0:c.districts)||[],F=[{title:r("national_insight_center_info.page_title"),href:route("national-insight-center-infos.index")},{title:((j=n.nationalInsightCenterInfo)==null?void 0:j.name)||r("national_insight_center_info_item.unknown"),href:(v=n.nationalInsightCenterInfo)!=null&&v.id?route("national-insight-center-infos.show",{national_insight_center_info:n.nationalInsightCenterInfo.id}):route("national-insight-center-infos.index")},{title:r("national_insight_center_info_item.create.title"),href:"#"}],g=t=>{t&&t.preventDefault(),T(route("national-insight-center-info-items.update",n.id))},L=()=>{window.history.back()},A=t=>{o("province_id",t?parseInt(t):null),o("district_id",null)};return e.jsxs(z,{breadcrumbs:F,children:[e.jsx(V,{title:r("national_insight_center_info_item.create.title")}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(K,{title:r("national_insight_center_info_item.create.title"),description:r("national_insight_center_info_item.create.description"),icon:e.jsx(C,{className:"h-6 w-6 text-white"}),model:"national_insight_center_info_item",routeName:"national-insight-center-info-items.edit",buttonText:r("national_insight_center_info_item.create.save_button"),theme:"purple",buttonSize:"lg",showBackButton:!0,backRouteName:"national-insight-center-info-items.show",backButtonText:r("national_insight_center_info_item.create.back_button"),showButton:!1,actionButtons:e.jsx(E,{asChild:!0,variant:"outline",size:"lg",className:"bg-white/20 backdrop-blur-md border-white/30 text-white hover:bg-white/30 shadow-2xl rounded-2xl px-6 py-3 text-lg font-semibold transition-all duration-300 hover:scale-105",children:e.jsxs(Y,{href:route("national-insight-center-info-items.show",n.id),className:"flex items-center gap-3",children:[e.jsx(X,{className:"h-5 w-5"}),r("national_insight_center_info_item.create.back_button")]})})}),e.jsx(J,{model:"national_insight_center_info_item",children:e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"grid gap-8",children:[e.jsxs(H,{className:"shadow-2xl bg-gradient-to-bl from-white dark:from-gray-800 to-purple-50/30 dark:to-purple-900/20 border-0 overflow-hidden",children:[e.jsx(M,{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6",children:e.jsxs(R,{className:"text-xl font-bold flex items-center gap-3",children:[e.jsx(C,{className:"h-6 w-6"}),r("national_insight_center_info_item.create.basic_info")]})}),e.jsxs($,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(s,{htmlFor:"title",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:[r("national_insight_center_info_item.create.title")," *"]}),e.jsx(y,{id:"title",type:"text",value:a.title,onChange:t=>o("title",t.target.value),className:"h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right",placeholder:r("national_insight_center_info_item.create.title_placeholder"),dir:"rtl"}),i.title&&e.jsx("p",{className:"text-red-500 text-sm",children:i.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{id:"date",label:r("national_insight_center_info_item.create.date"),value:a.date,onChange:t=>o("date",t),error:i.date,className:"w-full h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right"}),i.date&&e.jsx("p",{className:"text-red-500 text-sm",children:i.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(s,{htmlFor:"registration_number",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:[r("national_insight_center_info_item.create.registration_number")," *"]}),e.jsx(y,{id:"registration_number",type:"text",value:a.registration_number,onChange:t=>o("registration_number",t.target.value),className:"h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right",placeholder:r("national_insight_center_info_item.create.registration_number_placeholder"),dir:"rtl"}),i.registration_number&&e.jsx("p",{className:"text-red-500 text-sm",children:i.registration_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"info_category_id",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:r("national_insight_center_info_item.create.info_category")}),e.jsxs(d,{value:((N=a.info_category_id)==null?void 0:N.toString())||"",onValueChange:t=>o("info_category_id",t?parseInt(t):null),children:[e.jsx(p,{id:"info_category_id",className:"h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right",children:e.jsx(m,{placeholder:r("national_insight_center_info_item.create.select_info_category")})}),e.jsx(_,{children:S.map(t=>e.jsx(h,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:t.color}}),t.label]})},t.id))})]}),i.info_category_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.info_category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"province_id",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:r("national_insight_center_info_item.create.province")}),e.jsxs(d,{value:((k=a.province_id)==null?void 0:k.toString())||"",onValueChange:A,children:[e.jsx(p,{id:"province_id",className:"h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right",children:e.jsx(m,{placeholder:r("national_insight_center_info_item.create.select_province")})}),e.jsx(_,{children:u.map(t=>e.jsx(h,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:t.color}}),t.name]})},t.id))})]}),i.province_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.province_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"district_id",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:r("national_insight_center_info_item.create.district")}),e.jsxs(d,{value:((w=a.district_id)==null?void 0:w.toString())||"",onValueChange:t=>o("district_id",t?parseInt(t):null),disabled:!a.province_id,children:[e.jsx(p,{id:"district_id",className:"h-12 border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(m,{placeholder:a.province_id?r("national_insight_center_info_item.create.select_district"):r("national_insight_center_info_item.create.select_province_first")})}),e.jsx(_,{children:D.map(t=>e.jsx(h,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:t.color}}),t.name]})},t.id))})]}),i.district_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.district_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"description",className:"text-base font-medium flex items-center gap-2 text-purple-700 dark:text-purple-300 text-right",dir:"rtl",children:r("national_insight_center_info_item.create.description")}),e.jsx(U,{id:"description",value:a.description,onChange:t=>o("description",t.target.value),className:"min-h-[120px] border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-purple-500/20 bg-gradient-to-l from-purple-50 dark:from-purple-900/30 to-white dark:to-gray-800 text-right resize-none",placeholder:r("national_insight_center_info_item.create.description_placeholder"),dir:"rtl"}),i.description&&e.jsx("p",{className:"text-red-500 text-sm",children:i.description})]})]})]}),e.jsx(O,{onCancel:L,onSubmit:g,processing:B,cancelText:r("national_insight_center_info_item.create.cancel_button"),submitText:r("national_insight_center_info_item.create.save_button"),savingText:r("national_insight_center_info_item.create.saving_button")})]})})})]})]})}export{Me as default};
