import{r as g,m as P,j as e,L as V}from"./app-Czsz3ga9.js";import{A as I,C as U}from"./app-layout-SMAHjsOb.js";import{B as h,c}from"./button-CKdllIOS.js";import{C as N,a as v,b,c as y,d as C,e as E}from"./card-BHa63vbK.js";import{I as n}from"./input-CyzPLHPg.js";import{L as l}from"./label-BpxGcMk3.js";import{T as m}from"./textarea-CcWYeMMo.js";import{S as q,a as H,b as G,c as J,d as w}from"./select-BF7ygK_5.js";import{T as K,a as M,b as x,c as p}from"./tabs-CDvuZITx.js";import{u as O}from"./translate-BwqIl_WO.js";import{A as Q}from"./arrow-left-DuBn3N8j.js";import{C as F,B as W}from"./camera-Cf4fjbJe.js";import{U as X}from"./user-round-CD_RH7Qg.js";import{F as Y}from"./file-text-rlW4jRe5.js";import"./index-BugM-CEt.js";import"./createLucideIcon-DJy6bF42.js";import"./index-Cm_rdgC6.js";import"./index-B2uJwltq.js";import"./index-B97srWOL.js";import"./x-Bu793gJv.js";import"./index-DRTj8I4Z.js";import"./avatar-DKeaeSW8.js";import"./app-logo-DhSe7mJZ.js";import"./app-logo-icon-DbyAI1nt.js";import"./triangle-alert-CBAp-B0X.js";import"./users--TnmxFgG.js";import"./tag-C2luWRjz.js";import"./qr-code-GVeF0qj1.js";import"./index-CrT4wfWz.js";import"./check-DwCBjevf.js";const Z=[{title:"Criminal Records",href:route("criminals.index")},{title:"Create",href:route("criminals.create")}];function ke({departments:u=[]}){const{t:a}=O(),[T,S]=g.useState("personal"),[d,k]=g.useState(null),{data:i,setData:t,post:L,processing:o,errors:s,reset:A}=P({photo:null,number:"",name:"",father_name:"",grandfather_name:"",id_card_number:"",phone_number:"",original_residence:"",current_residence:"",crime_type:"",arrest_location:"",arrested_by:"",arrest_date:"",referred_to:"",final_verdict:"",notes:"",department_id:"none"}),D=r=>{S(r)},R=r=>{if(r.target.files&&r.target.files[0]){const f=r.target.files[0];t("photo",f);const j=new FileReader;j.onload=B=>{var _;k((_=B.target)==null?void 0:_.result)},j.readAsDataURL(f)}},z=r=>{r.preventDefault(),L(route("criminals.store"),{forceFormData:!0,onSuccess:()=>{}})};return e.jsxs(I,{breadcrumbs:Z,children:[e.jsx(V,{title:a("criminal.create.page_title")}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(h,{variant:"outline",size:"sm",asChild:!0,className:"rounded-full shadow-sm",children:e.jsxs("a",{href:route("criminals.index"),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),a("criminal.create.back_to_list")]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:a("criminal.create.title")}),e.jsx("p",{className:"text-sm text-neutral-500",children:a("criminal.create.description")})]})]}),e.jsx("form",{onSubmit:z,children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs(N,{className:"lg:col-span-1 overflow-hidden border-none shadow-md",children:[e.jsxs(v,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsxs(b,{className:"flex items-center gap-2 text-lg",children:[e.jsx(F,{className:"h-5 w-5 text-neutral-500"}),a("criminal.create.photo.title")]}),e.jsx(y,{children:a("criminal.create.photo.description")})]}),e.jsx(C,{className:"p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:c("relative mb-6 h-56 w-56 overflow-hidden rounded-xl border-2 border-dashed","bg-neutral-50 text-center transition-all duration-200 hover:border-primary/50","flex items-center justify-center",d?"border-primary/30":"border-neutral-200"),children:d?e.jsx("img",{src:d,alt:a("criminal.create.photo.preview_alt"),className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center p-6",children:[e.jsx(F,{className:"mb-3 h-12 w-12 text-neutral-400"}),e.jsx("p",{className:"text-sm text-neutral-500 font-medium",children:a("criminal.create.photo.no_photo")}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:a("criminal.create.photo.hint")})]})}),e.jsx(l,{htmlFor:"photo",className:c("cursor-pointer rounded-full px-5 py-2.5 text-sm font-medium transition-colors","bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm"),children:a(d?"criminal.create.photo.change":"criminal.create.photo.upload")}),e.jsx(n,{id:"photo",type:"file",accept:"image/*",onChange:R,className:"sr-only"}),s.photo&&e.jsx("p",{className:"mt-3 text-sm text-red-500 font-medium",children:s.photo}),e.jsx("div",{className:"mt-6 text-center max-w-xs",children:e.jsx("p",{className:"text-xs text-neutral-500",children:a("criminal.create.photo.helper_text")})})]})})]}),e.jsxs(N,{className:"lg:col-span-2 border-none shadow-md overflow-hidden",children:[e.jsxs(v,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsx(b,{className:"text-lg",children:a("criminal.create.form.title")}),e.jsx(y,{children:a("criminal.create.form.description")})]}),e.jsx(C,{className:"p-6",children:e.jsxs(K,{defaultValue:"personal",value:T,onValueChange:D,className:"w-full",children:[e.jsxs(M,{className:"grid w-full grid-cols-3 mb-6 rounded-lg p-1 bg-neutral-100 dark:bg-neutral-800",children:[e.jsxs(x,{value:"personal",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.personal")})]}),e.jsxs(x,{value:"crime",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.crime")})]}),e.jsxs(x,{value:"other",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.other")})]})]}),e.jsxs(p,{value:"personal",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(l,{htmlFor:"name",className:"text-base font-medium",children:[a("criminal.create.fields.full_name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{id:"name",value:i.name,onChange:r=>t("name",r.target.value),required:!0,placeholder:a("criminal.create.placeholders.full_name"),className:"h-11"}),s.name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"father_name",className:"font-medium",children:a("criminal.create.fields.father_name")}),e.jsx(n,{id:"father_name",value:i.father_name,onChange:r=>t("father_name",r.target.value),placeholder:a("criminal.create.placeholders.father_name"),className:"h-11"}),s.father_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.father_name})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"grandfather_name",className:"font-medium",children:a("criminal.create.fields.grandfather_name")}),e.jsx(n,{id:"grandfather_name",value:i.grandfather_name,onChange:r=>t("grandfather_name",r.target.value),placeholder:a("criminal.create.placeholders.grandfather_name"),className:"h-11"}),s.grandfather_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.grandfather_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"id_card_number",className:"font-medium",children:a("criminal.create.fields.id_card_number")}),e.jsx(n,{id:"id_card_number",value:i.id_card_number,onChange:r=>t("id_card_number",r.target.value),placeholder:a("criminal.create.placeholders.id_card_number"),className:"h-11"}),s.id_card_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.id_card_number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"phone_number",className:"font-medium",children:a("criminal.create.fields.phone_number")}),e.jsx(n,{id:"phone_number",value:i.phone_number,onChange:r=>t("phone_number",r.target.value),placeholder:a("criminal.create.placeholders.phone_number"),className:"h-11"}),s.phone_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.phone_number})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"original_residence",className:"font-medium",children:a("criminal.create.fields.original_residence")}),e.jsx(m,{id:"original_residence",value:i.original_residence,onChange:r=>t("original_residence",r.target.value),rows:2,placeholder:a("criminal.create.placeholders.original_residence"),className:"min-h-[80px] resize-none"}),s.original_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.original_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"current_residence",className:"font-medium",children:a("criminal.create.fields.current_residence")}),e.jsx(m,{id:"current_residence",value:i.current_residence,onChange:r=>t("current_residence",r.target.value),rows:2,placeholder:a("criminal.create.placeholders.current_residence"),className:"min-h-[80px] resize-none"}),s.current_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.current_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"department_id",className:"font-medium",children:a("criminal.create.fields.department")}),e.jsxs(q,{value:i.department_id,onValueChange:r=>t("department_id",r),children:[e.jsx(H,{id:"department_id",className:"h-11",children:e.jsx(G,{placeholder:a("criminal.create.placeholders.department")})}),e.jsxs(J,{children:[e.jsx(w,{value:"none",children:a("criminal.create.none")}),u.length>0?u.map(r=>e.jsx(w,{value:r.id.toString(),children:r.name},r.id)):e.jsx("div",{className:"p-2 text-sm text-neutral-500",children:a("criminal.create.no_departments")})]})]}),s.department_id&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.department_id})]})]}),e.jsxs(p,{value:"crime",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"number",className:"font-medium",children:a("criminal.create.fields.record_number")}),e.jsx(n,{id:"number",value:i.number,onChange:r=>t("number",r.target.value),placeholder:a("criminal.create.placeholders.record_number"),className:"h-11"}),s.number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"crime_type",className:"font-medium",children:a("criminal.create.fields.crime_type")}),e.jsx(n,{id:"crime_type",value:i.crime_type,onChange:r=>t("crime_type",r.target.value),placeholder:a("criminal.create.placeholders.crime_type"),className:"h-11"}),s.crime_type&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.crime_type})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"arrest_date",className:"font-medium",children:a("criminal.create.fields.arrest_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"arrest_date",type:"date",value:i.arrest_date,onChange:r=>t("arrest_date",r.target.value),className:"h-11"}),e.jsx(U,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-400 pointer-events-none"})]}),s.arrest_date&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_date})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"arrest_location",className:"font-medium",children:a("criminal.create.fields.arrest_location")}),e.jsx(n,{id:"arrest_location",value:i.arrest_location,onChange:r=>t("arrest_location",r.target.value),placeholder:a("criminal.create.placeholders.arrest_location"),className:"h-11"}),s.arrest_location&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_location})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"arrested_by",className:"font-medium",children:a("criminal.create.fields.arrested_by")}),e.jsx(n,{id:"arrested_by",value:i.arrested_by,onChange:r=>t("arrested_by",r.target.value),placeholder:a("criminal.create.placeholders.arrested_by"),className:"h-11"}),s.arrested_by&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrested_by})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"referred_to",className:"font-medium",children:a("criminal.create.fields.referred_to")}),e.jsx(n,{id:"referred_to",value:i.referred_to,onChange:r=>t("referred_to",r.target.value),placeholder:a("criminal.create.placeholders.referred_to"),className:"h-11"}),s.referred_to&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.referred_to})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"final_verdict",className:"font-medium",children:a("criminal.create.fields.final_verdict")}),e.jsx(m,{id:"final_verdict",value:i.final_verdict,onChange:r=>t("final_verdict",r.target.value),rows:3,placeholder:a("criminal.create.placeholders.final_verdict"),className:"min-h-[120px] resize-none"}),s.final_verdict&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.final_verdict})]})]}),e.jsx(p,{value:"other",className:"space-y-6 pt-2",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"notes",className:"font-medium",children:a("criminal.create.fields.notes")}),e.jsx(m,{id:"notes",value:i.notes,onChange:r=>t("notes",r.target.value),rows:8,placeholder:a("criminal.create.placeholders.notes"),className:"min-h-[240px]"}),s.notes&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.notes}),e.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:a("criminal.create.notes_helper")})]})})]})}),e.jsxs(E,{className:"flex justify-between border-t px-6 py-5 bg-neutral-50 dark:bg-neutral-900",children:[e.jsx(h,{variant:"outline",onClick:()=>A(),type:"button",disabled:o,className:"rounded-full",children:a("criminal.create.reset")}),e.jsx(h,{type:"submit",disabled:o,className:"rounded-full px-8 font-medium",children:a(o?"criminal.create.saving":"criminal.create.save")})]})]})]})})]})]})}export{ke as default};
