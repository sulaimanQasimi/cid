import{r as l,j as e,L as x,a as p,S as u}from"./app-CM7uW6lJ.js";import{u as h}from"./translate-C3YgOoNm.js";import{Q as f}from"./qr-code-DDAxY0pV.js";import{F as g}from"./file-text-C-EKfmth.js";import{S as j}from"./search-yv2lXoY3.js";import"./createLucideIcon-BrIz4qNB.js";function S({}){const{t:s}=h(),[r,d]=l.useState(""),[n,o]=l.useState(!1),[c,t]=l.useState(null),m=async a=>{if(a.preventDefault(),!r.trim()){t(s("reports.scan.error_enter_code"));return}o(!0),t(null);try{const i=await p.get(`/api/reports/code/${r.trim()}`);i.data&&i.data.success?u.visit(route("reports.view_by_code",{code:r.trim()})):t(s("reports.view.error_not_found"))}catch{t(s("reports.scan.error_failed_find"))}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:s("reports.scan.page_title")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:s("reports.scan.page_title")})}),e.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-block p-4 bg-primary/10 rounded-full mb-4",children:e.jsx(f,{size:40,className:"text-primary"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s("reports.scan.enter_code")}),e.jsx("p",{className:"text-gray-600 mt-2",children:s("reports.scan.enter_code_hint")})]}),e.jsx("form",{onSubmit:m,className:"max-w-md mx-auto",children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(g,{className:"w-5 h-5 text-gray-500"})}),e.jsx("input",{type:"text",id:"code",value:r,onChange:a=>d(a.target.value),className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full pl-10 p-2.5",placeholder:s("reports.scan.placeholder"),required:!0})]}),e.jsx("button",{type:"submit",disabled:n,className:"p-2.5 ml-2 text-sm font-medium text-white bg-primary rounded-lg border border-primary hover:bg-primary/90 focus:ring-4 focus:outline-none focus:ring-primary/50",children:n?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(j,{className:"w-5 h-5"})})]}),c&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s("reports.scan.instructions_title")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:s("reports.scan.instructions.step1")}),e.jsx("li",{children:s("reports.scan.instructions.step2")}),e.jsx("li",{children:s("reports.scan.instructions.step3")})]})})]})]})})})})]})}export{S as default};
