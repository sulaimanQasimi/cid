import{r as m,j as e,L as D,S as h}from"./app-C8epMaMb.js";import{A as B}from"./app-layout-DNPQfFHo.js";import{B as T}from"./button-FVzS-Mc_.js";import{C as y,d as _,a as F,b as I}from"./card-Dc9tAsBm.js";import{B as l}from"./badge-C06umBN0.js";import{u as O}from"./translate-BqC4VRD_.js";import{f as b}from"./date-BaJKjiu2.js";import{P as E}from"./pagination-3D1JHHLQ.js";import{H as L}from"./header-rlYoeJi0.js";import{S as U}from"./SearchFilters-DSU2YmuC.js";import{T as A}from"./trending-up-DRuoOgyF.js";import{T as H}from"./triangle-alert-CZ4doazR.js";import{U as o}from"./user-CsE-jtCm.js";import{C as M}from"./select-BPRPaehj.js";import{C as Q}from"./index-D7De99k_.js";import{P as R}from"./phone-CnEnDfq0.js";import{B as $}from"./building-2-COFGvjPb.js";import{M as z}from"./map-pin-sI61wtIO.js";import{F as q}from"./file-text-Z2c-lbJ0.js";import{C as u}from"./calendar-Bvs9CSTm.js";import"./utils-COgRKxrs.js";import"./x-BrThxcKt.js";import"./createLucideIcon-qDZgiwxw.js";import"./index-CIwqpUZw.js";import"./index-C7aTAxJs.js";import"./index-Dx2PLc5V.js";import"./index-4m8-kKJv.js";import"./avatar-B4qs7XNX.js";import"./users-Bk2D86vC.js";import"./tag-DhnNX__m.js";import"./qr-code-DO8T_6St.js";import"./chart-column-KAbdIzDD.js";import"./database-DThzFDZb.js";import"./shield-B0cWtj1R.js";import"./chevron-left-DTrTNk-3.js";import"./permission-guard-DCkeb0oR.js";import"./arrow-left-gn33pNEq.js";import"./plus-ZaAjpx9i.js";import"./input-Bl2s9SJ5.js";import"./search-BHIAAvkd.js";import"./filter-x-vu7IJKlA.js";import"./arrow-up-down-B_kL1C5J.js";import"./index-BCBCmRWV.js";import"./check-0f0Vyckc.js";import"./tslib.es6-CmEaCU22.js";const G=[{value:"name",label:"criminal.comprehensive_list.sort_options.name"},{value:"number",label:"criminal.comprehensive_list.sort_options.number"},{value:"crime_type",label:"criminal.comprehensive_list.sort_options.crime_type"},{value:"arrest_date",label:"criminal.comprehensive_list.sort_options.arrest_date"},{value:"department_id",label:"criminal.comprehensive_list.sort_options.department_id"},{value:"id_card_number",label:"criminal.comprehensive_list.sort_options.id_card_number"},{value:"phone_number",label:"criminal.comprehensive_list.sort_options.phone_number"},{value:"created_at",label:"criminal.comprehensive_list.sort_options.created_at"},{value:"updated_at",label:"criminal.comprehensive_list.sort_options.updated_at"}],J=[{value:10,label:"criminal.comprehensive_list.per_page_option"},{value:25,label:"criminal.comprehensive_list.per_page_option"},{value:50,label:"criminal.comprehensive_list.per_page_option"},{value:100,label:"criminal.comprehensive_list.per_page_option"}],K=({criminal:r,t:a})=>{const[i,s]=m.useState(!1);return e.jsxs(y,{className:"group overflow-hidden border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1 rounded-xl",children:[e.jsxs(F,{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 dark:from-blue-600 dark:via-blue-700 dark:to-blue-800 text-white p-4 relative overflow-hidden",onClick:()=>s(!i),children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full -ml-12 -mb-12"})]}),e.jsxs("div",{className:"relative flex items-start justify-between gap-3 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.photo?e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:`/storage/${r.photo}`,alt:r.name,className:"w-14 h-14 object-cover rounded-xl border-[3px] border-white/30 shadow-xl ring-2 ring-white/20"}),e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/10 to-transparent"})]}):e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center border-2 border-white/30 shadow-xl ring-2 ring-white/20 flex-shrink-0",children:e.jsx(o,{className:"h-7 w-7 text-white/90"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(I,{className:"text-lg font-bold text-white mb-2 truncate leading-tight",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.number&&e.jsxs(l,{className:"bg-white/25 text-white border-white/40 text-xs font-mono px-2 py-0.5 font-medium backdrop-blur-sm shadow-sm",dir:"ltr",children:["#",r.number]}),r.crime_type&&e.jsx(l,{className:"bg-red-500/90 text-white border-red-400/50 text-xs px-2 py-0.5 font-medium shadow-sm",children:r.crime_type})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[e.jsxs(l,{className:"bg-white/25 text-white border-white/40 text-xs font-mono px-2 py-1 font-semibold backdrop-blur-sm shadow-sm",dir:"ltr",children:["ID: ",r.id]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:n=>{n.stopPropagation(),s(!i)},className:"h-7 w-7 p-0 text-white hover:bg-white/25 rounded-lg transition-all duration-200 hover:scale-110 shadow-sm",children:i?e.jsx(M,{className:"h-4 w-4 transition-transform duration-200"}):e.jsx(Q,{className:"h-4 w-4 transition-transform duration-200"})})]})]})]}),e.jsxs(_,{className:"p-4 space-y-3 bg-gradient-to-b from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-900/50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.father_name&&e.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/20 rounded-lg p-2.5 border border-blue-100 dark:border-blue-800/50",children:[e.jsx("p",{className:"text-[10px] font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wide mb-1",children:a("criminal.comprehensive_list.table.father_name")}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold truncate",children:r.father_name})]}),r.phone_number&&e.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/20 rounded-lg p-2.5 border border-green-100 dark:border-green-800/50",children:[e.jsxs("p",{className:"text-[10px] font-medium text-green-700 dark:text-green-300 uppercase tracking-wide mb-1 flex items-center gap-1",children:[e.jsx(R,{className:"h-3 w-3"}),a("criminal.comprehensive_list.table.phone_number")]}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold",dir:"ltr",children:r.phone_number})]}),r.department&&e.jsxs("div",{className:"col-span-2 bg-purple-50/50 dark:bg-purple-900/20 rounded-lg p-2.5 border border-purple-100 dark:border-purple-800/50",children:[e.jsxs("p",{className:"text-[10px] font-medium text-purple-700 dark:text-purple-300 uppercase tracking-wide mb-1.5 flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"}),a("criminal.comprehensive_list.table.department")]}),e.jsx(l,{variant:"outline",className:"bg-white dark:bg-gray-800 text-xs font-semibold border-purple-200 dark:border-purple-700",children:r.department.name})]})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${i?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:i&&e.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(r.grandfather_name||r.id_card_number)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(o,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"})}),a("criminal.comprehensive_list.card.personal_info")]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pl-8",children:[r.grandfather_name&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[a("criminal.comprehensive_list.table.grandfather_name"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold",children:r.grandfather_name})]}),r.id_card_number&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[a("criminal.comprehensive_list.table.id_card_number"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold font-mono",dir:"ltr",children:r.id_card_number})]})]})]}),(r.original_residence||r.current_residence)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(z,{className:"h-3.5 w-3.5 text-orange-600 dark:text-orange-400"})}),a("criminal.comprehensive_list.card.residence")]}),e.jsxs("div",{className:"space-y-2 pl-8",children:[r.original_residence&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-md p-2.5",children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:a("criminal.comprehensive_list.table.original_residence")}),e.jsx("p",{className:"text-xs text-gray-900 dark:text-gray-100",children:r.original_residence})]}),r.current_residence&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-md p-2.5",children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:a("criminal.comprehensive_list.table.current_residence")}),e.jsx("p",{className:"text-xs text-gray-900 dark:text-gray-100",children:r.current_residence})]})]})]}),(r.arrest_location||r.arrested_by||r.arrest_date||r.referred_to)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e.jsx(q,{className:"h-3.5 w-3.5 text-red-600 dark:text-red-400"})}),a("criminal.comprehensive_list.card.crime_info")]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pl-8",children:[r.arrest_location&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[a("criminal.comprehensive_list.table.arrest_location"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold text-right max-w-[60%] truncate",children:r.arrest_location})]}),r.arrested_by&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[a("criminal.comprehensive_list.table.arrested_by"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold",children:r.arrested_by})]}),r.arrest_date&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),a("criminal.comprehensive_list.table.arrest_date"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold",children:b(r.arrest_date)})]}),r.referred_to&&e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[a("criminal.comprehensive_list.table.referred_to"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 font-semibold",children:r.referred_to})]})]})]}),r.final_verdict&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 mb-2",children:a("criminal.comprehensive_list.table.final_verdict")}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800/50 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-200 leading-relaxed",children:r.final_verdict})})]}),r.notes&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 mb-2",children:a("criminal.comprehensive_list.table.notes")}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed line-clamp-4",children:r.notes})})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[r.creator&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"p-1 bg-gray-100 dark:bg-gray-700 rounded",children:e.jsx(o,{className:"h-3 w-3"})}),e.jsx("span",{className:"font-medium",children:r.creator.name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"p-1 bg-gray-100 dark:bg-gray-700 rounded",children:e.jsx(u,{className:"h-3 w-3"})}),e.jsx("span",{className:"font-medium",children:b(r.created_at)})]})]})]})})]})]})};function Me({criminals:r,departments:a=[],filters:i}){var g;const{t:s}=O(),n=[{title:s("criminal.comprehensive_list.page_title"),href:route("criminals.comprehensive_list")}],[c,p]=m.useState(i.search),[f,x]=m.useState(((g=i.department_id)==null?void 0:g.toString())||""),v=t=>{t.preventDefault(),d({search:c})},j=t=>{d({sort:t})},N=()=>{const t=i.direction==="asc"?"desc":"asc";d({direction:t})},k=t=>{d({per_page:parseInt(t)})},w=t=>{x(t);const P=t==="_all"||t===""?void 0:parseInt(t);d({department_id:P})},d=t=>{h.get(route("criminals.comprehensive_list"),{...i,...t,page:1},{preserveState:!0,preserveScroll:!0})},C=()=>{p(""),x(""),h.get(route("criminals.comprehensive_list"),{search:"",sort:"created_at",direction:"desc",per_page:25,page:1,department_id:void 0})},S=[{value:"_all",label:s("criminal.all_departments")},...a.map(t=>({value:t.id.toString(),label:t.name}))];return e.jsxs(B,{breadcrumbs:n,children:[e.jsx(D,{title:s("criminal.comprehensive_list.page_title")}),e.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8 py-4 sm:py-6 max-w-[1920px] mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx(L,{title:s("criminal.comprehensive_list.page_title"),description:s("criminal.comprehensive_list.page_description"),icon:e.jsx(A,{className:"h-6 w-6 text-white"}),model:"criminal",routeName:"criminals.comprehensive_list",theme:"blue",showBackButton:!1,showButton:!1,buttonText:""})}),e.jsx("div",{className:"mb-6",children:e.jsx(U,{title:s("criminal.comprehensive_list.search_filters"),description:s("criminal.comprehensive_list.table.description"),searchQuery:c,onSearchChange:p,onSearchSubmit:v,searchPlaceholder:s("criminal.comprehensive_list.search_placeholder"),filters:{sort:i.sort,direction:i.direction,per_page:i.per_page,department:f||"_all"},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:w,onSortChange:j,onDirectionChange:N,onPerPageChange:k,onResetFilters:C,types:[],categories:[],departments:S,sortOptions:G.map(t=>({value:t.value,label:s(t.label)})),perPageOptions:J.map(t=>({value:t.value,label:t.value.toString()}))})}),r.meta&&e.jsx("div",{className:"mb-5 px-2",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:s("criminal.comprehensive_list.results_count",{total:r.meta.total.toString(),from:r.meta.from.toString(),to:r.meta.to.toString()})})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5",children:r.data&&r.data.length>0?r.data.map(t=>e.jsx(K,{criminal:t,t:s},t.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(y,{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:e.jsxs(_,{className:"flex flex-col items-center justify-center py-20 px-4",children:[e.jsx("div",{className:"rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 p-6 mb-5 shadow-lg",children:e.jsx(H,{className:"h-16 w-16 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:s("criminal.comprehensive_list.no_records")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center max-w-md",children:s("criminal.comprehensive_list.no_records_description")})]})})})}),r&&r.links&&r.links.length>0&&e.jsx("div",{className:"mt-6 sm:mt-8 flex justify-center",children:e.jsx(E,{links:r.links})})]})]})}export{Me as default};
