import{r as v,j as e,L as _,$ as a,S as b,t as y}from"./app-3e9ZfCZj.js";import{B as t}from"./button-tOsBMVu3.js";import{B as d}from"./badge-Dcgw1Reo.js";import{C as n,d as o,a as w,b as D,c as B}from"./card-CPvNgHsq.js";import{P as U}from"./page-header-ClrMVESu.js";import{A as $,C as E}from"./app-layout-7lRn1_rF.js";import{A as H,a as O,b as q,c as F,d as M,e as V,f as z,g as R}from"./alert-dialog-Dy-35kHD.js";import{A as G}from"./arrow-left-DyCW_lBj.js";import{D as C}from"./users-D8IR1cY7.js";import{S as J}from"./square-pen-BEaAvtxH.js";import{T as A}from"./trash-DnVSAAtA.js";import{T as K}from"./triangle-alert-CB08x4VC.js";import{T as k}from"./tag-Cbang5gX.js";import{c as Q}from"./createLucideIcon-BtOnYZj6.js";import{U as W}from"./user-DtgIclHT.js";import{f as I}from"./index-CaunA62S.js";import{C as X}from"./clock-Bc5O7ajc.js";import{L as Y}from"./loader-circle-D0jtNUOC.js";import"./index-CkvEONY9.js";import"./index-CSgRh3VG.js";import"./index-BiOWnkU5.js";import"./index-C3obqkZ2.js";import"./x-DTbSmVa3.js";import"./index-BbGum64W.js";import"./avatar-CnrxwdK1.js";import"./app-logo-pu7XLt_2.js";import"./app-logo-icon-CH0F37vC.js";import"./file-text-W_Iskmvy.js";import"./qr-code-CqMqn-r0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L=Q("Layers",Z);function Le({item:s,hasChildren:c}){var h,u,f,j,p,g,N;const S=[{title:"Dashboard",href:"/dashboard"},{title:"Settings",href:"#"},{title:"Stat Categories",href:route("stat-categories.index")},{title:((h=s.category)==null?void 0:h.label)||"Category",href:route("stat-categories.show",(u=s.category)==null?void 0:u.id)},{title:s.name,href:route("stat-category-items.show",s.id)}],[T,l]=v.useState(!1),[i,m]=v.useState(!1);function x(){l(!0)}function P(){m(!0),b.delete(route("stat-category-items.destroy",s.id),{onSuccess:()=>{y.success(`Item "${s.name}" deleted successfully`),b.visit(route("stat-category-items.index",{category_id:s.stat_category_id}))},onError:r=>{m(!1),l(!1),y.error("Failed to delete item"),console.error(r)}})}return e.jsxs($,{breadcrumbs:S,children:[e.jsx(_,{title:`Item - ${s.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(U,{title:s.label,description:`Item: ${s.name}`,actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.index",{category_id:s.stat_category_id}),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsx(t,{asChild:!0,variant:"outline",children:e.jsxs(a,{href:route("stat-categories.show",(f=s.category)==null?void 0:f.id),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"View Category"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.edit",s.id),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(t,{variant:"destructive",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})}),c&&e.jsx(n,{className:"bg-amber-50 dark:bg-amber-950 border-amber-200 dark:border-amber-800 mb-2",children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"text-amber-600 dark:text-amber-400",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-800 dark:text-amber-300",children:"This item has child items"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Values cannot be assigned to this item because it has children. Values can only be assigned to leaf items without children."})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(n,{className:"md:col-span-2",children:[e.jsxs(w,{children:[e.jsx(D,{children:"Item Details"}),e.jsx(B,{children:"Detailed information about this statistical category item"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 border-b pb-4",children:[e.jsx(d,{variant:s.status==="active"?"default":"secondary",className:"flex items-center",children:s.status}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:[e.jsx("div",{className:"mr-1 h-3 w-3 rounded-full",style:{backgroundColor:s.color||((j=s.category)==null?void 0:j.color)}}),s.color||"Using category default color"]}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:["Order: ",s.order]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Information"}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"System Name: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Display Label: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.label})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Category: "}),e.jsx(a,{href:route("stat-categories.show",(p=s.category)==null?void 0:p.id),className:"ml-1 font-medium text-primary hover:underline",children:(g=s.category)==null?void 0:g.label})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hierarchy Information"}),e.jsxs("div",{className:"mt-2 space-y-3 text-sm",children:[s.parent&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Parent Item:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(a,{href:route("stat-category-items.show",s.parent.id),className:"text-primary hover:underline",children:s.parent.label})]})]}),c&&s.children&&s.children.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Child Items:"}),e.jsx("div",{className:"space-y-1 ml-6",children:s.children.map(r=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(a,{href:route("stat-category-items.show",r.id),className:"text-primary hover:underline",children:r.label})]},r.id))})]}),!s.parent&&(!s.children||s.children.length===0)&&e.jsx("div",{className:"text-muted-foreground",children:"This is a standalone item with no parent or children."})]})]})]})]}),e.jsxs(n,{children:[e.jsx(w,{children:e.jsx(D,{children:"Item Information"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(W,{className:"h-4 w-4 mr-2 text-muted-foreground"}),((N=s.creator)==null?void 0:N.name)||"Unknown"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(E,{className:"h-4 w-4 mr-2 text-muted-foreground"}),I(new Date(s.created_at),"PPP")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(X,{className:"h-4 w-4 mr-2 text-muted-foreground"}),I(new Date(s.updated_at),"PPP p")]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(t,{variant:"destructive",className:"w-full",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete Item"]})})]})]})]})]}),e.jsx(H,{open:T,onOpenChange:l,children:e.jsxs(O,{children:[e.jsxs(q,{children:[e.jsx(F,{children:"Are you sure?"}),e.jsxs(M,{children:["This will permanently delete the item",e.jsxs("span",{className:"font-semibold",children:[" ",s.name]}),". This action cannot be undone."]})]}),e.jsxs(V,{children:[e.jsx(z,{disabled:i,children:"Cancel"}),e.jsx(R,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}export{Le as default};
