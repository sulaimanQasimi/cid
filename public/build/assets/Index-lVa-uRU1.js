import{r as o,j as e,L as T,$ as p,S as x}from"./app-BoRYl7ul.js";import{A}from"./app-layout-Dt0eGsm9.js";import{B as m}from"./button-t4nte1w6.js";import{T as P,a as B,b as g,c as l,d as F,e as r}from"./table-C1m_sxUA.js";import{B as u}from"./badge-A505B3UT.js";import{C as O,d as H}from"./card-D2OxhE_x.js";import{A as z,a as E,b as I,c as R,d as L,e as $,f as Q,g as U}from"./alert-dialog-Bydk8-Gr.js";import{u as V}from"./translate-Ci5XD_xD.js";import{f as q}from"./date-BaJKjiu2.js";import{u as G}from"./use-permissions-Bmk99bbI.js";import{C as J,a as K,b as M}from"./permission-guard-CAt00NHa.js";import{P as W}from"./pagination-ByaZ4z0x.js";import{H as X}from"./header-X5N3awQB.js";import{S as Y}from"./SearchFilters-CXLlxrU5.js";import{T as Z}from"./trending-up-MTAB7XLj.js";import{E as ee}from"./eye-Gxgiu2Tv.js";import{P as ae}from"./pencil-UiIlozZZ.js";import{T as te}from"./trash-Cs2O4feb.js";import{C as re}from"./chart-column-VbbG3CS0.js";import{T as se}from"./triangle-alert-CAu2JsQY.js";import"./utils-CAQgsxix.js";import"./index-C_llV4y3.js";import"./createLucideIcon-0s2WbM7B.js";import"./index-C7EozwEa.js";import"./index-grl2zDGr.js";import"./index-BaIfncEH.js";import"./x-BOP-VcZp.js";import"./index-BMYc3FXi.js";import"./avatar-DYzCEtzG.js";import"./file-text-dEx5Ek9_.js";import"./users-DUE_lbIG.js";import"./tag-CA1YiYoc.js";import"./qr-code-Bmlv7TNf.js";import"./map-pin-DgBMy3fb.js";import"./database-si5r_ZNU.js";import"./arrow-left-unmuUYR6.js";import"./plus-CRqePd-M.js";import"./select-CrS_PFZv.js";import"./index-D4JEb4Nb.js";import"./check-BQ8i0qzv.js";import"./input-hl5R3Dlf.js";import"./search-CaQD6ukm.js";import"./filter-x-DLykwKcM.js";import"./arrow-up-down-B2FNzBgl.js";const ie=[{value:"name",label:"criminal.sort_options.name"},{value:"number",label:"criminal.sort_options.number"},{value:"crime_type",label:"criminal.sort_options.crime_type"},{value:"arrest_date",label:"criminal.sort_options.arrest_date"},{value:"department_id",label:"criminal.sort_options.department_id"},{value:"created_at",label:"criminal.sort_options.created_at"},{value:"updated_at",label:"criminal.sort_options.updated_at"}],le=[{value:10,label:"criminal.per_page_option"},{value:25,label:"criminal.per_page_option"},{value:50,label:"criminal.per_page_option"},{value:100,label:"criminal.per_page_option"}];function ta({criminals:s,departments:ne=[],filters:i,auth:oe}){G();const{t}=V(),j=[{title:t("criminal.page_title"),href:route("criminals.index")}],[h,y]=o.useState(i.search),[_,c]=o.useState(!1),[n,b]=o.useState(null),[ce,f]=o.useState(i.department_id||""),[de,me]=o.useState(!1),N=a=>{a.preventDefault(),d({search:h})},k=a=>{d({sort:a})},C=()=>{const a=i.direction==="asc"?"desc":"asc";d({direction:a})},v=a=>{d({per_page:parseInt(a)})},d=a=>{x.get(route("criminals.index"),{...i,...a,page:1},{preserveState:!0,preserveScroll:!0})},D=()=>{y(""),f(""),x.get(route("criminals.index"),{search:"",sort:"created_at",direction:"desc",per_page:10,page:1,department_id:void 0})},w=a=>{b(a),c(!0)},S=()=>{n&&x.delete(route("criminals.destroy",n.id),{onSuccess:()=>{c(!1),b(null)}})};return e.jsxs(A,{breadcrumbs:j,children:[e.jsx(T,{title:t("criminal.page_title")}),e.jsx(z,{open:_,onOpenChange:c,children:e.jsxs(E,{children:[e.jsxs(I,{children:[e.jsx(R,{children:t("criminal.delete_dialog.title")}),e.jsx(L,{children:t("criminal.delete_dialog.description",{name:(n==null?void 0:n.name)||""})})]}),e.jsxs($,{children:[e.jsx(Q,{onClick:()=>c(!1),children:t("criminal.delete_dialog.cancel")}),e.jsx(U,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:t("criminal.delete_dialog.confirm")})]})]})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(X,{title:t("criminal.page_title"),description:t("criminal.page_description"),icon:e.jsx(Z,{className:"h-6 w-6 text-white"}),model:"criminal",routeName:"criminals.create",theme:"blue",buttonText:t("criminal.add_button"),showBackButton:!0,backRouteName:()=>route("criminals.index"),backButtonText:t("common.back_to_list")}),e.jsx(Y,{title:t("criminal.search_filters"),description:t("criminal.table.description"),searchQuery:h,onSearchChange:y,onSearchSubmit:N,filters:{sort:i.sort,direction:i.direction,per_page:i.per_page},onTypeChange:()=>{},onCategoryChange:()=>{},onDepartmentChange:()=>{},onSortChange:k,onDirectionChange:C,onPerPageChange:v,onResetFilters:D,types:[],categories:[],departments:[],sortOptions:ie,perPageOptions:le}),e.jsx("div",{className:"mt-8",children:e.jsx(O,{className:"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm",children:e.jsx(H,{className:"p-0",children:e.jsxs(P,{children:[e.jsx(B,{children:e.jsxs(g,{className:"bg-gray-50 dark:bg-gray-700",children:[e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("common.table.id")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.name")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.number")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.crime_type")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.department")}),e.jsx(l,{className:"px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.arrest_date")}),e.jsx(l,{className:"px-6 py-4 text-right font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.table.actions")})]})}),e.jsx(F,{children:s.data&&s.data.length>0?s.data.map(a=>e.jsxs(g,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[e.jsx(r,{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:a.id}),e.jsx(r,{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx(r,{className:"px-6 py-4 text-gray-900 dark:text-gray-100",children:a.number||"-"}),e.jsx(r,{className:"px-6 py-4",children:a.crime_type?e.jsx(u,{variant:"secondary",className:"bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200",children:a.crime_type}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(r,{className:"px-6 py-4",children:a.department?e.jsx(u,{variant:"secondary",className:"bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200",children:a.department.name}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(r,{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:a.arrest_date?q(a.arrest_date):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"})}),e.jsx(r,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(J,{model:"criminal",children:e.jsx(m,{variant:"ghost",size:"icon",asChild:!0,title:t("criminal.actions.view"),className:"h-8 w-8",children:e.jsx(p,{href:route("criminals.show",a.id),children:e.jsx(ee,{className:"h-4 w-4"})})})}),e.jsx(K,{model:"criminal",children:e.jsx(m,{variant:"ghost",size:"icon",asChild:!0,title:t("criminal.actions.edit"),className:"h-8 w-8",children:e.jsx(p,{href:route("criminals.edit",a.id),children:e.jsx(ae,{className:"h-4 w-4"})})})}),e.jsx(M,{model:"criminal",children:e.jsx(m,{variant:"ghost",size:"icon",onClick:()=>w(a),title:t("criminal.actions.delete"),className:"h-8 w-8",children:e.jsx(te,{className:"h-4 w-4"})})}),e.jsx(m,{variant:"ghost",size:"icon",asChild:!0,title:t("criminal.analytics.view_analytics"),className:"h-8 w-8",children:e.jsx(p,{href:`/analytics/Criminal/${a.id}`,children:e.jsx(re,{className:"h-4 w-4"})})})]})})]},a.id)):e.jsx(g,{children:e.jsx(r,{colSpan:7,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-700 p-4",children:e.jsx(se,{className:"h-8 w-8 text-gray-500 dark:text-gray-400"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t("criminal.no_records")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("criminal.no_records_description")})]})})})})]})})})}),s&&s.links&&s.links.length>0&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(W,{links:s.links})})]})]})}export{ta as default};
