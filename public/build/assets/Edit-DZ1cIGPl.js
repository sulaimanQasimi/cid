import{r as N,m as V,j as e,L as E}from"./app-CaOFbb5p.js";import{A as I,C as M}from"./app-layout-BnaWUlXy.js";import{B as h,c}from"./button-BgmOCw2s.js";import{C as v,a as b,b as y,c as w,d as C,e as q}from"./card-BisyDRUw.js";import{I as d}from"./input-DrjUjM4t.js";import{L as i}from"./label-By-k24MW.js";import{T as m}from"./textarea-OCevsACY.js";import{S as H,a as $,b as G,c as J,d as F}from"./select-3Nojfdid.js";import{T as K,a as O,b as p,c as x}from"./tabs-DUeeOJEC.js";import{u as Q}from"./translate-TdXOf_jB.js";import{f as W}from"./index-CaunA62S.js";import{A as X}from"./arrow-left-7nojBI5D.js";import{C as T,B as Y}from"./camera-CUznxL4J.js";import{U as Z}from"./user-round-Dfc-YZ5W.js";import{F as ee}from"./file-text-tQrNfThz.js";import"./index-djsfXYng.js";import"./createLucideIcon-YrFxUe8D.js";import"./index-QYTXijtn.js";import"./index-CMwx1BFh.js";import"./index-Dz_2ROfM.js";import"./x-BX68FbZw.js";import"./index-CB1115OV.js";import"./avatar-DwlMoviI.js";import"./app-logo-DEy1bYcE.js";import"./app-logo-icon-BNvkhmTw.js";import"./triangle-alert-DwpGNmzU.js";import"./users-DacFqtlq.js";import"./tag-CRH5rx9C.js";import"./qr-code-DvifJzwA.js";import"./index-DDgQmr6Z.js";import"./check-DaBvgJmp.js";function De({criminal:t,departments:u=[]}){const{t:a}=Q(),[S,k]=N.useState("personal"),[o,A]=N.useState(t.photo?`/storage/${t.photo}`:null),{data:n,setData:l,post:L,processing:f,errors:s}=V({_method:"PUT",photo:null,number:t.number||"",name:t.name||"",father_name:t.father_name||"",grandfather_name:t.grandfather_name||"",id_card_number:t.id_card_number||"",phone_number:t.phone_number||"",original_residence:t.original_residence||"",current_residence:t.current_residence||"",crime_type:t.crime_type||"",arrest_location:t.arrest_location||"",arrested_by:t.arrested_by||"",arrest_date:t.arrest_date||"",referred_to:t.referred_to||"",final_verdict:t.final_verdict||"",notes:t.notes||"",department_id:t.department_id?t.department_id.toString():"none"}),D=[{title:a("criminal.page_title"),href:route("criminals.index")},{title:t.name,href:route("criminals.show",t.id)},{title:a("criminal.edit.breadcrumb"),href:route("criminals.edit",t.id)}],P=r=>{k(r)},z=r=>{if(r.target.files&&r.target.files[0]){const _=r.target.files[0];l("photo",_);const j=new FileReader;j.onload=U=>{var g;A((g=U.target)==null?void 0:g.result)},j.readAsDataURL(_)}},B=r=>{r.preventDefault(),L(route("criminals.update",t.id),{forceFormData:!0,onSuccess:()=>{}})},R=t.created_at?W(new Date(t.created_at),"MMM d, yyyy"):"N/A";return e.jsxs(I,{breadcrumbs:D,children:[e.jsx(E,{title:a("criminal.edit.page_title",{name:t.name})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(h,{variant:"outline",size:"sm",asChild:!0,className:"rounded-full shadow-sm",children:e.jsxs("a",{href:route("criminals.show",t.id),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),a("criminal.edit.back_button")]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:a("criminal.edit.title")}),e.jsx("p",{className:"text-sm text-neutral-500",children:a("criminal.edit.created_on",{date:R})})]})]}),e.jsx("form",{onSubmit:B,children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs(v,{className:"lg:col-span-1 overflow-hidden border-none shadow-md",children:[e.jsxs(b,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsxs(y,{className:"flex items-center gap-2 text-lg",children:[e.jsx(T,{className:"h-5 w-5 text-neutral-500"}),a("criminal.edit.photo.title")]}),e.jsx(w,{children:a("criminal.edit.photo.description")})]}),e.jsx(C,{className:"p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:c("relative mb-6 h-56 w-56 overflow-hidden rounded-xl border-2 border-dashed","bg-neutral-50 text-center transition-all duration-200 hover:border-primary/50","flex items-center justify-center",o?"border-primary/30":"border-neutral-200"),children:o?e.jsx("img",{src:o,alt:a("criminal.edit.photo.preview_alt"),className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center p-6",children:[e.jsx(T,{className:"mb-3 h-12 w-12 text-neutral-400"}),e.jsx("p",{className:"text-sm text-neutral-500 font-medium",children:a("criminal.edit.photo.no_photo")}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:a("criminal.edit.photo.click_to_upload")})]})}),e.jsx(i,{htmlFor:"photo",className:c("cursor-pointer rounded-full px-5 py-2.5 text-sm font-medium transition-colors","bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm"),children:a("criminal.edit.photo.change_button")}),e.jsx(d,{id:"photo",type:"file",accept:"image/*",onChange:z,className:"sr-only"}),s.photo&&e.jsx("p",{className:"mt-3 text-sm text-red-500 font-medium",children:s.photo}),e.jsx("div",{className:"mt-6 text-center max-w-xs",children:e.jsx("p",{className:"text-xs text-neutral-500",children:a("criminal.create.photo.helper_text")})})]})})]}),e.jsxs(v,{className:"lg:col-span-2 border-none shadow-md overflow-hidden",children:[e.jsxs(b,{className:"bg-neutral-50 dark:bg-neutral-900 border-b pb-4",children:[e.jsx(y,{className:"text-lg",children:a("criminal.edit.form.title")}),e.jsx(w,{children:a("criminal.edit.form.description")})]}),e.jsx(C,{className:"p-6",children:e.jsxs(K,{defaultValue:"personal",value:S,onValueChange:P,className:"w-full",children:[e.jsxs(O,{className:"grid w-full grid-cols-3 mb-6 rounded-lg p-1 bg-neutral-100 dark:bg-neutral-800",children:[e.jsxs(p,{value:"personal",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.personal")})]}),e.jsxs(p,{value:"crime",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.crime")})]}),e.jsxs(p,{value:"other",className:c("data-[state=active]:shadow-sm flex items-center gap-2","transition-all duration-200"),children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:a("criminal.create.tabs.other")})]})]}),e.jsxs(x,{value:"personal",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i,{htmlFor:"name",className:"text-base font-medium",children:[a("criminal.create.fields.full_name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"name",value:n.name,onChange:r=>l("name",r.target.value),required:!0,placeholder:a("criminal.create.placeholders.full_name"),className:"h-11"}),s.name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"father_name",className:"font-medium",children:a("criminal.create.fields.father_name")}),e.jsx(d,{id:"father_name",value:n.father_name,onChange:r=>l("father_name",r.target.value),placeholder:a("criminal.create.placeholders.father_name"),className:"h-11"}),s.father_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.father_name})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"grandfather_name",className:"font-medium",children:a("criminal.create.fields.grandfather_name")}),e.jsx(d,{id:"grandfather_name",value:n.grandfather_name,onChange:r=>l("grandfather_name",r.target.value),placeholder:a("criminal.create.placeholders.grandfather_name"),className:"h-11"}),s.grandfather_name&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.grandfather_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"id_card_number",className:"font-medium",children:a("criminal.create.fields.id_card_number")}),e.jsx(d,{id:"id_card_number",value:n.id_card_number,onChange:r=>l("id_card_number",r.target.value),placeholder:a("criminal.create.placeholders.id_card_number"),className:"h-11"}),s.id_card_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.id_card_number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"phone_number",className:"font-medium",children:a("criminal.create.fields.phone_number")}),e.jsx(d,{id:"phone_number",value:n.phone_number,onChange:r=>l("phone_number",r.target.value),placeholder:a("criminal.create.placeholders.phone_number"),className:"h-11"}),s.phone_number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.phone_number})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"original_residence",className:"font-medium",children:a("criminal.create.fields.original_residence")}),e.jsx(m,{id:"original_residence",value:n.original_residence,onChange:r=>l("original_residence",r.target.value),rows:2,placeholder:a("criminal.create.placeholders.original_residence"),className:"min-h-[80px] resize-none"}),s.original_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.original_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"current_residence",className:"font-medium",children:a("criminal.create.fields.current_residence")}),e.jsx(m,{id:"current_residence",value:n.current_residence,onChange:r=>l("current_residence",r.target.value),rows:2,placeholder:a("criminal.create.placeholders.current_residence"),className:"min-h-[80px] resize-none"}),s.current_residence&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.current_residence})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"department_id",className:"font-medium",children:a("criminal.create.fields.department")}),e.jsxs(H,{value:n.department_id,onValueChange:r=>l("department_id",r),children:[e.jsx($,{id:"department_id",className:"h-11",children:e.jsx(G,{placeholder:a("criminal.create.placeholders.department")})}),e.jsxs(J,{children:[e.jsx(F,{value:"none",children:a("criminal.create.none")}),u.length>0?u.map(r=>e.jsx(F,{value:r.id.toString(),children:r.name},r.id)):e.jsx("div",{className:"p-2 text-sm text-neutral-500",children:a("criminal.create.no_departments")})]})]}),s.department_id&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.department_id})]})]}),e.jsxs(x,{value:"crime",className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"number",className:"font-medium",children:a("criminal.create.fields.record_number")}),e.jsx(d,{id:"number",value:n.number,onChange:r=>l("number",r.target.value),placeholder:a("criminal.create.placeholders.record_number"),className:"h-11"}),s.number&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.number})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"crime_type",className:"font-medium",children:a("criminal.create.fields.crime_type")}),e.jsx(d,{id:"crime_type",value:n.crime_type,onChange:r=>l("crime_type",r.target.value),placeholder:a("criminal.create.placeholders.crime_type"),className:"h-11"}),s.crime_type&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.crime_type})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"arrest_date",className:"font-medium",children:a("criminal.create.fields.arrest_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"arrest_date",type:"date",value:n.arrest_date,onChange:r=>l("arrest_date",r.target.value),className:"h-11"}),e.jsx(M,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-neutral-400 pointer-events-none"})]}),s.arrest_date&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_date})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"arrest_location",className:"font-medium",children:a("criminal.create.fields.arrest_location")}),e.jsx(d,{id:"arrest_location",value:n.arrest_location,onChange:r=>l("arrest_location",r.target.value),placeholder:a("criminal.create.placeholders.arrest_location"),className:"h-11"}),s.arrest_location&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrest_location})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"arrested_by",className:"font-medium",children:a("criminal.create.fields.arrested_by")}),e.jsx(d,{id:"arrested_by",value:n.arrested_by,onChange:r=>l("arrested_by",r.target.value),placeholder:a("criminal.create.placeholders.arrested_by"),className:"h-11"}),s.arrested_by&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.arrested_by})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"referred_to",className:"font-medium",children:a("criminal.create.fields.referred_to")}),e.jsx(d,{id:"referred_to",value:n.referred_to,onChange:r=>l("referred_to",r.target.value),placeholder:a("criminal.create.placeholders.referred_to"),className:"h-11"}),s.referred_to&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.referred_to})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"final_verdict",className:"font-medium",children:a("criminal.create.fields.final_verdict")}),e.jsx(m,{id:"final_verdict",value:n.final_verdict,onChange:r=>l("final_verdict",r.target.value),rows:3,placeholder:a("criminal.create.placeholders.final_verdict"),className:"min-h-[120px] resize-none"}),s.final_verdict&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.final_verdict})]})]}),e.jsx(x,{value:"other",className:"space-y-6 pt-2",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{htmlFor:"notes",className:"font-medium",children:a("criminal.create.fields.notes")}),e.jsx(m,{id:"notes",value:n.notes,onChange:r=>l("notes",r.target.value),rows:8,placeholder:a("criminal.create.placeholders.notes"),className:"min-h-[240px]"}),s.notes&&e.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.notes}),e.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:a("criminal.create.notes_helper")})]})})]})}),e.jsxs(q,{className:"flex justify-between border-t px-6 py-5 bg-neutral-50 dark:bg-neutral-900",children:[e.jsx(h,{variant:"outline",onClick:()=>window.location.href=route("criminals.show",t.id),type:"button",className:"rounded-full",children:a("common.cancel")}),e.jsx(h,{type:"submit",disabled:f,className:"rounded-full px-8 font-medium",children:a(f?"criminal.edit.saving":"criminal.edit.update")})]})]})]})})]})]})}export{De as default};
