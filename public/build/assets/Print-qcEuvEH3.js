import{r as g,j as e,L as _}from"./app-Dek5SzaG.js";import{B as b}from"./button-BcOIu9Qp.js";import{u as B}from"./translate-DLaIVphn.js";import{a as w,b as E}from"./date-BaJKjiu2.js";import{L as I}from"./lock-CeTy4Ha6.js";import{A as k}from"./arrow-left-D6rV95wD.js";import{F as j}from"./file-text-DqiUqDlL.js";import{X as O,S as U}from"./x-BTfDADkJ.js";import{P as C}from"./palette-CrVnF-RH.js";import{T as S}from"./type-CDVhZ-nS.js";import{P as F}from"./panels-top-left-y32Q1x5g.js";import{T as u}from"./tag-BJRnNmYr.js";import{T}from"./tablet-smartphone-5D4iSGEM.js";import{C as y}from"./calendar-DYzxyyff.js";import{S as Y}from"./shield-BS1ywZea.js";import{U as H}from"./user-BdgPCEhf.js";import{U as G}from"./users-BIJvOfOv.js";import{B as R}from"./book-text-C27sQFL_.js";import{G as X}from"./gavel-BIRETiAA.js";import{F as q}from"./file-check-CaX29kCr.js";import{T as $}from"./triangle-alert-B5apGQOB.js";import{C as J}from"./clock-D7HBQyEs.js";import{M as K}from"./map-pin-DOnloRvH.js";import{B as Q}from"./building-2-C09B9NKu.js";import{I as V}from"./info-CAb0nGIp.js";import{f as W}from"./index-CaunA62S.js";import"./utils-CZDctoQN.js";import"./createLucideIcon-CeXlYxZT.js";function Fe({report:n,incidents:m,barcodeData:Z,isAdmin:z}){var v;const{t:s}=B(),[A,x]=g.useState(!1),[l,d]=g.useState("colors"),[r,D]=g.useState({headerColor:"#1f2937",textColor:"#374151",accentColor:"#3b82f6",fontFamily:"Amiri, Traditional Arabic, Arial, sans-serif",fontSize:12,showLogo:!0,showFooter:!0,showDate:!0,pageSize:"a4",orientation:"portrait",margins:"normal",dateFormat:"persian",governmentName:"امارت اسلامی افغانستان",ministryName:"وزارت دفاع",reportTitle:"د پېښو راپور"}),f=(t,a)=>{const c=h=>{switch(h){case"narrow":return"0.5cm";case"wide":return"2cm";default:return"1cm"}},o=`
      @page {
        size: ${a.pageSize} ${a.orientation};
        margin: ${c(a.margins)};
      }
      @media print {
        body {
          font-family: ${a.fontFamily};
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          background: none;
          font-size: ${a.fontSize}px;
          color: ${a.textColor};
        }
        .print-header-bg {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          background-color: ${a.headerColor} !important;
          color: white !important;
        }
        .text-accent, h1, h2, h3, .font-bold.text-accent {
          color: ${a.accentColor} !important;
        }
        .border-accent {
          border-color: ${a.accentColor} !important;
        }
        .bg-accent {
          background-color: ${a.accentColor} !important;
        }
      }
    `;t.innerHTML=o};g.useEffect(()=>{let t=document.getElementById("dynamic-print-styles");return t||(t=document.createElement("style"),t.id="dynamic-print-styles",document.head.appendChild(t)),f(t,r),()=>{const a=document.getElementById("dynamic-print-styles");a&&a.remove()}},[r]);const P=t=>{const a=Math.floor((t.getFullYear()-622)*.970224),c=Math.floor((t.getMonth()+1)*.970224),o=Math.floor(t.getDate()*.970224);return`${a}/${c.toString().padStart(2,"0")}/${o.toString().padStart(2,"0")}`},M=t=>{const a=t.getFullYear()-621,c=t.getMonth()+1,o=t.getDate();return`${a}/${c.toString().padStart(2,"0")}/${o.toString().padStart(2,"0")}`},p=t=>{if(!t)return"";try{const a=new Date(t);switch(r.dateFormat){case"hijri":return P(a);case"persian":return M(a);case"gregorian":default:return W(a,"yyyy/MM/dd")}}catch{return""}},i=(t,a)=>{D(c=>{const o={...c,[t]:a},h=document.getElementById("dynamic-print-styles");return h&&f(h,o),o})},L=()=>{window.print()},N=()=>{window.history.back()};return z?e.jsxs(e.Fragment,{children:[e.jsx(_,{title:s("incident_reports.print.page_title",{number:n.report_number})}),e.jsx("style",{id:"dynamic-print-styles"}),A&&e.jsx("div",{className:"screen-only fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(j,{className:"mr-2 h-5 w-5"}),s("incident_reports.print.settings.title")||"تنظیمات چاپ"]}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(O,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsx("button",{onClick:()=>d("colors"),className:`px-4 py-2 border-b-2 font-medium text-sm ${l==="colors"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),s("incident_reports.print.settings.tabs.colors")||"رنگ‌ها"]})}),e.jsx("button",{onClick:()=>d("typography"),className:`px-4 py-2 border-b-2 font-medium text-sm ${l==="typography"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),s("incident_reports.print.settings.tabs.typography")||"تایپوگرافی"]})}),e.jsx("button",{onClick:()=>d("layout"),className:`px-4 py-2 border-b-2 font-medium text-sm ${l==="layout"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("incident_reports.print.settings.tabs.layout")||"چیدمان"]})}),e.jsx("button",{onClick:()=>d("labels"),className:`px-4 py-2 border-b-2 font-medium text-sm ${l==="labels"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),s("incident_reports.print.settings.tabs.labels")||"برچسب‌ها"]})}),e.jsx("button",{onClick:()=>d("date_format"),className:`px-4 py-2 border-b-2 font-medium text-sm ${l==="date_format"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),s("incident_reports.print.settings.tabs.date_format")||"فرمت تاریخ"]})})]}),l==="colors"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"mr-2 h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-md font-medium",children:s("incident_reports.print.settings.colors.title")||"رنگ‌ها"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.colors.header")||"رنگ هدر"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"headerColorPicker",value:r.headerColor,onChange:t=>i("headerColor",t.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"headerColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:r.headerColor}})]}),e.jsx("input",{type:"text",value:r.headerColor,onChange:t=>i("headerColor",t.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.colors.text")||"رنگ متن"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"textColorPicker",value:r.textColor,onChange:t=>i("textColor",t.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"textColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:r.textColor}})]}),e.jsx("input",{type:"text",value:r.textColor,onChange:t=>i("textColor",t.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.colors.accent")||"رنگ تاکید"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",id:"accentColorPicker",value:r.accentColor,onChange:t=>i("accentColor",t.target.value),className:"sr-only"}),e.jsx("label",{htmlFor:"accentColorPicker",className:"block h-10 w-10 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:r.accentColor}})]}),e.jsx("input",{type:"text",value:r.accentColor,onChange:t=>i("accentColor",t.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]})]}),l==="typography"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"mr-2 h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-md font-medium",children:s("incident_reports.print.settings.typography.title")||"تایپوگرافی"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.typography.font_family")||"فونت"}),e.jsxs("select",{value:r.fontFamily,onChange:t=>i("fontFamily",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsxs("option",{value:"Amiri, Traditional Arabic, Arial, sans-serif",children:["Amiri (",s("incident_reports.print.settings.typography.font_default"),")"]}),e.jsx("option",{value:"Traditional Arabic, Arial, sans-serif",children:"Traditional Arabic"}),e.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),e.jsx("option",{value:"Calibri, sans-serif",children:"Calibri"}),e.jsx("option",{value:"Tahoma, sans-serif",children:"Tahoma"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.typography.font_size")||"اندازه فونت"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"range",min:"10",max:"16",value:r.fontSize,onChange:t=>i("fontSize",parseInt(t.target.value)),className:"flex-1"}),e.jsxs("span",{className:"ml-2 text-sm w-10 text-center",children:[r.fontSize,"pt"]})]})]})]})]}),l==="layout"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"mr-2 h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-md font-medium",children:s("incident_reports.print.settings.layout.title")||"چیدمان"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.layout.page_size")||"اندازه صفحه"}),e.jsxs("select",{value:r.pageSize,onChange:t=>i("pageSize",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"a4",children:"A4"}),e.jsx("option",{value:"letter",children:"Letter"}),e.jsx("option",{value:"legal",children:"Legal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.layout.orientation")||"جهت صفحه"}),e.jsxs("select",{value:r.orientation,onChange:t=>i("orientation",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"portrait",children:s("incident_reports.print.settings.layout.orientation.portrait")}),e.jsx("option",{value:"landscape",children:s("incident_reports.print.settings.layout.orientation.landscape")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("incident_reports.print.settings.layout.margins")||"حاشیه"}),e.jsxs("select",{value:r.margins,onChange:t=>i("margins",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"normal",children:s("incident_reports.print.settings.layout.margins.normal")}),e.jsx("option",{value:"narrow",children:s("incident_reports.print.settings.layout.margins.narrow")}),e.jsx("option",{value:"wide",children:s("incident_reports.print.settings.layout.margins.wide")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.showLogo,onChange:t=>i("showLogo",t.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.layout.show_logo")||"نمایش لوگو"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.showFooter,onChange:t=>i("showFooter",t.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.layout.show_footer")||"نمایش پاورقی"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.showDate,onChange:t=>i("showDate",t.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.layout.show_date")||"نمایش تاریخ"})]})]})]}),l==="labels"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"mr-2 h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-md font-medium",children:s("incident_reports.print.settings.tabs.labels")||"برچسب‌ها"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("national_insight_center_info.print_dates.settings_government_name")||"نام دولت:"}),e.jsx("input",{type:"text",value:r.governmentName,onChange:t=>i("governmentName",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"امارت اسلامی افغانستان"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("national_insight_center_info.print_dates.settings_ministry_name")||"نام وزارت:"}),e.jsx("input",{type:"text",value:r.ministryName,onChange:t=>i("ministryName",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"وزارت دفاع"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("national_insight_center_info.print_dates.settings_report_title")||"عنوان گزارش:"}),e.jsx("input",{type:"text",value:r.reportTitle,onChange:t=>i("reportTitle",t.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"گزارش تحلیلی و تفصيلي"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:s("national_insight_center_info.print_dates.settings_preview")||"پیش‌نمایش"}),e.jsx("div",{className:"border rounded overflow-hidden bg-white p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900",children:r.governmentName}),e.jsx("h2",{className:"mb-1 text-xl font-semibold text-gray-800",children:r.ministryName}),e.jsx("h3",{className:"text-lg font-medium text-gray-700",children:r.reportTitle})]})})]})]}),l==="date_format"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"mr-2 h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-md font-medium",children:s("incident_reports.print.settings.date_format.title")||"فرمت تاریخ"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("incident_reports.print.settings.date_format.title")||"فرمت تاریخ"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"gregorian",checked:r.dateFormat==="gregorian",onChange:t=>i("dateFormat",t.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.date_format.gregorian")||"میلادی"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"hijri",checked:r.dateFormat==="hijri",onChange:t=>i("dateFormat",t.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.date_format.hijri")||"هجری قمری"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"dateFormat",value:"persian",checked:r.dateFormat==="persian",onChange:t=>i("dateFormat",t.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:s("incident_reports.print.settings.date_format.persian")||"هجری شمسی"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:s("incident_reports.print.settings.date_format.preview")}),e.jsx("div",{className:"text-sm text-gray-600",children:p(new Date().toISOString())})]})]})]})]}),e.jsxs("div",{className:"border-t px-4 py-3 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s("common.cancel")||"لغو"}),e.jsx("button",{onClick:()=>{x(!1),setTimeout(()=>window.print(),300)},className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s("incident_reports.print.settings.apply_and_print")||"اعمال و چاپ"})]})]})}),e.jsxs("div",{className:"print:max-w-none print:p-0 print:m-0",style:{fontFamily:r.fontFamily,color:r.textColor,fontSize:`${r.fontSize}px`},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            .print\\:text-xs {
              font-size: 10px !important;
            }
            .print\\:border-gray-800 {
              border-color: #1f2937 !important;
            }
            .print\\:border-gray-600 {
              border-color: #4b5563 !important;
            }
            .print\\:hidden {
              display: none !important;
            }
            .screen-only {
              display: none !important;
            }
          }
          @media screen {
            .screen-only {
              display: block;
            }
          }
        `}}),e.jsx("div",{className:"mb-6 print:hidden",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{onClick:N,variant:"outline",size:"lg",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),s("incident_reports.print.back_button")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{onClick:()=>x(!0),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),s("incident_reports.print.settings_button")||"تنظیمات چاپ"]}),e.jsxs(b,{onClick:L,size:"lg",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[e.jsx(j,{className:"h-4 w-4"}),s("incident_reports.print.print_button")]})]})]})}),e.jsx("div",{className:"print:page-break-inside-avoid relative mb-10 border-b-2 border-gray-300 pb-6 text-center print:border-gray-800",children:e.jsxs("div",{className:"relative mb-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex-shrink-0",children:r.showLogo&&e.jsx("img",{src:"/images/logos/logo 1.png",alt:"logo",className:"h-20 w-20 object-contain print:h-16 print:w-16"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"mb-1 text-3xl font-bold text-gray-900 print:text-2xl",children:r.governmentName}),e.jsx("h2",{className:"mb-1 text-2xl font-semibold text-gray-800 print:text-xl",children:r.ministryName}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 print:text-lg",children:r.reportTitle})]}),e.jsx("div",{className:"flex-shrink-0",children:r.showLogo&&e.jsx("img",{src:"/images/logos/logo 2.png",alt:"logo",className:"h-20 w-20 object-contain print:h-16 print:w-16"})})]})}),e.jsxs("table",{className:"w-full mt-4 print:text-xs",style:{borderCollapse:"collapse"},children:[e.jsxs("tr",{className:"text-sm border-b border-gray-900 print:border-gray-800",children:[e.jsxs("th",{className:"text-left pr-2 font-semibold flex items-center gap-1",children:[e.jsx(j,{className:"h-3 w-3"}),s("incident_reports.show.report_number"),":"]}),e.jsx("td",{className:"pr-4",children:n.report_number}),e.jsxs("th",{className:"text-left pr-2 font-semibold flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),s("incident_reports.show.report_date_label"),":"]}),e.jsx("td",{className:"pr-4",children:r.dateFormat==="persian"?w(n.report_date):p(n.report_date)})]}),e.jsxs("tr",{className:"text-sm border-b border-gray-900 print:border-gray-800",children:[e.jsxs("th",{className:"text-left pr-2 font-semibold flex items-center gap-1",children:[e.jsx(Y,{className:"h-3 w-3"}),s("incident_reports.show.security_level"),":"]}),e.jsx("td",{className:"pr-4",children:s(`incident_reports.level.${n.security_level}`)}),e.jsxs("th",{className:"text-left pr-2 font-semibold flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3"}),s("incident_reports.show.submitted_by"),":"]}),e.jsx("td",{className:"pr-4",children:((v=n.submitter)==null?void 0:v.name)||s("incidents.unknown")})]}),n.source&&e.jsxs("tr",{className:"text-sm pt-2 py-2",children:[e.jsxs("th",{className:"text-left pr-2 font-semibold flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),s("incident_reports.show.source_label"),":"]}),e.jsx("td",{colSpan:3,children:n.source})]})]}),e.jsx("hr",{className:"my-4 border-gray-900 print:border-gray-800"}),e.jsxs("div",{className:"mt-4 print:page-break-inside-avoid",children:[e.jsxs("h3",{className:"text-lg font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),s("incident_reports.details.title")]}),e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 print:bg-white print:border print:border-gray-300 rounded",children:[e.jsxs("h4",{className:"font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"}),s("incident_reports.details.details_label"),":"]}),e.jsx("p",{className:"text-sm text-justify leading-relaxed",children:n.details})]}),n.action_taken&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 print:bg-white print:border print:border-gray-300 rounded",children:[e.jsxs("h4",{className:"font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),s("incident_reports.details.action_taken_label"),":"]}),e.jsx("p",{className:"text-sm text-justify leading-relaxed",children:n.action_taken})]}),n.recommendation&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 print:bg-white print:border print:border-gray-300 rounded",children:[e.jsxs("h4",{className:"font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),s("incident_reports.details.recommendation_label"),":"]}),e.jsx("p",{className:"text-sm text-justify leading-relaxed",children:n.recommendation})]})]}),e.jsx("hr",{className:"my-4 border-gray-300 print:border-gray-600"}),e.jsxs("div",{className:"mt-4 print:page-break-inside-avoid",children:[e.jsxs("h3",{className:"text-lg font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),s("incidents.page_title")," (",m.length,")"]}),m.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:s("incidents.no_incidents")})]}):m.map((t,a)=>e.jsxs("div",{className:"mt-4 print:page-break-inside-avoid",children:[e.jsx("div",{className:"pt-4 mb-2",children:e.jsxs("h4",{className:"text-lg font-semibold text-black mb-2",children:[a+1,". ",t.title]})}),e.jsxs("table",{className:"w-full print:text-xs",style:{borderCollapse:"collapse"},children:[e.jsxs("tr",{className:"border-b border-gray-300 print:border-gray-600",children:[e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),s("incidents.incident_date"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:r.dateFormat==="persian"?w(t.incident_date):p(t.incident_date)}),e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),s("incidents.severity"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:t.severity}),e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),s("incidents.status"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:s(`incidents.status.${t.status}`)})]}),e.jsxs("tr",{className:"border-b border-gray-300 print:border-gray-600",children:[t.location&&e.jsxs(e.Fragment,{children:[e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),s("incidents.location"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:t.location})]}),t.district&&e.jsxs(e.Fragment,{children:[e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"}),s("incidents.district"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:t.district.name})]}),t.category&&e.jsxs(e.Fragment,{children:[e.jsxs("th",{className:"text-left pr-2 font-semibold py-1 flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),s("incidents.category"),":"]}),e.jsx("td",{className:"pr-4 py-1",children:t.category.name})]})]})]}),e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 print:bg-white print:border print:border-gray-300 rounded",children:[e.jsxs("h4",{className:"font-semibold text-black mb-2 flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),s("incidents.description"),":"]}),e.jsx("p",{className:"text-sm text-justify leading-relaxed",children:t.description})]}),a<m.length-1&&e.jsx("hr",{className:"my-4 border-gray-300 print:border-gray-600"})]},t.id))]}),r.showFooter&&e.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 print:border-gray-600 print:mt-12",children:e.jsx("div",{className:"text-center text-sm text-gray-600 print:text-gray-800",children:r.showDate&&e.jsxs("p",{className:"flex items-center justify-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),s("incident_reports.print.generated_on"),": ",r.dateFormat==="persian"?E(new Date().toISOString()):p(new Date().toISOString())]})})})]})]}):e.jsxs("div",{className:"print:max-w-none print:p-0 print:m-0",style:{fontFamily:"Arial, sans-serif"},children:[e.jsx(_,{title:s("incident_reports.print.access_denied")}),e.jsx("div",{className:"min-h-screen bg-white p-8 flex items-center justify-center",dir:"rtl",children:e.jsxs("div",{className:"border border-red-200 shadow-sm max-w-md",children:[e.jsx("div",{className:"bg-red-50 border-b border-red-200 p-4",children:e.jsxs("h1",{className:"flex items-center gap-3 text-lg text-red-900",children:[e.jsx(I,{className:"h-5 w-5"}),s("incident_reports.print.access_denied")]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:s("incident_reports.print.admin_only")}),e.jsxs(b,{onClick:N,variant:"outline",className:"w-full",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),s("common.back")]})]})]})})]})}export{Fe as default};
