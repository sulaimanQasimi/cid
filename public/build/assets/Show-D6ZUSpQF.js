const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DSXIde5s.js","assets/Root-KLg9UpOR.js","assets/SerialChart-CAnqEg8j.js","assets/Theme-Dgo0XspA.js","assets/tslib.es6-CmEaCU22.js","assets/Circle-DJKlttmY.js","assets/Button-Dxks9qV6.js","assets/ZoomTools-CCR8UINi.js","assets/LinearGradient-B6IotMss.js","assets/ColorSet-CCEFxBY6.js","assets/map-CqCQbP1S.js","assets/GraticuleSeries-T7edOFOH.js","assets/MapPolygonSeries-C5eFncE-.js","assets/app-D4yy8cwY.js","assets/app-DaUT-yjq.css","assets/MapPointSeries-DJgh8RPu.js","assets/ZoomControl-D3aVP6vn.js","assets/Animated-DnmYM1im.js","assets/AnimatedTheme-Cau1-Aan.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,L as D,$ as h,_ as f}from"./app-D4yy8cwY.js";import{A as O}from"./app-layout-DGZhc22b.js";import{B as v}from"./button-Dmrobmsd.js";import{B as b}from"./badge-BZ1cmz_Z.js";import{C as k,a as w,b as N,d as _}from"./card-CKjGjQ2z.js";import{P as U}from"./pagination-DBXyMLcw.js";import{u as V}from"./translate-8P3L5hfX.js";import{u as F}from"./use-permissions-CPtIzbkS.js";import{c as $,C as S,a as W}from"./permission-guard-BscpZI2f.js";import{H as X}from"./header-D8hGpM2R.js";import{M as c}from"./map-pin-DZYu_MDG.js";import{F as Y}from"./file-text-BJPf44GB.js";import{U as L}from"./user-X3dPXgyT.js";import{T as G}from"./trending-up-DbZKJkPF.js";import{C as J}from"./calendar-CIVEr3WG.js";import{f as M}from"./index-CaunA62S.js";import{C as q}from"./clock-C5CxoHZa.js";import{T as Z}from"./triangle-alert-sQE0lckY.js";import{E as K}from"./eye-CfBb0IwL.js";import{S as Q}from"./square-pen-BwNisqRG.js";import"./utils-CQ1jokJM.js";import"./index-Bwrvro_y.js";import"./createLucideIcon-CJLoyPUx.js";import"./tslib.es6-CmEaCU22.js";import"./index-Bhg7v7Zk.js";import"./index-3mIrRSmG.js";import"./index-acGlbD8T.js";import"./x-BfOQa8Gr.js";import"./index-Br9Eors2.js";import"./avatar-Ce_Ax0Yd.js";import"./users-DtTxkruJ.js";import"./tag-C7WooPon.js";import"./qr-code-Cvnb0Osu.js";import"./database-DTrViF8Q.js";import"./shield-BdbJ03yP.js";import"./chevron-left-D2Geb7Q4.js";import"./arrow-left-DDNCwEOF.js";import"./plus-DrJYj5v8.js";const I={active:"#5D87FF",inactive:"#94A3B8"};function Oe({province:t,districts:p}){var P;const{canUpdate:R}=F(),{t:r}=V(),o=n.useRef(null),m=n.useRef(null),[ee,A]=n.useState(!1),B=[{title:r("dashboard.page_title"),href:route("dashboard")},{title:r("provinces.page_title"),href:route("provinces.index")},{title:t.name,href:"#"}],y=()=>{m.current&&(m.current.dispose(),m.current=null)};return n.useEffect(()=>()=>{y()},[]),n.useEffect(()=>{if(!o.current)return;y();const a=`province-map-${t.id}`;o.current.id=a,o.current.innerHTML="",o.current.innerHTML=`
      <div class="flex items-center justify-center h-full">
        <div class="text-center">
          <div class="animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full inline-block"></div>
          <p class="mt-2 text-sm text-muted-foreground">Loading map...</p>
        </div>
      </div>
    `;const u=async()=>{try{if(!o.current)return;const s=await f(()=>import("./index-DSXIde5s.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),i=await f(()=>import("./map-CqCQbP1S.js"),__vite__mapDeps([10,11,12,3,2,4,13,14,15,16,7,6])),H=await f(()=>import("./Animated-DnmYM1im.js"),__vite__mapDeps([17,18,3])),C=await f(()=>import("./afghanistanLow-mnRKi4Rp.js"),[]);if(!o.current)return;o.current.innerHTML="";const l=s.Root.new(a);m.current=l,l.setThemes([H.default.new(l)]);const d=l.container.children.push(i.MapChart.new(l,{panX:"translateX",panY:"translateY",projection:i.geoMercator(),layout:l.verticalLayout})),T=d.series.push(i.MapPolygonSeries.new(l,{geoJSON:C.default,fill:s.color(14540253),stroke:s.color(16777215)}));T.mapPolygons.template.setAll({tooltipText:"{name}",interactive:!0,strokeWidth:1}),T.mapPolygons.template.states.create("hover",{fill:s.color(12303291)});const g=d.series.push(i.MapPolygonSeries.new(l,{geoJSON:C.default,include:[t.code]}));g.mapPolygons.template.setAll({fill:s.color(I[t.status]||I.active),stroke:s.color(16777215),tooltipText:"{name}",interactive:!0,strokeWidth:2}),d.set("zoomControl",i.ZoomControl.new(l,{})),d.appear(1e3,100);const E=d.series.push(i.MapPointSeries.new(l,{}));setTimeout(()=>{if(g.mapPolygons.length>0){const j=g.mapPolygons.getIndex(0);if(j){const x=j.visualCentroid();d.zoomToGeoPoint({latitude:x.latitude,longitude:x.longitude},1.5),j.dataItem&&E.data.push({latitude:x.latitude,longitude:x.longitude,name:t.name})}}else d.goHome(1e3);E.bullets.push(()=>s.Bullet.new(l,{sprite:s.Label.new(l,{text:"{name}",centerX:s.p50,centerY:s.p50,populateText:!0,fontWeight:"bold",fontSize:14})}))},1e3),A(!0)}catch(s){console.error("Error loading amCharts:",s),o.current&&(o.current.innerHTML=`
            <div class="flex items-center justify-center h-full">
              <div class="text-center p-4">
                <p class="text-red-500">Error loading map: ${s instanceof Error?s.message:"Unknown error"}</p>
                <p class="text-xs text-gray-500 mt-2">Please check console for details</p>
              </div>
            </div>
          `)}},z=setTimeout(()=>{u()},100);return()=>{clearTimeout(z)}},[t.id,t.code,t.status,t.name]),e.jsxs(O,{breadcrumbs:B,children:[e.jsx(D,{title:r("provinces.show.title",{name:t.name})}),e.jsxs("div",{className:"container px-0 py-6",children:[e.jsx(X,{title:t.name,description:r("provinces.show.description",{code:t.code}),icon:e.jsx(c,{className:"h-6 w-6"}),model:"province",routeName:()=>route("provinces.edit",t.id),buttonText:r("common.edit"),theme:"purple",buttonSize:"lg",showBackButton:!0,backRouteName:()=>route("provinces.index"),backButtonText:r("common.back"),showButton:R("province")}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(k,{className:"md:col-span-2 shadow-2xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30 dark:from-gray-800 dark:to-purple-900/30 border-0 rounded-3xl",children:[e.jsx(w,{className:"bg-gradient-to-l from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 text-white py-6",children:e.jsxs(N,{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 dark:bg-white/10 rounded-2xl backdrop-blur-sm shadow-lg",children:e.jsx(Y,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r("provinces.show.details_title")}),e.jsx("div",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:r("provinces.show.details_description")})]})]})}),e.jsxs(_,{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.capital&&e.jsxs(b,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 text-purple-700 dark:text-purple-300 border-purple-300 dark:border-purple-600 bg-purple-50 dark:bg-purple-900/50",children:[e.jsx(c,{className:"h-4 w-4"}),r("provinces.show.capital"),": ",t.capital]}),t.governor&&e.jsxs(b,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 text-purple-700 dark:text-purple-300 border-purple-300 dark:border-purple-600 bg-purple-50 dark:bg-purple-900/50",children:[e.jsx(L,{className:"h-4 w-4"}),r("provinces.show.governor"),": ",t.governor]}),e.jsx(b,{variant:t.status==="active"?"default":"secondary",className:"flex items-center gap-2 px-4 py-2",children:t.status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-purple-900 dark:text-purple-100 mb-4",children:r("provinces.show.map_title")}),e.jsx("div",{ref:o,className:"h-[400px] w-full bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 rounded-2xl overflow-hidden shadow-lg border border-purple-200 dark:border-purple-700"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 mt-3 font-medium",children:r("provinces.show.map_description",{name:t.name})})]}),t.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-purple-900 dark:text-purple-100 mb-4",children:r("provinces.show.description_title")}),e.jsx("div",{className:"whitespace-pre-wrap text-purple-800 dark:text-purple-200 bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 p-6 rounded-2xl border border-purple-200 dark:border-purple-700",children:t.description})]})]})]}),e.jsxs(k,{className:"shadow-2xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30 dark:from-gray-800 dark:to-purple-900/30 border-0 rounded-3xl",children:[e.jsx(w,{className:"bg-gradient-to-l from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 text-white py-6",children:e.jsxs(N,{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 dark:bg-white/10 rounded-2xl backdrop-blur-sm shadow-lg",children:e.jsx(G,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r("provinces.show.info_title")}),e.jsx("div",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:r("provinces.show.info_description")})]})]})}),e.jsxs(_,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 rounded-xl border border-purple-200 dark:border-purple-700",children:[e.jsx(L,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:r("provinces.show.created_by")}),e.jsx("div",{className:"text-purple-900 dark:text-purple-100 font-semibold",children:((P=t.creator)==null?void 0:P.name)||r("common.unknown")})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 rounded-xl border border-purple-200 dark:border-purple-700",children:[e.jsx(J,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:r("provinces.show.created_at")}),e.jsx("div",{className:"text-purple-900 dark:text-purple-100 font-semibold",children:M(new Date(t.created_at),"PPP")})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 rounded-xl border border-purple-200 dark:border-purple-700",children:[e.jsx(q,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:r("provinces.show.updated_at")}),e.jsx("div",{className:"text-purple-900 dark:text-purple-100 font-semibold",children:M(new Date(t.updated_at),"PPP p")})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-purple-200 dark:border-purple-700",children:e.jsx($,{model:"district",children:e.jsx(v,{variant:"outline",className:"w-full h-12 bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-800/50 hover:border-purple-400 dark:hover:border-purple-500 rounded-xl transition-all duration-300 hover:scale-105",asChild:!0,children:e.jsxs(h,{href:route("districts.create",{province_id:t.id}),children:[e.jsx(c,{className:"mr-2 h-5 w-5"}),r("provinces.show.add_district")]})})})})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(k,{className:"shadow-2xl overflow-hidden bg-gradient-to-bl from-white to-purple-50/30 dark:from-gray-800 dark:to-purple-900/30 border-0 rounded-3xl",children:[e.jsx(w,{className:"bg-gradient-to-l from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 text-white py-6",children:e.jsxs(N,{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 dark:bg-white/10 rounded-2xl backdrop-blur-sm shadow-lg",children:e.jsx(c,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r("provinces.show.districts_title")}),e.jsx("div",{className:"text-purple-100 dark:text-purple-200 text-sm font-medium",children:r("provinces.show.districts_description")})]})]})}),e.jsx(_,{className:"p-0",children:e.jsx("div",{className:"overflow-hidden rounded-b-3xl",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"bg-gradient-to-l from-purple-100 to-purple-200 dark:from-purple-800 dark:to-purple-900 border-0",children:e.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-700",children:[e.jsx("th",{className:"h-16 px-6 text-left align-middle font-bold text-purple-800 dark:text-purple-100 text-lg",children:r("provinces.show.districts_table.name")}),e.jsx("th",{className:"h-16 px-6 text-left align-middle font-bold text-purple-800 dark:text-purple-100 text-lg",children:r("provinces.show.districts_table.code")}),e.jsx("th",{className:"h-16 px-6 text-left align-middle font-bold text-purple-800 dark:text-purple-100 text-lg",children:r("provinces.show.districts_table.status")}),e.jsx("th",{className:"h-16 px-6 text-left align-middle font-bold text-purple-800 dark:text-purple-100 text-lg",children:r("provinces.show.districts_table.created_by")}),e.jsx("th",{className:"h-16 px-6 text-left align-middle font-bold text-purple-800 dark:text-purple-100 text-lg",children:r("provinces.show.districts_table.actions")})]})}),e.jsx("tbody",{children:p.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-purple-600 dark:text-purple-400",children:[e.jsx("div",{className:"p-4 bg-purple-100 dark:bg-purple-900/50 rounded-full",children:e.jsx(Z,{className:"h-16 w-16 text-purple-400 dark:text-purple-500"})}),e.jsx("p",{className:"text-xl font-bold",children:r("provinces.show.no_districts")}),e.jsx("p",{className:"text-purple-500 dark:text-purple-400",children:r("provinces.show.no_districts_description")})]})})}):p.data.map(a=>{var u;return e.jsxs("tr",{className:"border-b border-purple-100 dark:border-purple-800 hover:bg-purple-50/50 dark:hover:bg-purple-900/30 transition-colors duration-300",children:[e.jsx("td",{className:"p-6",children:e.jsx(S,{model:"district",children:e.jsxs(h,{href:route("districts.show",a.id),className:"font-bold text-purple-900 dark:text-purple-100 hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-300 flex items-center gap-2 text-lg",children:[e.jsx(c,{className:"h-5 w-5"}),a.name]})})}),e.jsx("td",{className:"font-bold text-purple-900 dark:text-purple-100 p-6 text-lg",children:a.code}),e.jsx("td",{className:"p-6",children:e.jsx(b,{variant:a.status==="active"?"default":"secondary",className:"text-sm font-semibold",children:a.status})}),e.jsx("td",{className:"text-purple-800 dark:text-purple-200 p-6 font-medium",children:((u=a.creator)==null?void 0:u.name)||"-"}),e.jsx("td",{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{model:"district",children:e.jsx(v,{variant:"ghost",size:"icon",asChild:!0,title:r("provinces.show.districts_table.view"),className:"h-10 w-10 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-300 hover:scale-110",children:e.jsx(h,{href:route("districts.show",a.id),children:e.jsx(K,{className:"h-5 w-5"})})})}),e.jsx(W,{model:"district",children:e.jsx(v,{variant:"ghost",size:"icon",asChild:!0,title:r("provinces.show.districts_table.edit"),className:"h-10 w-10 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/50 text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 transition-all duration-300 hover:scale-110",children:e.jsx(h,{href:route("districts.edit",a.id),children:e.jsx(Q,{className:"h-5 w-5"})})})})]})})]},a.id)})})]})})})]})}),p.links&&p.links.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("div",{className:"bg-gradient-to-l from-purple-50 to-white dark:from-purple-900/50 dark:to-gray-800 p-4 rounded-3xl shadow-2xl border border-purple-200 dark:border-purple-700",children:e.jsx(U,{links:p.links})})})]})]})}export{Oe as default};
