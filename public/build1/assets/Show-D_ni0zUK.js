import{r as v,j as e,L as _,$ as a,S as b,t as y}from"./app-D9EKp-j0.js";import{B as t}from"./button-C_lbOJaF.js";import{B as d}from"./badge-B-jdtJ8-.js";import{C as n,d as c,a as w,b as D,c as B}from"./card-CJ646PJT.js";import{P as U}from"./page-header-i4y0N3hM.js";import{A as $,D as C,T as E,C as H}from"./app-layout-DLN7lXRp.js";import{A as O,a as q,b as F,c as M,d as V,e as z,f as R,g as G}from"./alert-dialog-94ToB3EN.js";import{A as J}from"./arrow-left-BcosiyJl.js";import{S as K}from"./square-pen-DfifPPfH.js";import{T as A}from"./trash-CX9Hk8Jt.js";import{T as k}from"./tag-B3sBBI3s.js";import{c as Q}from"./createLucideIcon-2sT-PLZR.js";import{U as W}from"./user-D8UFd_n2.js";import{f as I}from"./index-CaunA62S.js";import{C as X}from"./clock-BQZ-YxHA.js";import{L as Y}from"./loader-circle-CgDmwmwE.js";import"./index-CEWyTXIf.js";import"./index--GEwVf8d.js";import"./index-BYrHusN6.js";import"./index-BdHtEbnZ.js";import"./x-CUky7n0R.js";import"./index-DQJiO2ZR.js";import"./avatar-DJGRXLRL.js";import"./app-logo-zrypSq5u.js";import"./app-logo-icon-BTqQbP9x.js";import"./file-text-J_QMBZXb.js";import"./qr-code-Bvz4OGpj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L=Q("Layers",Z);function ke({item:s,hasChildren:o}){var h,u,j,f,g,p,N;const S=[{title:"Dashboard",href:"/dashboard"},{title:"Settings",href:"#"},{title:"Stat Categories",href:route("stat-categories.index")},{title:((h=s.category)==null?void 0:h.label)||"Category",href:route("stat-categories.show",(u=s.category)==null?void 0:u.id)},{title:s.name,href:route("stat-category-items.show",s.id)}],[T,l]=v.useState(!1),[i,m]=v.useState(!1);function x(){l(!0)}function P(){m(!0),b.delete(route("stat-category-items.destroy",s.id),{onSuccess:()=>{y.success(`Item "${s.name}" deleted successfully`),b.visit(route("stat-category-items.index",{category_id:s.stat_category_id}))},onError:r=>{m(!1),l(!1),y.error("Failed to delete item"),console.error(r)}})}return e.jsxs($,{breadcrumbs:S,children:[e.jsx(_,{title:`Item - ${s.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx(U,{title:s.label,description:`Item: ${s.name}`,actions:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.index",{category_id:s.stat_category_id}),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsx(t,{asChild:!0,variant:"outline",children:e.jsxs(a,{href:route("stat-categories.show",(j=s.category)==null?void 0:j.id),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"View Category"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(a,{href:route("stat-category-items.edit",s.id),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(t,{variant:"destructive",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})}),o&&e.jsx(n,{className:"bg-amber-50 dark:bg-amber-950 border-amber-200 dark:border-amber-800 mb-2",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"text-amber-600 dark:text-amber-400",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-amber-800 dark:text-amber-300",children:"This item has child items"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Values cannot be assigned to this item because it has children. Values can only be assigned to leaf items without children."})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(n,{className:"md:col-span-2",children:[e.jsxs(w,{children:[e.jsx(D,{children:"Item Details"}),e.jsx(B,{children:"Detailed information about this statistical category item"})]}),e.jsxs(c,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 border-b pb-4",children:[e.jsx(d,{variant:s.status==="active"?"default":"secondary",className:"flex items-center",children:s.status}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:[e.jsx("div",{className:"mr-1 h-3 w-3 rounded-full",style:{backgroundColor:s.color||((f=s.category)==null?void 0:f.color)}}),s.color||"Using category default color"]}),e.jsxs(d,{variant:"outline",className:"flex items-center",children:["Order: ",s.order]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Information"}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"System Name: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Display Label: "}),e.jsx("span",{className:"ml-1 font-medium text-foreground",children:s.label})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Category: "}),e.jsx(a,{href:route("stat-categories.show",(g=s.category)==null?void 0:g.id),className:"ml-1 font-medium text-primary hover:underline",children:(p=s.category)==null?void 0:p.label})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hierarchy Information"}),e.jsxs("div",{className:"mt-2 space-y-3 text-sm",children:[s.parent&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Parent Item:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(a,{href:route("stat-category-items.show",s.parent.id),className:"text-primary hover:underline",children:s.parent.label})]})]}),o&&s.children&&s.children.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Child Items:"}),e.jsx("div",{className:"space-y-1 ml-6",children:s.children.map(r=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(a,{href:route("stat-category-items.show",r.id),className:"text-primary hover:underline",children:r.label})]},r.id))})]}),!s.parent&&(!s.children||s.children.length===0)&&e.jsx("div",{className:"text-muted-foreground",children:"This is a standalone item with no parent or children."})]})]})]})]}),e.jsxs(n,{children:[e.jsx(w,{children:e.jsx(D,{children:"Item Information"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(W,{className:"h-4 w-4 mr-2 text-muted-foreground"}),((N=s.creator)==null?void 0:N.name)||"Unknown"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(H,{className:"h-4 w-4 mr-2 text-muted-foreground"}),I(new Date(s.created_at),"PPP")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(X,{className:"h-4 w-4 mr-2 text-muted-foreground"}),I(new Date(s.updated_at),"PPP p")]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(t,{variant:"destructive",className:"w-full",onClick:x,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete Item"]})})]})]})]})]}),e.jsx(O,{open:T,onOpenChange:l,children:e.jsxs(q,{children:[e.jsxs(F,{children:[e.jsx(M,{children:"Are you sure?"}),e.jsxs(V,{children:["This will permanently delete the item",e.jsxs("span",{className:"font-semibold",children:[" ",s.name]}),". This action cannot be undone."]})]}),e.jsxs(z,{children:[e.jsx(R,{disabled:i,children:"Cancel"}),e.jsx(G,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}export{ke as default};
