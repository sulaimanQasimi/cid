import{m as F,j as e,L as b,$ as T}from"./app-D9EKp-j0.js";import{B as x}from"./button-C_lbOJaF.js";import{C as j,a as p,b as u,c as w,d as g,e as L}from"./card-CJ646PJT.js";import{I as c}from"./input-CDqmtBAl.js";import{L as r}from"./label-DFSxdoGP.js";import{T as q}from"./textarea-5qnh3CSk.js";import{P as D}from"./page-header-i4y0N3hM.js";import{I as n}from"./input-error-D4iMLVDS.js";import{S as l,a as o,b as m,c as h,d}from"./select-Cs4X5igs.js";import{S as R}from"./separator-Ppe11ntU.js";import{A as V}from"./app-layout-DLN7lXRp.js";import{A}from"./arrow-left-BcosiyJl.js";import{S as B}from"./save-BAhoOAMe.js";import"./index-BdHtEbnZ.js";import"./index--GEwVf8d.js";import"./index-BYrHusN6.js";import"./index-CEWyTXIf.js";import"./createLucideIcon-2sT-PLZR.js";import"./index-BrNC6hno.js";import"./check-C5q72oI5.js";import"./x-CUky7n0R.js";import"./index-DQJiO2ZR.js";import"./avatar-DJGRXLRL.js";import"./app-logo-zrypSq5u.js";import"./app-logo-icon-BTqQbP9x.js";import"./tag-B3sBBI3s.js";import"./file-text-J_QMBZXb.js";import"./qr-code-Bvz4OGpj.js";const k=[{title:"Incidents",href:route("incidents.index")},{title:"Create",href:route("incidents.create")}];function he({districts:_,categories:y,reports:N}){const{data:i,setData:t,post:C,processing:f,errors:a,reset:S}=F({title:"",description:"",incident_date:new Date().toISOString().split("T")[0],incident_time:"",district_id:"",incident_category_id:"",incident_report_id:"none",location:"",coordinates:"",casualties:"0",injuries:"0",incident_type:"",status:"reported"}),I=s=>{s.preventDefault(),{...i},C(route("incidents.store"),{onSuccess:()=>{}})};return e.jsxs(V,{breadcrumbs:k,children:[e.jsx(b,{title:"Create New Incident"}),e.jsx(D,{title:"Create New Incident",description:"Record details of a new security incident",actions:e.jsx(x,{variant:"outline",asChild:!0,children:e.jsxs(T,{href:route("incidents.index"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Back to Incidents"]})})}),e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(u,{children:"Basic Information"}),e.jsx(w,{children:"incident.label "})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"title",children:["Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(c,{id:"title",value:i.title,onChange:s=>t("title",s.target.value),placeholder:"Enter incident title",required:!0}),e.jsx(n,{message:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"incident_type",children:["Incident Type ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(c,{id:"incident_type",value:i.incident_type,onChange:s=>t("incident_type",s.target.value),placeholder:"e.g. Theft, Security Breach, Violence",required:!0}),e.jsx(n,{message:a.incident_type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(q,{id:"description",value:i.description,onChange:s=>t("description",s.target.value),placeholder:"Provide a detailed description of the incident",rows:5,required:!0}),e.jsx(n,{message:a.description})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"incident_date",children:["Date ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(c,{id:"incident_date",type:"date",value:i.incident_date,onChange:s=>t("incident_date",s.target.value),required:!0}),e.jsx(n,{message:a.incident_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"incident_time",children:"Time"}),e.jsx(c,{id:"incident_time",type:"time",value:i.incident_time,onChange:s=>t("incident_time",s.target.value)}),e.jsx(n,{message:a.incident_time})]})]})]})]}),e.jsxs(j,{children:[e.jsx(p,{children:e.jsx(u,{children:"Location & Classification"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"district_id",children:["District ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(l,{value:i.district_id,onValueChange:s=>t("district_id",s),required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select a district"})}),e.jsx(h,{children:_.map(s=>{var v;return e.jsxs(d,{value:s.id.toString(),children:[s.name," (",(v=s.province)==null?void 0:v.name,")"]},s.id)})})]}),e.jsx(n,{message:a.district_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"incident_category_id",children:["Category ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(l,{value:i.incident_category_id,onValueChange:s=>t("incident_category_id",s),required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select a category"})}),e.jsx(h,{children:y.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(n,{message:a.incident_category_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"location",children:"Specific Location"}),e.jsx(c,{id:"location",value:i.location,onChange:s=>t("location",s.target.value),placeholder:"e.g. Main Market, North Checkpoint"}),e.jsx(n,{message:a.location})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"coordinates",children:"Coordinates"}),e.jsx(c,{id:"coordinates",value:i.coordinates,onChange:s=>t("coordinates",s.target.value),placeholder:"e.g. 34.5553° N, 69.2075° E"}),e.jsx(n,{message:a.coordinates})]})]})]}),e.jsxs(j,{children:[e.jsx(p,{children:e.jsx(u,{children:"Impact & Status"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"casualties",children:"Casualties"}),e.jsx(c,{id:"casualties",type:"number",min:"0",value:i.casualties,onChange:s=>t("casualties",s.target.value)}),e.jsx(n,{message:a.casualties})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"injuries",children:"Injuries"}),e.jsx(c,{id:"injuries",type:"number",min:"0",value:i.injuries,onChange:s=>t("injuries",s.target.value)}),e.jsx(n,{message:a.injuries})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"status",children:["Status ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(l,{value:i.status,onValueChange:s=>t("status",s),required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select status"})}),e.jsxs(h,{children:[e.jsx(d,{value:"reported",children:"Reported"}),e.jsx(d,{value:"investigating",children:"Investigating"}),e.jsx(d,{value:"resolved",children:"Resolved"}),e.jsx(d,{value:"closed",children:"Closed"})]})]}),e.jsx(n,{message:a.status})]}),e.jsx(R,{className:"my-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"incident_report_id",children:"Assign to Report (Optional)"}),e.jsxs(l,{value:i.incident_report_id,onValueChange:s=>t("incident_report_id",s),children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select a report (optional)"})}),e.jsxs(h,{children:[e.jsx(d,{value:"none",children:"None"}),N.map(s=>e.jsx(d,{value:s.id.toString(),children:s.report_number},s.id))]})]}),e.jsx(n,{message:a.incident_report_id})]})]}),e.jsxs(L,{className:"flex justify-end space-x-2",children:[e.jsx(x,{variant:"outline",onClick:()=>S(),children:"Reset"}),e.jsxs(x,{type:"submit",disabled:f,children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Save Incident"]})]})]})]})]})}export{he as default};
